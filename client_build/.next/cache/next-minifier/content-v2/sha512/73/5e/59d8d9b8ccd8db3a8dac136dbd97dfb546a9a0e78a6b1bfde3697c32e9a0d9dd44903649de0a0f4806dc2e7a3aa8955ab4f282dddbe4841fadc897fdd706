{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{SvrD:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return W})),n.d(t,\"c\",(function(){return Z})),n.d(t,\"a\",(function(){return Y}));var r=n(\"o0o1\"),a=n.n(r),o=n(\"KQm4\"),c=n(\"HaE+\"),i=n(\"q1tI\"),l=n.n(i),u=n(\"nOHt\"),s=n.n(u),d=n(\"U81q\"),p=n(\"R99l\"),m=n(\"VD++\"),g=n(\"de8u\"),v=n(\"wx14\"),b=n(\"Ff2n\"),f=(n(\"TOwV\"),n(\"17x9\"),n(\"iuhU\")),y=n(\"H2TA\"),h=n(\"ofer\"),x=n(\"ye/S\"),O=n(\"5AJ6\"),j=Object(O.a)(i.createElement(\"path\",{d:\"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"}),\"MoreHoriz\");var C=Object(y.a)((function(e){return{root:{display:\"flex\",marginLeft:e.spacing(.5),marginRight:e.spacing(.5),backgroundColor:e.palette.grey[100],color:e.palette.grey[700],borderRadius:2,cursor:\"pointer\",\"&:hover, &:focus\":{backgroundColor:e.palette.grey[200]},\"&:active\":{boxShadow:e.shadows[0],backgroundColor:Object(x.b)(e.palette.grey[200],.12)}},icon:{width:24,height:16}}}),{name:\"PrivateBreadcrumbCollapsed\"})((function(e){var t=e.classes,n=Object(b.a)(e,[\"classes\"]);return i.createElement(m.a,Object(v.a)({component:\"li\",className:t.root,focusRipple:!0},n),i.createElement(j,{className:t.icon}))}));var w=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,c=e.component,l=void 0===c?\"nav\":c,u=e.expandText,s=void 0===u?\"Show path\":u,d=e.itemsAfterCollapse,p=void 0===d?1:d,m=e.itemsBeforeCollapse,g=void 0===m?1:m,y=e.maxItems,x=void 0===y?8:y,O=e.separator,j=void 0===O?\"/\":O,w=Object(b.a)(e,[\"children\",\"classes\",\"className\",\"component\",\"expandText\",\"itemsAfterCollapse\",\"itemsBeforeCollapse\",\"maxItems\",\"separator\"]),k=i.useState(!1),I=k[0],L=k[1],N=i.Children.toArray(n).filter((function(e){return i.isValidElement(e)})).map((function(e,t){return i.createElement(\"li\",{className:r.li,key:\"child-\".concat(t)},e)}));return i.createElement(h.a,Object(v.a)({ref:t,component:l,color:\"textSecondary\",className:Object(f.a)(r.root,a)},w),i.createElement(\"ol\",{className:r.ol},function(e,t,n){return e.reduce((function(r,a,o){return o<e.length-1?r=r.concat(a,i.createElement(\"li\",{\"aria-hidden\":!0,key:\"separator-\".concat(o),className:t},n)):r.push(a),r}),[])}(I||x&&N.length<=x?N:function(e){return g+p>=e.length?e:[].concat(Object(o.a)(e.slice(0,g)),[i.createElement(C,{\"aria-label\":s,key:\"ellipsis\",onClick:function(e){L(!0);var t=e.currentTarget.parentNode.querySelector(\"a[href],button,[tabindex]\");t&&t.focus()}})],Object(o.a)(e.slice(e.length-p,e.length)))}(N),r.separator,j)))})),k=Object(y.a)({root:{},ol:{display:\"flex\",flexWrap:\"wrap\",alignItems:\"center\",padding:0,margin:0,listStyle:\"none\"},li:{},separator:{display:\"flex\",userSelect:\"none\",marginLeft:8,marginRight:8}},{name:\"MuiBreadcrumbs\"})(w),I=n(\"NqtD\"),L=n(\"G7As\"),N=n(\"bfFb\"),T=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.color,o=void 0===a?\"primary\":a,c=e.component,l=void 0===c?\"a\":c,u=e.onBlur,s=e.onFocus,d=e.TypographyClasses,p=e.underline,m=void 0===p?\"hover\":p,g=e.variant,y=void 0===g?\"inherit\":g,x=Object(b.a)(e,[\"classes\",\"className\",\"color\",\"component\",\"onBlur\",\"onFocus\",\"TypographyClasses\",\"underline\",\"variant\"]),O=Object(L.a)(),j=O.isFocusVisible,C=O.onBlurVisible,w=O.ref,k=i.useState(!1),T=k[0],q=k[1],E=Object(N.a)(t,w);return i.createElement(h.a,Object(v.a)({className:Object(f.a)(n.root,n[\"underline\".concat(Object(I.a)(m))],r,T&&n.focusVisible,\"button\"===l&&n.button),classes:d,color:o,component:l,onBlur:function(e){T&&(C(),q(!1)),u&&u(e)},onFocus:function(e){j(e)&&q(!0),s&&s(e)},ref:E,variant:y},x))})),q=Object(y.a)({root:{},underlineNone:{textDecoration:\"none\"},underlineHover:{textDecoration:\"none\",\"&:hover\":{textDecoration:\"underline\"}},underlineAlways:{textDecoration:\"underline\"},button:{position:\"relative\",WebkitTapHighlightColor:\"transparent\",backgroundColor:\"transparent\",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:\"pointer\",userSelect:\"none\",verticalAlign:\"middle\",\"-moz-appearance\":\"none\",\"-webkit-appearance\":\"none\",\"&::-moz-focus-inner\":{borderStyle:\"none\"},\"&$focusVisible\":{outline:\"auto\"}},focusVisible:{}},{name:\"MuiLink\"})(T),E=n(\"cBzo\"),B=n(\"B42p\"),S=n(\"i7FU\"),R=n(\"Z3gB\"),_=n(\"+/yG\"),D=n(\"vOnD\"),P=n(\"LXXt\"),A=n(\"Oj7+\"),F=n(\"oxxF\"),z=n(\"+vfP\"),H=l.a.createElement,V=function(){return H(\"div\",{style:{textAlign:\"center\"}},Object(z.a)(\"\\u6682\\u65e0\\u6570\\u636e\"))},M=n(\"4Rmy\"),U=n(\"vo3K\"),G=n(\"LIvt\"),J=n(\"+CC5\"),K=l.a.createElement,W=Object(_.c)(\"CategoryPage\",{productList:[],categoryList:[],actCatId:\"\"},{getProductList:function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,i,l,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.query(S.b.productsInCategory,{data:t.categoryItemInput,productItemInput:t.productItemInput});case 2:u=e.sent,n.setData(Object(E.g)({productList:null!==(r=null===u||void 0===u||null===(c=u.productsInCategory)||void 0===c?void 0:c.list)&&void 0!==r?r:[],categoryList:Object(o.a)(null!==(i=null===u||void 0===u||null===(l=u.categoryList)||void 0===l?void 0:l.list)&&void 0!==i?i:[])}));case 4:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),changeActCatId:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setData(Object(E.g)({actCatId:null!==t&&void 0!==t?t:\"\"}));case 1:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),X=Object(D.a)(\"div\").withConfig({displayName:\"id__Box\",componentId:\"qp4xb8-0\"})([\"padding:18px 20px 0;> header{font-size:18px;font-weight:bold;margin:10px 0;}\"]),Q=Object(D.a)(m.a).withConfig({displayName:\"id__CategoryItemStyle\",componentId:\"qp4xb8-1\"})([\"&&&{width:100%;height:60px;display:flex;border-radius:8px;overflow:hidden;margin-bottom:10px;background:\",\";> img{height:100%;width:70%;}> span{flex:1;color:#fff;display:flex;align-items:center;justify-content:center;}}\"],P.a[700]),Z=Object(_.c)(\"categoryItemModel\",{test:\"\",category:{}},{calcCatLevel:function(e,t){var n;return function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(null===t||void 0===t?void 0:t.parentCategory)&&(null===t||void 0===t||null===(n=t.parentCategory)||void 0===n?void 0:n.id)!==M.c?e(null===t||void 0===t?void 0:t.parentCategory,r+1):r}(null===(n=t.data)||void 0===n?void 0:n.category)},getLevel:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.query(S.b.categoryLevel,{data:t});case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getCategory:function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.query(S.b.categoryRootParent,{categoryItemInput:t});case 2:return o=e.sent,n.setData(Object(E.g)({category:null!==(r=null===o||void 0===o?void 0:o.categoryRootParent)&&void 0!==r?r:{}})),e.abrupt(\"return\",null===o||void 0===o?void 0:o.categoryRootParent);case 5:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),$=D.a.div.withConfig({displayName:\"id__ListBox\",componentId:\"qp4xb8-2\"})([\"display:grid;grid-template-columns:repeat(\",\",1fr);grid-gap:16px;\"],(function(e){return e.columns||2})),Y=function(){var e,t,n,r,o,m=Object(u.useRouter)(),v=null!==(e=null===(t=m.query)||void 0===t?void 0:t.id)&&void 0!==e?e:\"\",b=Object(d.b)(W),f=b.state,y=b.actions,x=b.getLoad,O=Object(d.b)(Z),j=O.actions,C=O.state,w=Object(d.b)(J.b),I=w.state,L=w.actions;Object(i.useEffect)((function(){var e;L.setHomeType(null!==(e=m.query.homeType)&&void 0!==e?e:G.b.home)}),[m.query.homeType]);return Object(i.useEffect)((function(){v&&(y.getProductList({categoryItemInput:{id:v},productItemInput:{isGroup:m.query.homeType===G.b.group?1:0}}),j.getCategory({id:v}))}),[v]),K(\"div\",null,K(B.a,{title:\"\",showCart:m.query.homeType===G.b.home,showSearch:!0}),!!x(S.b.productsInCategory)&&K(g.a,null),K(k,{style:{margin:\"8px 0 0 8px\"},separator:\"\\u203a\",\"aria-label\":\"breadcrumb\"},[null===(n=C.category)||void 0===n||null===(r=n.parentCategory)||void 0===r?void 0:r.parentCategory,null===(o=C.category)||void 0===o?void 0:o.parentCategory].filter((function(e){return!!(null===e||void 0===e?void 0:e.name)&&(null===e||void 0===e?void 0:e.name)!==M.c})).map((function(e){return K(q,{key:\"Breadcrumbs\".concat(null===e||void 0===e?void 0:e.id),color:\"inherit\",href:\"#\",onClick:Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(E.d)({homeType:m.query.homeType}),t.next=3,s.a.push(\"/m/category/[id]\".concat(n),\"/m/category/\".concat(null===e||void 0===e?void 0:e.id).concat(n));case 3:case\"end\":return t.stop()}}),t)})))},null===e||void 0===e?void 0:e.name)})),K(h.a,{color:\"textPrimary\"},C.category.name)),K(R.a,{boxHeight:\"calc(100vh - 60px)\"},K(X,null,0===f.categoryList.length&&0===f.productList.length&&K(V,null)||K(l.a.Fragment,null,f.categoryList.map((function(e){return K(Q,{key:\"CategoryItem_\".concat((t=e).id),onClick:Object(c.a)(a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(E.d)({homeType:m.query.homeType}),e.next=3,j.getLevel({id:t.id});case 3:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=7;break}e.t0=void 0===n;case 7:if(!e.t0){e.next=11;break}e.t2=void 0,e.next=12;break;case 11:e.t2=n.categoryLevel;case 12:if(e.t3=e.t2,3!==e.t3){e.next=18;break}return e.next=16,s.a.push(\"/m/productList/[id]\".concat(r),\"/m/productList/\".concat(t.id).concat(r));case 16:e.next=20;break;case 18:return e.next=20,s.a.push(\"/m/category/[id]\".concat(r),\"/m/category/\".concat(t.id).concat(r));case 20:case\"end\":return e.stop()}}),e)})))},K(\"img\",{src:Object(A.a)(t.imgUrl),alt:\"\"}),K(\"span\",null,t.name,K(p.a,null)));var t})),K(\"header\",null,Object(z.a)(\"\\u70ed\\u95e8\\u63a8\\u8350\")),0===f.productList.length&&K(V,null),K($,{columns:I.homeType===G.b.group?1:2},f.productList.map((function(e){return I.homeType===G.b.group&&K(F.a,{product:e,key:\"ProductItem_\".concat(e.id)})||K(F.b,{key:\"ProductItem_\".concat(e.id),product:e})})))))),K(U.a,null))}}}]);","extractedComments":[]}