{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\code\\\\zw\\\\zw_client_web\\\\utils\\\\components\\\\BScroll\\\\BScroller.tsx\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useRef } from 'react';\nimport BetterScroll from 'better-scroll';\nimport { useStoreModel } from '../../ModelAction/useStore';\nimport { fpMergePre } from '../../tools/utils';\nimport { modelFactory } from '../../ModelAction/modelUtil';\nexport var bScrollModel = modelFactory('bScrollModel', {\n  scroll: {}\n}, {\n  setScroll: function setScroll(value, option) {\n    option.setData(fpMergePre({\n      scroll: value\n    }));\n  }\n});\nexport var BScroller = function BScroller(_ref) {\n  _s();\n\n  var isX = _ref.isX,\n      children = _ref.children,\n      boxHeight = _ref.boxHeight,\n      boxWidth = _ref.boxWidth;\n\n  var _useStoreModel = useStoreModel(bScrollModel),\n      bsState = _useStoreModel.state,\n      bsActions = _useStoreModel.actions;\n\n  var scrollRef = useRef(null);\n  useEffect(function () {\n    // @ts-ignore\n    var scroll = new BetterScroll(scrollRef.current, _objectSpread(_objectSpread({\n      click: true,\n      scrollY: true\n    }, isX ? {\n      screenX: true,\n      scrollY: false\n    } : {}), {}, {\n      taps: true,\n      preventDefaultException: {\n        tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/,\n        className: /(^|\\s).*(MuiTextField-root|MuiSelect-select).*(\\s|$)/\n      }\n    }));\n    bsActions.setScroll(scroll);\n    return function () {\n      scroll.stop();\n      scroll.destroy();\n    };\n  }, []);\n  return __jsx(\"div\", {\n    ref: scrollRef,\n    className: _JSXStyle.dynamic([[\"3040993115\", [boxHeight || '100vh', isX && boxWidth ? \"\".concat(boxWidth) : 'auto']]]) + \" \" + 'box',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3040993115\", [boxHeight || '100vh', isX && boxWidth ? \"\".concat(boxWidth) : 'auto']]]),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, children), __jsx(_JSXStyle, {\n    id: \"3040993115\",\n    dynamic: [boxHeight || '100vh', isX && boxWidth ? \"\".concat(boxWidth) : 'auto'],\n    __self: _this\n  }, \".box.__jsx-style-dynamic-selector{height:\".concat(boxHeight || '100vh', \";width:\").concat(isX && boxWidth ? \"\".concat(boxWidth) : 'auto', \";overflow:hidden;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxjb2RlXFx6d1xcendfY2xpZW50X3dlYlxcdXRpbHNcXGNvbXBvbmVudHNcXEJTY3JvbGxcXEJTY3JvbGxlci50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBOENvQixBQUV1QyxvQ0FDRCxtQ0FDbkIsZ0JBQUMiLCJmaWxlIjoiRDpcXGNvZGVcXHp3XFx6d19jbGllbnRfd2ViXFx1dGlsc1xcY29tcG9uZW50c1xcQlNjcm9sbFxcQlNjcm9sbGVyLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge3VzZUVmZmVjdCwgdXNlUmVmfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IEJldHRlclNjcm9sbCBmcm9tICdiZXR0ZXItc2Nyb2xsJ1xyXG5pbXBvcnQge3VzZVN0b3JlTW9kZWx9IGZyb20gJy4uLy4uL01vZGVsQWN0aW9uL3VzZVN0b3JlJ1xyXG5pbXBvcnQge2ZwTWVyZ2VQcmV9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzJ1xyXG5pbXBvcnQge21vZGVsRmFjdG9yeX0gZnJvbSAnLi4vLi4vTW9kZWxBY3Rpb24vbW9kZWxVdGlsJ1xyXG5cclxuZXhwb3J0IGNvbnN0IGJTY3JvbGxNb2RlbCA9IG1vZGVsRmFjdG9yeSgnYlNjcm9sbE1vZGVsJywge1xyXG4gIHNjcm9sbDoge30gYXMgYW55LFxyXG59LCB7XHJcbiAgc2V0U2Nyb2xsOiAodmFsdWUsIG9wdGlvbikgPT4ge1xyXG4gICAgb3B0aW9uLnNldERhdGEoZnBNZXJnZVByZSh7XHJcbiAgICAgIHNjcm9sbDogdmFsdWUsXHJcbiAgICB9KSlcclxuICB9LFxyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IEJTY3JvbGxlciA9ICh7aXNYLCBjaGlsZHJlbiwgYm94SGVpZ2h0LCBib3hXaWR0aH06IHsgY2hpbGRyZW4/OiBhbnksIGJveEhlaWdodD86IGFueSwgYm94V2lkdGg/OiBhbnksIGlzWD86IGJvb2xlYW4gfSkgPT4ge1xyXG4gIGNvbnN0IHtzdGF0ZTogYnNTdGF0ZSwgYWN0aW9uczogYnNBY3Rpb25zfSA9IHVzZVN0b3JlTW9kZWwoYlNjcm9sbE1vZGVsKVxyXG4gIGNvbnN0IHNjcm9sbFJlZiA9IHVzZVJlZihudWxsKVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBzY3JvbGwgPSBuZXcgQmV0dGVyU2Nyb2xsKHNjcm9sbFJlZi5jdXJyZW50LCB7XHJcbiAgICAgIGNsaWNrOiB0cnVlLFxyXG4gICAgICBzY3JvbGxZOiB0cnVlLFxyXG4gICAgICAuLi4oaXNYID8ge1xyXG4gICAgICAgIHNjcmVlblg6IHRydWUsXHJcbiAgICAgICAgc2Nyb2xsWTogZmFsc2UsXHJcbiAgICAgIH0gOiB7fSksXHJcbiAgICAgIHRhcHM6IHRydWUsXHJcbiAgICAgIHByZXZlbnREZWZhdWx0RXhjZXB0aW9uOiB7XHJcbiAgICAgICAgdGFnTmFtZTogL14oSU5QVVR8VEVYVEFSRUF8QlVUVE9OfFNFTEVDVCkkLyxcclxuICAgICAgICBjbGFzc05hbWU6IC8oXnxcXHMpLiooTXVpVGV4dEZpZWxkLXJvb3R8TXVpU2VsZWN0LXNlbGVjdCkuKihcXHN8JCkvLFxyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICAgIGJzQWN0aW9ucy5zZXRTY3JvbGwoc2Nyb2xsKVxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgc2Nyb2xsLnN0b3AoKVxyXG4gICAgICBzY3JvbGwuZGVzdHJveSgpXHJcbiAgICB9XHJcbiAgfSwgW10pXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICAgIDxkaXZcclxuICAgICAgICAgIHJlZj17c2Nyb2xsUmVmfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPXsnYm94J30+XHJcbiAgICAgICAgPGRpdj57Y2hpbGRyZW59PC9kaXY+XHJcbiAgICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgICAgLmJveCB7XHJcbiAgICAgICAgICAgIGhlaWdodDogJHtib3hIZWlnaHQgfHwgJzEwMHZoJ307XHJcbiAgICAgICAgICAgIHdpZHRoOiAkeyhpc1ggJiYgYm94V2lkdGgpID8gYCR7Ym94V2lkdGh9YCA6ICdhdXRvJyB9O1xyXG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcbiJdfQ== */\\n/*@ sourceURL=D:\\\\\\\\code\\\\\\\\zw\\\\\\\\zw_client_web\\\\\\\\utils\\\\\\\\components\\\\\\\\BScroll\\\\\\\\BScroller.tsx */\")));\n};\n\n_s(BScroller, \"umL+v+HkPl2pV6cUl6WLxuikWAY=\", false, function () {\n  return [useStoreModel];\n});\n\n_c = BScroller;\n\nvar _c;\n\n$RefreshReg$(_c, \"BScroller\");","map":{"version":3,"sources":["D:/code/zw/zw_client_web/utils/components/BScroll/BScroller.tsx"],"names":["React","useEffect","useRef","BetterScroll","useStoreModel","fpMergePre","modelFactory","bScrollModel","scroll","setScroll","value","option","setData","BScroller","isX","children","boxHeight","boxWidth","bsState","state","bsActions","actions","scrollRef","current","click","scrollY","screenX","taps","preventDefaultException","tagName","className","stop","destroy"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,MAA1B,QAAuC,OAAvC;AACA,OAAOC,YAAP,MAAyB,eAAzB;AACA,SAAQC,aAAR,QAA4B,4BAA5B;AACA,SAAQC,UAAR,QAAyB,mBAAzB;AACA,SAAQC,YAAR,QAA2B,6BAA3B;AAEA,OAAO,IAAMC,YAAY,GAAGD,YAAY,CAAC,cAAD,EAAiB;AACvDE,EAAAA,MAAM,EAAE;AAD+C,CAAjB,EAErC;AACDC,EAAAA,SAAS,EAAE,mBAACC,KAAD,EAAQC,MAAR,EAAmB;AAC5BA,IAAAA,MAAM,CAACC,OAAP,CAAeP,UAAU,CAAC;AACxBG,MAAAA,MAAM,EAAEE;AADgB,KAAD,CAAzB;AAGD;AALA,CAFqC,CAAjC;AAUP,OAAO,IAAMG,SAAS,GAAG,SAAZA,SAAY,OAA8G;AAAA;;AAAA,MAA5GC,GAA4G,QAA5GA,GAA4G;AAAA,MAAvGC,QAAuG,QAAvGA,QAAuG;AAAA,MAA7FC,SAA6F,QAA7FA,SAA6F;AAAA,MAAlFC,QAAkF,QAAlFA,QAAkF;;AAAA,uBACxFb,aAAa,CAACG,YAAD,CAD2E;AAAA,MACvHW,OADuH,kBAC9HC,KAD8H;AAAA,MACrGC,SADqG,kBAC9GC,OAD8G;;AAErI,MAAMC,SAAS,GAAGpB,MAAM,CAAC,IAAD,CAAxB;AACAD,EAAAA,SAAS,CAAC,YAAM;AACd;AACA,QAAMO,MAAM,GAAG,IAAIL,YAAJ,CAAiBmB,SAAS,CAACC,OAA3B;AACbC,MAAAA,KAAK,EAAE,IADM;AAEbC,MAAAA,OAAO,EAAE;AAFI,OAGTX,GAAG,GAAG;AACRY,MAAAA,OAAO,EAAE,IADD;AAERD,MAAAA,OAAO,EAAE;AAFD,KAAH,GAGH,EANS;AAObE,MAAAA,IAAI,EAAE,IAPO;AAQbC,MAAAA,uBAAuB,EAAE;AACvBC,QAAAA,OAAO,EAAE,kCADc;AAEvBC,QAAAA,SAAS,EAAE;AAFY;AARZ,OAAf;AAaAV,IAAAA,SAAS,CAACX,SAAV,CAAoBD,MAApB;AACA,WAAO,YAAM;AACXA,MAAAA,MAAM,CAACuB,IAAP;AACAvB,MAAAA,MAAM,CAACwB,OAAP;AACD,KAHD;AAID,GApBQ,EAoBN,EApBM,CAAT;AAsBA,SACI;AACI,IAAA,GAAG,EAAEV,SADT;AAAA,kDAMgBN,SAAS,IAAI,OAN7B,EAOgBF,GAAG,IAAIG,QAAR,aAAuBA,QAAvB,IAAoC,MAPnD,aAEe,KAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGE;AAAA,kDAGcD,SAAS,IAAI,OAH3B,EAIcF,GAAG,IAAIG,QAAR,aAAuBA,QAAvB,IAAoC,MAJjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMF,QAAN,CAHF;AAAA;AAAA,cAMgBC,SAAS,IAAI,OAN7B,EAOgBF,GAAG,IAAIG,QAAR,aAAuBA,QAAvB,IAAoC,MAPnD;AAAA;AAAA,wDAMgBD,SAAS,IAAI,OAN7B,oBAOgBF,GAAG,IAAIG,QAAR,aAAuBA,QAAvB,IAAoC,MAPnD,qwFADJ;AAcD,CAvCM;;GAAMJ,S;UACkCT,a;;;KADlCS,S","sourcesContent":["import React, {useEffect, useRef} from 'react'\r\nimport BetterScroll from 'better-scroll'\r\nimport {useStoreModel} from '../../ModelAction/useStore'\r\nimport {fpMergePre} from '../../tools/utils'\r\nimport {modelFactory} from '../../ModelAction/modelUtil'\r\n\r\nexport const bScrollModel = modelFactory('bScrollModel', {\r\n  scroll: {} as any,\r\n}, {\r\n  setScroll: (value, option) => {\r\n    option.setData(fpMergePre({\r\n      scroll: value,\r\n    }))\r\n  },\r\n})\r\n\r\nexport const BScroller = ({isX, children, boxHeight, boxWidth}: { children?: any, boxHeight?: any, boxWidth?: any, isX?: boolean }) => {\r\n  const {state: bsState, actions: bsActions} = useStoreModel(bScrollModel)\r\n  const scrollRef = useRef(null)\r\n  useEffect(() => {\r\n    // @ts-ignore\r\n    const scroll = new BetterScroll(scrollRef.current, {\r\n      click: true,\r\n      scrollY: true,\r\n      ...(isX ? {\r\n        screenX: true,\r\n        scrollY: false,\r\n      } : {}),\r\n      taps: true,\r\n      preventDefaultException: {\r\n        tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/,\r\n        className: /(^|\\s).*(MuiTextField-root|MuiSelect-select).*(\\s|$)/,\r\n      },\r\n    })\r\n    bsActions.setScroll(scroll)\r\n    return () => {\r\n      scroll.stop()\r\n      scroll.destroy()\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n      <div\r\n          ref={scrollRef}\r\n          className={'box'}>\r\n        <div>{children}</div>\r\n        <style jsx>{`\r\n          .box {\r\n            height: ${boxHeight || '100vh'};\r\n            width: ${(isX && boxWidth) ? `${boxWidth}` : 'auto' };\r\n            overflow: hidden;\r\n          }\r\n        `}</style>\r\n      </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}