{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\zw\\\\zw_client_web\\\\utils\\\\view\\\\pay\\\\index.tsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Head from 'next/head';\nimport { ls } from '../../tools/dealKey';\nexport const Pay = () => {\n  // @ts-ignore\n  const paymentForm = new SqPaymentForm({\n    // Initialize the payment form elements\n    applicationId: \"sandbox-sq0idb-42FQ7wGBwzibToRM9_zdFw\",\n    inputClass: 'sq-input',\n    autoBuild: false,\n    // Customize the CSS for SqPaymentForm iframe elements\n    inputStyles: [{\n      fontSize: '16px',\n      lineHeight: '24px',\n      padding: '16px',\n      placeholderColor: '#a0a0a0',\n      backgroundColor: 'transparent'\n    }],\n    // Initialize the credit card placeholders\n    cardNumber: {\n      elementId: 'sq-card-number',\n      placeholder: 'Card Number'\n    },\n    cvv: {\n      elementId: 'sq-cvv',\n      placeholder: 'CVV'\n    },\n    expirationDate: {\n      elementId: 'sq-expiration-date',\n      placeholder: 'MM/YY'\n    },\n    postalCode: {\n      elementId: 'sq-postal-code',\n      placeholder: 'Postal'\n    },\n    // SqPaymentForm callback functions\n    callbacks: {\n      /*\r\n      * callback function: cardNonceResponseReceived\r\n      * Triggered when: SqPaymentForm completes a card nonce request\r\n      */\n      cardNonceResponseReceived: function (errors, nonce, cardData) {\n        if (errors) {\n          // Log errors from nonce generation to the browser developer console.\n          console.error('Encountered errors:');\n          errors.forEach(function (error) {\n            console.error('  ' + error.message);\n          });\n          alert('Encountered errors, check browser developer console for more details');\n          return;\n        } // alert(`The generated nonce is:\\n${nonce}`)\n\n\n        fetch('process-payment', {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            nonce: nonce\n          })\n        }).catch(err => {\n          alert('Network error: ' + err);\n        }).then(response => {\n          if (!response.ok) {\n            return response.json().then(errorInfo => Promise.reject(errorInfo)); //UPDATE HERE\n          }\n\n          return response.json(); //UPDATE HERE\n        }).then(data => {\n          console.log(data); //UPDATE HERE\n\n          alert('Payment complete successfully!\\nCheck browser developer console for more details');\n        }).catch(err => {\n          console.error(err);\n          alert('Payment failed to complete!\\nCheck browser developer console for more details');\n        });\n      }\n    }\n  });\n  paymentForm.build(); // onGetCardNonce is triggered when the \"Pay $1.00\" button is clicked\n\n  function onGetCardNonce(event) {\n    // Don't submit the form until SqPaymentForm returns with a nonce\n    event.preventDefault(); // Request a nonce from the SqPaymentForm object\n\n    paymentForm.requestCardNonce();\n  }\n\n  return __jsx(\"div\", {\n    className: \"jsx-569710452\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 10\n    }\n  }, __jsx(_JSXStyle, {\n    id: \"569710452\",\n    __self: this\n  }, \"l *.jsx-569710452{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}l body.jsx-569710452,l html.jsx-569710452{background-color:#F7F8F9;color:#373F4A;font-family:\\\"Helvetica Neue\\\",Helvetica,Arial,sans-serif;font-weight:normal;height:100%;}l button.jsx-569710452{border:0;font-weight:500;}l fieldset.jsx-569710452{margin:0;padding:0;border:0;}l #form-container.jsx-569710452{position:relative;width:118.75vw;margin:0 auto;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);}l .third.jsx-569710452{float:left;width:calc((100% - 10vw) / 3);padding:0;margin:0 5vw 5vw 0;}l .third.jsx-569710452:last-of-type{margin-right:0;}l .sq-input.jsx-569710452{height:17.5vw;box-sizing:border-box;border:1px solid #E0E2E3;background-color:white;border-radius:1.875vw;display:inline-block;-webkit-transition:border-color .2s ease-in-out;transition:border-color .2s ease-in-out;}l .sq-input--focus.jsx-569710452{border:1px solid #4A90E2;}l .sq-input--error.jsx-569710452{border:1px solid #E02F2F;}l #sq-card-number.jsx-569710452{margin-bottom:5vw;}l .button-credit-card.jsx-569710452{width:100%;height:17.5vw;margin-top:3.125vw;background:#4A90E2;border-radius:1.875vw;cursor:pointer;display:block;color:#FFFFFF;font-size:5vw;line-height:7.5vw;font-weight:700;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;text-align:center;-webkit-transition:background .2s ease-in-out;transition:background .2s ease-in-out;}l .button-credit-card.jsx-569710452:hover{background-color:#4281CB;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxjb2RlXFx6d1xcendfY2xpZW50X3dlYlxcdXRpbHNcXHZpZXdcXHBheVxcaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQThGZ0IsQUFPd0MsQUFHVixBQU1oQixBQUdBLEFBSVMsQUFNUCxBQUtJLEFBRUQsQUFRVyxBQUVBLEFBRVAsQUFFUCxBQWVjLFNBaERULEFBR04sRUFVb0IsQUFxQmhCLEdBZFEsQ0FITixHQVZELEFBd0JJLENBM0JWLE1BVkssQUFNRyxBQTJCUyxBQUVBLEFBTVAsQUFhTyxHQTVDaEIsS0FJSSxFQWpCb0IsQ0E4QlQsR0ExQmtDLEVBbUJqRCxHQXNCUyxHQTNCWCxJQU1XLElBTFEsTUFZSixFQWVELE1BOUNhLENBd0JmLGNBUUUsQ0FlUCxVQTFDSSxLQTJDTCxNQWZPLFFBM0JULEFBMkNFLFlBM0NELENBNEIyQixDQWdCMUIsY0FDSSxNQWhDVSxZQWlDWixnQkFDQyx1Q0FuQndCLDhDQW9CdkIsa0JBQ29CLG9GQUFDIiwiZmlsZSI6IkQ6XFxjb2RlXFx6d1xcendfY2xpZW50X3dlYlxcdXRpbHNcXHZpZXdcXHBheVxcaW5kZXgudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnXHJcbmltcG9ydCB7bHN9IGZyb20gJy4uLy4uL3Rvb2xzL2RlYWxLZXknXHJcblxyXG5leHBvcnQgY29uc3QgUGF5ID0gKCkgPT4ge1xyXG4gIC8vIEB0cy1pZ25vcmVcclxuICBjb25zdCBwYXltZW50Rm9ybSA9IG5ldyBTcVBheW1lbnRGb3JtKHtcclxuICAgIC8vIEluaXRpYWxpemUgdGhlIHBheW1lbnQgZm9ybSBlbGVtZW50c1xyXG4gICAgYXBwbGljYXRpb25JZDogXCJzYW5kYm94LXNxMGlkYi00MkZRN3dHQnd6aWJUb1JNOV96ZEZ3XCIsXHJcbiAgICBpbnB1dENsYXNzOiAnc3EtaW5wdXQnLFxyXG4gICAgYXV0b0J1aWxkOiBmYWxzZSxcclxuICAgIC8vIEN1c3RvbWl6ZSB0aGUgQ1NTIGZvciBTcVBheW1lbnRGb3JtIGlmcmFtZSBlbGVtZW50c1xyXG4gICAgaW5wdXRTdHlsZXM6IFt7XHJcbiAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgIGxpbmVIZWlnaHQ6ICcyNHB4JyxcclxuICAgICAgcGFkZGluZzogJzE2cHgnLFxyXG4gICAgICBwbGFjZWhvbGRlckNvbG9yOiAnI2EwYTBhMCcsXHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcclxuICAgIH1dLFxyXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgY3JlZGl0IGNhcmQgcGxhY2Vob2xkZXJzXHJcbiAgICBjYXJkTnVtYmVyOiB7XHJcbiAgICAgIGVsZW1lbnRJZDogJ3NxLWNhcmQtbnVtYmVyJyxcclxuICAgICAgcGxhY2Vob2xkZXI6ICdDYXJkIE51bWJlcicsXHJcbiAgICB9LFxyXG4gICAgY3Z2OiB7XHJcbiAgICAgIGVsZW1lbnRJZDogJ3NxLWN2dicsXHJcbiAgICAgIHBsYWNlaG9sZGVyOiAnQ1ZWJyxcclxuICAgIH0sXHJcbiAgICBleHBpcmF0aW9uRGF0ZToge1xyXG4gICAgICBlbGVtZW50SWQ6ICdzcS1leHBpcmF0aW9uLWRhdGUnLFxyXG4gICAgICBwbGFjZWhvbGRlcjogJ01NL1lZJyxcclxuICAgIH0sXHJcbiAgICBwb3N0YWxDb2RlOiB7XHJcbiAgICAgIGVsZW1lbnRJZDogJ3NxLXBvc3RhbC1jb2RlJyxcclxuICAgICAgcGxhY2Vob2xkZXI6ICdQb3N0YWwnLFxyXG4gICAgfSxcclxuICAgIC8vIFNxUGF5bWVudEZvcm0gY2FsbGJhY2sgZnVuY3Rpb25zXHJcbiAgICBjYWxsYmFja3M6IHtcclxuICAgICAgLypcclxuICAgICAgKiBjYWxsYmFjayBmdW5jdGlvbjogY2FyZE5vbmNlUmVzcG9uc2VSZWNlaXZlZFxyXG4gICAgICAqIFRyaWdnZXJlZCB3aGVuOiBTcVBheW1lbnRGb3JtIGNvbXBsZXRlcyBhIGNhcmQgbm9uY2UgcmVxdWVzdFxyXG4gICAgICAqL1xyXG4gICAgICBjYXJkTm9uY2VSZXNwb25zZVJlY2VpdmVkOiBmdW5jdGlvbiAoZXJyb3JzOiBhbnksIG5vbmNlOiBhbnksIGNhcmREYXRhOiBhbnkpIHtcclxuICAgICAgICBpZiAoZXJyb3JzKSB7XHJcbiAgICAgICAgICAvLyBMb2cgZXJyb3JzIGZyb20gbm9uY2UgZ2VuZXJhdGlvbiB0byB0aGUgYnJvd3NlciBkZXZlbG9wZXIgY29uc29sZS5cclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VuY291bnRlcmVkIGVycm9yczonKVxyXG4gICAgICAgICAgZXJyb3JzLmZvckVhY2goZnVuY3Rpb24gKGVycm9yOiBhbnkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignICAnICsgZXJyb3IubWVzc2FnZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICBhbGVydCgnRW5jb3VudGVyZWQgZXJyb3JzLCBjaGVjayBicm93c2VyIGRldmVsb3BlciBjb25zb2xlIGZvciBtb3JlIGRldGFpbHMnKVxyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFsZXJ0KGBUaGUgZ2VuZXJhdGVkIG5vbmNlIGlzOlxcbiR7bm9uY2V9YClcclxuICAgICAgICBmZXRjaCgncHJvY2Vzcy1wYXltZW50Jywge1xyXG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICBub25jZTogbm9uY2UsXHJcbiAgICAgICAgICB9KSxcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICBhbGVydCgnTmV0d29yayBlcnJvcjogJyArIGVycilcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLnRoZW4oKGVycm9ySW5mbzogYW55KSA9PiBQcm9taXNlLnJlamVjdChlcnJvckluZm8pKSAvL1VQREFURSBIRVJFXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgLy9VUERBVEUgSEVSRVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKSAvL1VQREFURSBIRVJFXHJcbiAgICAgICAgICAgICAgYWxlcnQoJ1BheW1lbnQgY29tcGxldGUgc3VjY2Vzc2Z1bGx5IVxcbkNoZWNrIGJyb3dzZXIgZGV2ZWxvcGVyIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscycpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxyXG4gICAgICAgICAgICAgIGFsZXJ0KCdQYXltZW50IGZhaWxlZCB0byBjb21wbGV0ZSFcXG5DaGVjayBicm93c2VyIGRldmVsb3BlciBjb25zb2xlIGZvciBtb3JlIGRldGFpbHMnKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9KVxyXG4gIHBheW1lbnRGb3JtLmJ1aWxkKClcclxuXHJcbi8vIG9uR2V0Q2FyZE5vbmNlIGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBcIlBheSAkMS4wMFwiIGJ1dHRvbiBpcyBjbGlja2VkXHJcbiAgZnVuY3Rpb24gb25HZXRDYXJkTm9uY2UoZXZlbnQ6IGFueSkge1xyXG4gICAgLy8gRG9uJ3Qgc3VibWl0IHRoZSBmb3JtIHVudGlsIFNxUGF5bWVudEZvcm0gcmV0dXJucyB3aXRoIGEgbm9uY2VcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgIC8vIFJlcXVlc3QgYSBub25jZSBmcm9tIHRoZSBTcVBheW1lbnRGb3JtIG9iamVjdFxyXG4gICAgcGF5bWVudEZvcm0ucmVxdWVzdENhcmROb25jZSgpXHJcbiAgfVxyXG5cclxuICByZXR1cm4gPGRpdj5cclxuICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgOmdsb2JhbCB7XHJcbiAgICAgICAgKiB7XHJcbiAgICAgICAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcclxuICAgICAgICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBib2R5LCBodG1sIHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGN0Y4Rjk7XHJcbiAgICAgICAgICBjb2xvcjogIzM3M0Y0QTtcclxuICAgICAgICAgIGZvbnQtZmFtaWx5OiBcIkhlbHZldGljYSBOZXVlXCIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XHJcbiAgICAgICAgICBmb250LXdlaWdodDogbm9ybWFsO1xyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnV0dG9uIHtcclxuICAgICAgICAgIGJvcmRlcjogMDtcclxuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmaWVsZHNldCB7XHJcbiAgICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgYm9yZGVyOiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgI2Zvcm0tY29udGFpbmVyIHtcclxuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgIHdpZHRoOiAzODBweDtcclxuICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgICAgICAgdG9wOiA1MCU7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAudGhpcmQge1xyXG4gICAgICAgICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICAgICAgICB3aWR0aDogY2FsYygoMTAwJSAtIDMycHgpIC8gMyk7XHJcbiAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgbWFyZ2luOiAwIDE2cHggMTZweCAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnRoaXJkOmxhc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBEZWZpbmUgaG93IFNxUGF5bWVudEZvcm0gaWZyYW1lcyBzaG91bGQgbG9vayAqL1xyXG4gICAgICAgIC5zcS1pbnB1dCB7XHJcbiAgICAgICAgICBoZWlnaHQ6IDU2cHg7XHJcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI0UwRTJFMztcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiBib3JkZXItY29sb3IgLjJzIGVhc2UtaW4tb3V0O1xyXG4gICAgICAgICAgICAgLW1vei10cmFuc2l0aW9uOiBib3JkZXItY29sb3IgLjJzIGVhc2UtaW4tb3V0O1xyXG4gICAgICAgICAgICAgIC1tcy10cmFuc2l0aW9uOiBib3JkZXItY29sb3IgLjJzIGVhc2UtaW4tb3V0O1xyXG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgLjJzIGVhc2UtaW4tb3V0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogRGVmaW5lIGhvdyBTcVBheW1lbnRGb3JtIGlmcmFtZXMgc2hvdWxkIGxvb2sgd2hlbiB0aGV5IGhhdmUgZm9jdXMgKi9cclxuICAgICAgICAuc3EtaW5wdXQtLWZvY3VzIHtcclxuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM0QTkwRTI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBEZWZpbmUgaG93IFNxUGF5bWVudEZvcm0gaWZyYW1lcyBzaG91bGQgbG9vayB3aGVuIHRoZXkgY29udGFpbiBpbnZhbGlkIHZhbHVlcyAqL1xyXG4gICAgICAgIC5zcS1pbnB1dC0tZXJyb3Ige1xyXG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI0UwMkYyRjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICNzcS1jYXJkLW51bWJlciB7XHJcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogQ3VzdG9taXplIHRoZSBcIlBheSB3aXRoIENyZWRpdCBDYXJkXCIgYnV0dG9uICovXHJcbiAgICAgICAgLmJ1dHRvbi1jcmVkaXQtY2FyZCB7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIGhlaWdodDogNTZweDtcclxuICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAjNEE5MEUyO1xyXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICBjb2xvcjogI0ZGRkZGRjtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDtcclxuICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAwO1xyXG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIC4ycyBlYXNlLWluLW91dDtcclxuICAgICAgICAgICAgIC1tb3otdHJhbnNpdGlvbjogYmFja2dyb3VuZCAuMnMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgICAgICAgICAgLW1zLXRyYW5zaXRpb246IGJhY2tncm91bmQgLjJzIGVhc2UtaW4tb3V0O1xyXG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIC4ycyBlYXNlLWluLW91dDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5idXR0b24tY3JlZGl0LWNhcmQ6aG92ZXIge1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzQyODFDQjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIGB9PC9zdHlsZT5cclxuICAgIDxIZWFkPlxyXG4gICAgICA8dGl0bGU+cGF5PC90aXRsZT5cclxuICAgICAgPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCJcclxuICAgICAgICAgICAgICBzcmM9XCJodHRwczovL2pzLnNxdWFyZXVwc2FuZGJveC5jb20vdjIvcGF5bWVudGZvcm1cIj5cclxuICAgICAgPC9zY3JpcHQ+XHJcbiAgICA8L0hlYWQ+XHJcbiAgICB7bHMoJ+aUr+S7mCcpfVxyXG4gICAgPGRpdiBpZD1cImZvcm0tY29udGFpbmVyXCI+XHJcbiAgICAgIDxkaXYgaWQ9XCJzcS1jYXJkLW51bWJlclwiPjwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRoaXJkXCJcclxuICAgICAgICAgICBpZD1cInNxLWV4cGlyYXRpb24tZGF0ZVwiPjwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRoaXJkXCJcclxuICAgICAgICAgICBpZD1cInNxLWN2dlwiPjwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRoaXJkXCJcclxuICAgICAgICAgICBpZD1cInNxLXBvc3RhbC1jb2RlXCI+PC9kaXY+XHJcbiAgICAgIDxidXR0b24gaWQ9XCJzcS1jcmVkaXRjYXJkXCJcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidXR0b24tY3JlZGl0LWNhcmRcIlxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uR2V0Q2FyZE5vbmNlfT5QYXlcclxuICAgICAgPC9idXR0b24+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxufVxyXG4iXX0= */\\n/*@ sourceURL=D:\\\\\\\\code\\\\\\\\zw\\\\\\\\zw_client_web\\\\\\\\utils\\\\\\\\view\\\\\\\\pay\\\\\\\\index.tsx */\"), __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 5\n    }\n  }, __jsx(\"title\", {\n    className: \"jsx-569710452\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }\n  }, \"pay\"), __jsx(\"script\", {\n    type: \"text/javascript\",\n    src: \"https://js.squareupsandbox.com/v2/paymentform\",\n    className: \"jsx-569710452\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }\n  })), ls('支付'), __jsx(\"div\", {\n    id: \"form-container\",\n    className: \"jsx-569710452\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    id: \"sq-card-number\",\n    className: \"jsx-569710452\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    id: \"sq-expiration-date\",\n    className: \"jsx-569710452\" + \" \" + \"third\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    id: \"sq-cvv\",\n    className: \"jsx-569710452\" + \" \" + \"third\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    id: \"sq-postal-code\",\n    className: \"jsx-569710452\" + \" \" + \"third\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }\n  }), __jsx(\"button\", {\n    id: \"sq-creditcard\",\n    onClick: onGetCardNonce,\n    className: \"jsx-569710452\" + \" \" + \"button-credit-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }\n  }, \"Pay\")));\n};","map":{"version":3,"sources":["D:/code/zw/zw_client_web/utils/view/pay/index.tsx"],"names":["React","Head","ls","Pay","paymentForm","SqPaymentForm","applicationId","inputClass","autoBuild","inputStyles","fontSize","lineHeight","padding","placeholderColor","backgroundColor","cardNumber","elementId","placeholder","cvv","expirationDate","postalCode","callbacks","cardNonceResponseReceived","errors","nonce","cardData","console","error","forEach","message","alert","fetch","method","headers","body","JSON","stringify","catch","err","then","response","ok","json","errorInfo","Promise","reject","data","log","build","onGetCardNonce","event","preventDefault","requestCardNonce"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Head from 'next/head'\r\nimport {ls} from '../../tools/dealKey'\r\n\r\nexport const Pay = () => {\r\n  // @ts-ignore\r\n  const paymentForm = new SqPaymentForm({\r\n    // Initialize the payment form elements\r\n    applicationId: \"sandbox-sq0idb-42FQ7wGBwzibToRM9_zdFw\",\r\n    inputClass: 'sq-input',\r\n    autoBuild: false,\r\n    // Customize the CSS for SqPaymentForm iframe elements\r\n    inputStyles: [{\r\n      fontSize: '16px',\r\n      lineHeight: '24px',\r\n      padding: '16px',\r\n      placeholderColor: '#a0a0a0',\r\n      backgroundColor: 'transparent',\r\n    }],\r\n    // Initialize the credit card placeholders\r\n    cardNumber: {\r\n      elementId: 'sq-card-number',\r\n      placeholder: 'Card Number',\r\n    },\r\n    cvv: {\r\n      elementId: 'sq-cvv',\r\n      placeholder: 'CVV',\r\n    },\r\n    expirationDate: {\r\n      elementId: 'sq-expiration-date',\r\n      placeholder: 'MM/YY',\r\n    },\r\n    postalCode: {\r\n      elementId: 'sq-postal-code',\r\n      placeholder: 'Postal',\r\n    },\r\n    // SqPaymentForm callback functions\r\n    callbacks: {\r\n      /*\r\n      * callback function: cardNonceResponseReceived\r\n      * Triggered when: SqPaymentForm completes a card nonce request\r\n      */\r\n      cardNonceResponseReceived: function (errors: any, nonce: any, cardData: any) {\r\n        if (errors) {\r\n          // Log errors from nonce generation to the browser developer console.\r\n          console.error('Encountered errors:')\r\n          errors.forEach(function (error: any) {\r\n            console.error('  ' + error.message)\r\n          })\r\n          alert('Encountered errors, check browser developer console for more details')\r\n          return\r\n        }\r\n        // alert(`The generated nonce is:\\n${nonce}`)\r\n        fetch('process-payment', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({\r\n            nonce: nonce,\r\n          }),\r\n        })\r\n            .catch(err => {\r\n              alert('Network error: ' + err)\r\n            })\r\n            .then((response: any) => {\r\n              if (!response.ok) {\r\n                return response.json().then((errorInfo: any) => Promise.reject(errorInfo)) //UPDATE HERE\r\n              }\r\n              return response.json() //UPDATE HERE\r\n            })\r\n            .then(data => {\r\n              console.log(data) //UPDATE HERE\r\n              alert('Payment complete successfully!\\nCheck browser developer console for more details')\r\n            })\r\n            .catch(err => {\r\n              console.error(err)\r\n              alert('Payment failed to complete!\\nCheck browser developer console for more details')\r\n            })\r\n      },\r\n    },\r\n  })\r\n  paymentForm.build()\r\n\r\n// onGetCardNonce is triggered when the \"Pay $1.00\" button is clicked\r\n  function onGetCardNonce(event: any) {\r\n    // Don't submit the form until SqPaymentForm returns with a nonce\r\n    event.preventDefault()\r\n    // Request a nonce from the SqPaymentForm object\r\n    paymentForm.requestCardNonce()\r\n  }\r\n\r\n  return <div>\r\n    <style jsx>{`\r\n      :global {\r\n        * {\r\n          -webkit-font-smoothing: antialiased;\r\n          -moz-osx-font-smoothing: grayscale;\r\n        }\r\n\r\n        body, html {\r\n          background-color: #F7F8F9;\r\n          color: #373F4A;\r\n          font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\r\n          font-weight: normal;\r\n          height: 100%;\r\n        }\r\n\r\n        button {\r\n          border: 0;\r\n          font-weight: 500;\r\n        }\r\n\r\n        fieldset {\r\n          margin: 0;\r\n          padding: 0;\r\n          border: 0;\r\n        }\r\n\r\n        #form-container {\r\n          position: relative;\r\n          width: 380px;\r\n          margin: 0 auto;\r\n          top: 50%;\r\n          transform: translateY(-50%);\r\n        }\r\n\r\n        .third {\r\n          float: left;\r\n          width: calc((100% - 32px) / 3);\r\n          padding: 0;\r\n          margin: 0 16px 16px 0;\r\n        }\r\n\r\n        .third:last-of-type {\r\n          margin-right: 0;\r\n        }\r\n\r\n        /* Define how SqPaymentForm iframes should look */\r\n        .sq-input {\r\n          height: 56px;\r\n          box-sizing: border-box;\r\n          border: 1px solid #E0E2E3;\r\n          background-color: white;\r\n          border-radius: 6px;\r\n          display: inline-block;\r\n          -webkit-transition: border-color .2s ease-in-out;\r\n             -moz-transition: border-color .2s ease-in-out;\r\n              -ms-transition: border-color .2s ease-in-out;\r\n                  transition: border-color .2s ease-in-out;\r\n        }\r\n\r\n        /* Define how SqPaymentForm iframes should look when they have focus */\r\n        .sq-input--focus {\r\n          border: 1px solid #4A90E2;\r\n        }\r\n\r\n        /* Define how SqPaymentForm iframes should look when they contain invalid values */\r\n        .sq-input--error {\r\n          border: 1px solid #E02F2F;\r\n        }\r\n\r\n        #sq-card-number {\r\n          margin-bottom: 16px;\r\n        }\r\n\r\n        /* Customize the \"Pay with Credit Card\" button */\r\n        .button-credit-card {\r\n          width: 100%;\r\n          height: 56px;\r\n          margin-top: 10px;\r\n          background: #4A90E2;\r\n          border-radius: 6px;\r\n          cursor: pointer;\r\n          display: block;\r\n          color: #FFFFFF;\r\n          font-size: 16px;\r\n          line-height: 24px;\r\n          font-weight: 700;\r\n          letter-spacing: 0;\r\n          text-align: center;\r\n          -webkit-transition: background .2s ease-in-out;\r\n             -moz-transition: background .2s ease-in-out;\r\n              -ms-transition: background .2s ease-in-out;\r\n                  transition: background .2s ease-in-out;\r\n        }\r\n\r\n        .button-credit-card:hover {\r\n          background-color: #4281CB;\r\n        }\r\n      }\r\n    `}</style>\r\n    <Head>\r\n      <title>pay</title>\r\n      <script type=\"text/javascript\"\r\n              src=\"https://js.squareupsandbox.com/v2/paymentform\">\r\n      </script>\r\n    </Head>\r\n    {ls('支付')}\r\n    <div id=\"form-container\">\r\n      <div id=\"sq-card-number\"></div>\r\n      <div className=\"third\"\r\n           id=\"sq-expiration-date\"></div>\r\n      <div className=\"third\"\r\n           id=\"sq-cvv\"></div>\r\n      <div className=\"third\"\r\n           id=\"sq-postal-code\"></div>\r\n      <button id=\"sq-creditcard\"\r\n              className=\"button-credit-card\"\r\n              onClick={onGetCardNonce}>Pay\r\n      </button>\r\n    </div>\r\n  </div>\r\n}\r\n"]},"metadata":{},"sourceType":"module"}