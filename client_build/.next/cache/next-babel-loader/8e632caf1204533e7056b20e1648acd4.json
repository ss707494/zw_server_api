{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\zw\\\\zw_client_web\\\\utils\\\\view\\\\me\\\\myCreditCard\\\\edit\\\\[id].tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { modelFactory } from '../../../../ModelAction/modelUtil';\nimport { useStoreModel } from '../../../../ModelAction/useStore';\nimport { fpMergePre } from '../../../../tools/utils';\nimport { SigninInput } from '../../../register';\nimport { FieldContain } from '../../myInfo/updatePassword';\nimport { HeaderTitle } from '../../../../components/HeaderTitle/HeaderTitle';\nimport { setForm } from '../../../../tools/commonAction';\nimport { ls } from '../../../../tools/dealKey';\nimport { useRouter } from 'next/router';\nimport { ButtonLoad } from '../../../../components/ButtonLoad/ButtonLoad';\nimport { doc } from '../../../../graphqlTypes/doc';\nimport { showMessage } from '../../../../components/Message/Message';\nexport const myCreditCardEditModel = modelFactory('myCreditCardEditModel', {\n  form: {\n    number: '123',\n    code: '4321',\n    name: 'ss',\n    userName: 'ss',\n    addressDetail: '地址...',\n    zipCode: 'code',\n    city: 'city',\n    contact: 'user'\n  }\n}, {\n  setForm: setForm,\n  clearForm: (value, option) => option.setData(fpMergePre({\n    form: {\n      number: '',\n      code: '',\n      name: '',\n      userName: '',\n      addressDetail: '',\n      zipCode: '',\n      city: '',\n      contact: ''\n    }\n  })),\n  submit: (value, option) => {\n    const form = option.data.form;\n    return option.mutate(doc.saveUserPayCard, {\n      data: _objectSpread({}, form)\n    });\n  }\n});\nexport const MyCreditCardEdit = () => {\n  var _router$query$id, _router$query;\n\n  const router = useRouter();\n  const id = (_router$query$id = (_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.id) !== null && _router$query$id !== void 0 ? _router$query$id : '';\n  console.log(!!id);\n  const {\n    state: stateMCCE,\n    actions: actionsMCCE\n  } = useStoreModel(myCreditCardEditModel);\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 10\n    }\n  }, __jsx(HeaderTitle, {\n    title: `${id === '0' ? '新增' : '编辑'}信用卡`,\n    backCall: actionsMCCE.clearForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }), __jsx(FieldContain, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, [['信用卡号', 'number'], ['四位号码', 'code'], ['姓名', 'userName'], ['详细地址', 'addressDetail'], ['邮政编码', 'zipCode'], ['城市', 'city'], ['联系方式', 'contact']].map(v => __jsx(SigninInput, {\n    key: `MyCreditCardEdit_${v[1]}`,\n    label: ls(v[0]),\n    value: stateMCCE.form[v[1]],\n    onChange: event => actionsMCCE.setForm([v[1], event.target.value]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 18\n    }\n  })), __jsx(\"section\", {\n    style: {\n      width: '100%',\n      height: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), __jsx(ButtonLoad, {\n    fullWidth: true,\n    variant: 'contained',\n    color: 'secondary',\n    onClick: async () => {\n      var _await$actionsMCCE$su, _await$actionsMCCE$su2;\n\n      if ((_await$actionsMCCE$su = await actionsMCCE.submit()) === null || _await$actionsMCCE$su === void 0 ? void 0 : (_await$actionsMCCE$su2 = _await$actionsMCCE$su.saveUserPayCard) === null || _await$actionsMCCE$su2 === void 0 ? void 0 : _await$actionsMCCE$su2.id) {\n        showMessage('操作成功');\n        actionsMCCE.clearForm();\n        router.back();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, \"\\u4FDD\\u5B58\")));\n};","map":{"version":3,"sources":["D:/code/zw/zw_client_web/utils/view/me/myCreditCard/edit/[id].tsx"],"names":["React","modelFactory","useStoreModel","fpMergePre","SigninInput","FieldContain","HeaderTitle","setForm","ls","useRouter","ButtonLoad","doc","showMessage","myCreditCardEditModel","form","number","code","name","userName","addressDetail","zipCode","city","contact","clearForm","value","option","setData","submit","data","mutate","saveUserPayCard","MyCreditCardEdit","router","id","query","console","log","state","stateMCCE","actions","actionsMCCE","map","v","event","target","width","height","back"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {modelFactory} from '../../../../ModelAction/modelUtil'\r\nimport {useStoreModel} from '../../../../ModelAction/useStore'\r\nimport {fpMergePre} from '../../../../tools/utils'\r\nimport {SigninInput} from '../../../register'\r\nimport {FieldContain} from '../../myInfo/updatePassword'\r\nimport {HeaderTitle} from '../../../../components/HeaderTitle/HeaderTitle'\r\nimport {UserPayCard} from '../../../../graphqlTypes/types'\r\nimport {setForm} from '../../../../tools/commonAction'\r\nimport {ls} from '../../../../tools/dealKey'\r\nimport {useRouter} from 'next/router'\r\nimport {ButtonLoad} from '../../../../components/ButtonLoad/ButtonLoad'\r\nimport {doc} from '../../../../graphqlTypes/doc'\r\nimport {showMessage} from '../../../../components/Message/Message'\r\n\r\nexport const myCreditCardEditModel = modelFactory('myCreditCardEditModel', {\r\n  form: {\r\n    number: '123',\r\n    code: '4321',\r\n    name: 'ss',\r\n    userName: 'ss',\r\n    addressDetail: '地址...',\r\n    zipCode: 'code',\r\n    city: 'city',\r\n    contact: 'user',\r\n  } as UserPayCard,\r\n}, {\r\n  setForm: setForm,\r\n  clearForm: (value, option) => option.setData(fpMergePre({\r\n    form: {\r\n      number: '',\r\n      code: '',\r\n      name: '',\r\n      userName: '',\r\n      addressDetail: '',\r\n      zipCode: '',\r\n      city: '',\r\n      contact: '',\r\n    },\r\n  })),\r\n  submit: (value, option) => {\r\n    const form = option.data.form\r\n    return option.mutate(doc.saveUserPayCard, {\r\n      data: {\r\n        ...form,\r\n      },\r\n    })\r\n  },\r\n})\r\n\r\nexport const MyCreditCardEdit = () => {\r\n  const router = useRouter()\r\n  const id = router.query?.id ?? ''\r\n  console.log(!!id)\r\n  const {state: stateMCCE, actions: actionsMCCE} = useStoreModel(myCreditCardEditModel)\r\n\r\n  return <div>\r\n    <HeaderTitle\r\n        title={`${id === '0' ? '新增' : '编辑'}信用卡`}\r\n        backCall={actionsMCCE.clearForm}\r\n    />\r\n    <FieldContain>\r\n      {[\r\n        ['信用卡号', 'number'],\r\n        ['四位号码', 'code'],\r\n        ['姓名', 'userName'],\r\n        ['详细地址', 'addressDetail'],\r\n        ['邮政编码', 'zipCode'],\r\n        ['城市', 'city'],\r\n        ['联系方式', 'contact'],\r\n      ].map(v => <SigninInput\r\n          key={`MyCreditCardEdit_${v[1]}`}\r\n          label={ls(v[0])}\r\n          value={stateMCCE.form[v[1] as keyof UserPayCard]}\r\n          onChange={event => actionsMCCE.setForm([v[1], event.target.value])}\r\n      />)}\r\n      <section style={{width: '100%', height: '20px'}}/>\r\n      <ButtonLoad\r\n          fullWidth\r\n          variant={'contained'}\r\n          color={'secondary'}\r\n          onClick={async () => {\r\n            if ((await actionsMCCE.submit())?.saveUserPayCard?.id) {\r\n              showMessage('操作成功')\r\n              actionsMCCE.clearForm()\r\n              router.back()\r\n            }\r\n          }}\r\n      >\r\n        保存\r\n      </ButtonLoad>\r\n    </FieldContain>\r\n  </div>\r\n}\r\n"]},"metadata":{},"sourceType":"module"}