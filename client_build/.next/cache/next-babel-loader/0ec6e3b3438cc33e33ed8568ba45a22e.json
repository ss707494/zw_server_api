{"ast":null,"code":"import { HomeAppModule } from '../../utils/view/home/appModule';\nexport var __N_SSG = true;\nexport default HomeAppModule();","map":{"version":3,"sources":["D:/code/zw/zw_client_web/pages/home/[appModule].tsx"],"names":["HomeAppModule"],"mappings":"AAKA,SAAQA,aAAR,QAA4B,iCAA5B;;AAEA,eAAeA,aAAa,EAA5B","sourcesContent":["import React from 'react'\r\nimport {serverQuery} from '../../utils/client'\r\nimport {categoryList, getDataConfig, homeCarouselImgs} from '../../utils/graphqlTypes/doc'\r\nimport {CategoryListInput, DataConfigItemInput} from '../../utils/graphqlTypes/types'\r\nimport {AppModuleTypeEnum, CategoryRootName, DictTypeEnum} from '../../utils/ss_common/enum'\r\nimport {HomeAppModule} from '../../utils/view/home/appModule'\r\n\r\nexport default HomeAppModule()\r\n\r\nconst init = async ({params}: {params: any}) => {\r\n  const appModuleConfig = await serverQuery(getDataConfig, {\r\n    data: {\r\n      type: DictTypeEnum.AppModule,\r\n    } as DataConfigItemInput\r\n  }, {})\r\n\r\n  const res2 = await serverQuery(getDataConfig, {\r\n    data: {\r\n      type: DictTypeEnum.HomeCarousel,\r\n    } as DataConfigItemInput\r\n  }, {})\r\n  const {__typename, ...rest} = res2?.getDataConfig\r\n  const homeCarouselDataComfig = await serverQuery(homeCarouselImgs, {\r\n    data: {\r\n      ...rest,\r\n    } as DataConfigItemInput\r\n  }, {})\r\n\r\n  const categoryRes = (params.appModule === AppModuleTypeEnum.categorySelection && await serverQuery(categoryList, {\r\n    data: {\r\n      category: {\r\n        parentCategory: {\r\n          id: CategoryRootName,\r\n        },\r\n      },\r\n    } as CategoryListInput\r\n  })) || {}\r\n\r\n  return {\r\n    props: {\r\n      homeCategorySelection_listData: categoryRes?.categoryList?.list ?? [],\r\n      ...homeCarouselDataComfig,\r\n      appModuleConfig: appModuleConfig?.getDataConfig,\r\n    },\r\n  }\r\n}\r\n\r\nexport const getStaticPaths = () => {\r\n  return {\r\n    paths: [{\r\n      params: {\r\n        appModule: AppModuleTypeEnum.categorySelection,\r\n      },\r\n    }, {\r\n      params: {\r\n        appModule: AppModuleTypeEnum.limitTime,\r\n      },\r\n    }, {\r\n      params: {\r\n        appModule: AppModuleTypeEnum.mayLike,\r\n      },\r\n    }, {\r\n      params: {\r\n        appModule: AppModuleTypeEnum.salesRank,\r\n      },\r\n    }, {\r\n      params: {\r\n        appModule: AppModuleTypeEnum.themeSelection,\r\n      },\r\n    }],\r\n    fallback: true,\r\n  }\r\n}\r\nexport const getStaticProps = init\r\n"]},"metadata":{},"sourceType":"module"}