{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\zw\\\\zw_client_web\\\\utils\\\\view\\\\me\\\\category\\\\[id].tsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport { HeaderTitle } from '../../../components/HeaderTitle/HeaderTitle';\nimport { modelFactory } from '../../../ModelAction/modelUtil';\nimport { doc } from '../../../graphqlTypes/doc';\nimport { fpMergePre } from '../../../tools/utils';\nimport { useStoreModel } from '../../../ModelAction/useStore';\nimport styled from 'styled-components';\nimport { ButtonBase } from '@material-ui/core';\nimport { dealImgUrl } from '../../../tools/img';\nimport { KeyboardArrowRight } from '@material-ui/icons';\nexport const CategoryPageModel = modelFactory('CategoryPage', {\n  productList: [],\n  categoryList: []\n}, {\n  getProductList: async (value, option) => {\n    var _res$categoryList;\n\n    const res = await option.query(doc.productsInCategory, {\n      data: value\n    });\n    option.setData(fpMergePre({\n      productList: res === null || res === void 0 ? void 0 : res.productsInCategory,\n      categoryList: res === null || res === void 0 ? void 0 : (_res$categoryList = res.categoryList) === null || _res$categoryList === void 0 ? void 0 : _res$categoryList.list\n    }));\n  }\n});\nconst CategoryItemStyle = styled(ButtonBase)`\n\n`;\nexport const CategoryItem = v => __jsx(CategoryItemStyle, {\n  key: `CategoryItem_${v.id}`,\n  onClick: () => {\n    Router.push('/category/[id]', `/category/${v.id}`);\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 46\n  }\n}, __jsx(\"img\", {\n  src: dealImgUrl(v.imgUrl),\n  alt: \"\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 3\n  }\n}), __jsx(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 3\n  }\n}, v.name, __jsx(KeyboardArrowRight, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 17\n  }\n})));\nexport const CategoryPage = () => {\n  var _ref, _router$query;\n\n  const router = useRouter();\n  const id = (_ref = (_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.id) !== null && _ref !== void 0 ? _ref : '';\n  const {\n    state: stateCPM,\n    actions: actionsCPM\n  } = useStoreModel(CategoryPageModel);\n  useEffect(() => {\n    if (id) {\n      actionsCPM.getProductList({\n        id\n      });\n    }\n  }, [id]);\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 10\n    }\n  }, __jsx(HeaderTitle, {\n    title: '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }), id, \"Category\");\n};","map":{"version":3,"sources":["D:/code/zw/zw_client_web/utils/view/me/category/[id].tsx"],"names":["React","useEffect","Router","useRouter","HeaderTitle","modelFactory","doc","fpMergePre","useStoreModel","styled","ButtonBase","dealImgUrl","KeyboardArrowRight","CategoryPageModel","productList","categoryList","getProductList","value","option","res","query","productsInCategory","data","setData","list","CategoryItemStyle","CategoryItem","v","id","push","imgUrl","name","CategoryPage","router","state","stateCPM","actions","actionsCPM"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,MAAP,IAAgBC,SAAhB,QAAgC,aAAhC;AACA,SAAQC,WAAR,QAA0B,6CAA1B;AACA,SAAQC,YAAR,QAA2B,gCAA3B;AAEA,SAAQC,GAAR,QAAkB,2BAAlB;AACA,SAAQC,UAAR,QAAyB,sBAAzB;AACA,SAAQC,aAAR,QAA4B,+BAA5B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAAQC,UAAR,QAAyB,mBAAzB;AACA,SAAQC,UAAR,QAAyB,oBAAzB;AACA,SAAQC,kBAAR,QAAiC,oBAAjC;AAEA,OAAO,MAAMC,iBAAiB,GAAGR,YAAY,CAAC,cAAD,EAAiB;AAC5DS,EAAAA,WAAW,EAAE,EAD+C;AAE5DC,EAAAA,YAAY,EAAE;AAF8C,CAAjB,EAG1C;AACDC,EAAAA,cAAc,EAAE,OAAOC,KAAP,EAAiCC,MAAjC,KAA4C;AAAA;;AAC1D,UAAMC,GAAG,GAAG,MAAMD,MAAM,CAACE,KAAP,CAAad,GAAG,CAACe,kBAAjB,EAAqC;AAACC,MAAAA,IAAI,EAAEL;AAAP,KAArC,CAAlB;AACAC,IAAAA,MAAM,CAACK,OAAP,CAAehB,UAAU,CAAC;AACxBO,MAAAA,WAAW,EAAEK,GAAF,aAAEA,GAAF,uBAAEA,GAAG,CAAEE,kBADM;AAExBN,MAAAA,YAAY,EAAEI,GAAF,aAAEA,GAAF,4CAAEA,GAAG,CAAEJ,YAAP,sDAAE,kBAAmBS;AAFT,KAAD,CAAzB;AAID;AAPA,CAH0C,CAAtC;AAcP,MAAMC,iBAAiB,GAAGhB,MAAM,CAACC,UAAD,CAAa;;CAA7C;AAIA,OAAO,MAAMgB,YAAY,GAAIC,CAAD,IAAiB,MAAC,iBAAD;AACzC,EAAA,GAAG,EAAG,gBAAeA,CAAC,CAACC,EAAG,EADe;AAEzC,EAAA,OAAO,EAAE,MAAM;AACb1B,IAAAA,MAAM,CAAC2B,IAAP,CAAY,gBAAZ,EAA+B,aAAYF,CAAC,CAACC,EAAG,EAAhD;AACD,GAJwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAM3C;AACI,EAAA,GAAG,EAAEjB,UAAU,CAACgB,CAAC,CAACG,MAAH,CADnB;AAEI,EAAA,GAAG,EAAC,EAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAN2C,EAU3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAOH,CAAC,CAACI,IAAT,EAAc,MAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAd,CAV2C,CAAtC;AAaP,OAAO,MAAMC,YAAY,GAAG,MAAM;AAAA;;AAChC,QAAMC,MAAM,GAAG9B,SAAS,EAAxB;AACA,QAAMyB,EAAE,4BAAIK,MAAM,CAACb,KAAX,kDAAI,cAAcQ,EAAlB,uCAAmC,EAA3C;AACA,QAAM;AAACM,IAAAA,KAAK,EAAEC,QAAR;AAAkBC,IAAAA,OAAO,EAAEC;AAA3B,MAAyC7B,aAAa,CAACK,iBAAD,CAA5D;AAEAZ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI2B,EAAJ,EAAQ;AACNS,MAAAA,UAAU,CAACrB,cAAX,CAA0B;AAACY,QAAAA;AAAD,OAA1B;AACD;AACF,GAJQ,EAIN,CAACA,EAAD,CAJM,CAAT;AAOA,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACL,MAAC,WAAD;AACI,IAAA,KAAK,EAAE,EADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADK,EAIJA,EAJI,aAAP;AAOD,CAnBM","sourcesContent":["import React, {useEffect} from 'react'\r\nimport Router, {useRouter} from 'next/router'\r\nimport {HeaderTitle} from '../../../components/HeaderTitle/HeaderTitle'\r\nimport {modelFactory} from '../../../ModelAction/modelUtil'\r\nimport {Category, CategoryItemInput, Product} from '../../../graphqlTypes/types'\r\nimport {doc} from '../../../graphqlTypes/doc'\r\nimport {fpMergePre} from '../../../tools/utils'\r\nimport {useStoreModel} from '../../../ModelAction/useStore'\r\nimport styled from 'styled-components'\r\nimport {ButtonBase} from '@material-ui/core'\r\nimport {dealImgUrl} from '../../../tools/img'\r\nimport {KeyboardArrowRight} from '@material-ui/icons'\r\n\r\nexport const CategoryPageModel = modelFactory('CategoryPage', {\r\n  productList: [] as Product[],\r\n  categoryList: [] as Category[],\r\n}, {\r\n  getProductList: async (value: CategoryItemInput, option) => {\r\n    const res = await option.query(doc.productsInCategory, {data: value})\r\n    option.setData(fpMergePre({\r\n      productList: res?.productsInCategory,\r\n      categoryList: res?.categoryList?.list,\r\n    }))\r\n  },\r\n\r\n})\r\n\r\nconst CategoryItemStyle = styled(ButtonBase)`\r\n\r\n`\r\n\r\nexport const CategoryItem = (v: Category) => <CategoryItemStyle\r\n    key={`CategoryItem_${v.id}`}\r\n    onClick={() => {\r\n      Router.push('/category/[id]', `/category/${v.id}`)\r\n    }}\r\n>\r\n  <img\r\n      src={dealImgUrl(v.imgUrl)}\r\n      alt=''\r\n  />\r\n  <span>{v.name}<KeyboardArrowRight/></span>\r\n</CategoryItemStyle>\r\n\r\nexport const CategoryPage = () => {\r\n  const router = useRouter()\r\n  const id = (router.query?.id as string) ?? ''\r\n  const {state: stateCPM, actions: actionsCPM} = useStoreModel(CategoryPageModel)\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      actionsCPM.getProductList({id})\r\n    }\r\n  }, [id])\r\n\r\n\r\n  return <div>\r\n    <HeaderTitle\r\n        title={''}\r\n    />\r\n    {id}\r\n    Category\r\n  </div>\r\n}\r\n"]},"metadata":{},"sourceType":"module"}