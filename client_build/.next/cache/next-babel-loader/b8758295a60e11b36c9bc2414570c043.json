{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\code\\\\zw\\\\zw_client_web\\\\utils\\\\view\\\\home\\\\components\\\\CategorySelection\\\\CategorySelection.tsx\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport { grey } from '@material-ui/core/colors';\nimport { KeyboardArrowRight } from '@material-ui/icons';\nimport { ButtonBase } from '@material-ui/core';\nimport { useStoreModel } from '../../../../ModelAction/useStore';\nimport { fpMergePre } from '../../../../tools/utils';\nimport { Loading } from '../../../../components/Loading/Loading';\nimport { categoryList } from '../../../../graphqlTypes/doc';\nimport { dealImgUrl } from '../../../../tools/img';\nimport { CategoryRootName } from '../../../../ss_common/enum';\nimport { modelFactory } from '../../../../ModelAction/modelUtil';\nimport { useRouter } from 'next/router';\nimport { homeTabsModel } from '../Tabs/Tabs';\nexport var homeCategorySelectionModel = modelFactory('HomeCategorySelection', {\n  listData: [],\n  total: 0\n}, {\n  getList: function () {\n    var _getList = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(value, option) {\n      var _res$categoryList;\n\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return option.query(categoryList, {\n                data: {\n                  category: {\n                    parentCategory: {\n                      id: CategoryRootName\n                    }\n                  }\n                }\n              });\n\n            case 2:\n              res = _context.sent;\n              option.setData(fpMergePre({\n                listData: res === null || res === void 0 ? void 0 : (_res$categoryList = res.categoryList) === null || _res$categoryList === void 0 ? void 0 : _res$categoryList.list\n              }));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function getList(_x, _x2) {\n      return _getList.apply(this, arguments);\n    }\n\n    return getList;\n  }()\n});\nexport var CategorySelection = function CategorySelection() {\n  _s();\n\n  var _homeCategorySelectio;\n\n  var router = useRouter();\n\n  var _useStoreModel = useStoreModel(homeCategorySelectionModel),\n      homeCategorySelectionState = _useStoreModel.state,\n      homeCategorySelectionActions = _useStoreModel.actions,\n      hsGetLoad = _useStoreModel.getLoad;\n\n  var _useStoreModel2 = useStoreModel(homeTabsModel),\n      homeTabsState = _useStoreModel2.state;\n\n  console.log(homeTabsState.homeType);\n  useEffect(function () {\n    homeCategorySelectionActions.getList();\n  }, []);\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2863441005\", [grey[700]]]]),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, !!hsGetLoad(categoryList) && __jsx(Loading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 39\n    }\n  }), homeCategorySelectionState === null || homeCategorySelectionState === void 0 ? void 0 : (_homeCategorySelectio = homeCategorySelectionState.listData) === null || _homeCategorySelectio === void 0 ? void 0 : _homeCategorySelectio.map(function (value) {\n    return __jsx(ButtonBase, {\n      className: 'main',\n      onClick: function onClick() {\n        router.push(\"/category/[id]?homeType=\".concat(homeTabsState.homeType), \"/category/\".concat(value.id, \"?homeType=\").concat(homeTabsState.homeType));\n      },\n      key: \"homeCategorySelectionState_\".concat(value.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, __jsx(\"img\", {\n      src: dealImgUrl(value.imgUrl),\n      alt: \"\",\n      className: _JSXStyle.dynamic([[\"2863441005\", [grey[700]]]]),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }), __jsx(\"span\", {\n      className: _JSXStyle.dynamic([[\"2863441005\", [grey[700]]]]),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    }, value.name, __jsx(KeyboardArrowRight, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    })));\n  }), __jsx(_JSXStyle, {\n    id: \"2863441005\",\n    dynamic: [grey[700]],\n    __self: _this\n  }, \"div.__jsx-style-dynamic-selector>.main{width:100%;height:18.75vw;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-radius:2.5vw;overflow:hidden;margin-bottom:3.125vw;background:\".concat(grey[700], \";}div.__jsx-style-dynamic-selector>.main>img.__jsx-style-dynamic-selector{height:100%;width:70%;}div.__jsx-style-dynamic-selector>.main>span.__jsx-style-dynamic-selector{-webkit-flex:1 1;-ms-flex:1 1;flex:1 1;color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxjb2RlXFx6d1xcendfY2xpZW50X3dlYlxcdXRpbHNcXHZpZXdcXGhvbWVcXGNvbXBvbmVudHNcXENhdGVnb3J5U2VsZWN0aW9uXFxDYXRlZ29yeVNlbGVjdGlvbi50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBa0VvQixBQUVjLEFBUUcsQUFHSCxXQVZJLENBUUgsVUFBQyxJQVBBLGFBVUEsV0FDRSxrREFWSyxvQkFDSixJQVVLLFlBVEMsc0JBQ2tCLHdDQUFDLG1CQVNoQixtR0FBQyIsImZpbGUiOiJEOlxcY29kZVxcendcXHp3X2NsaWVudF93ZWJcXHV0aWxzXFx2aWV3XFxob21lXFxjb21wb25lbnRzXFxDYXRlZ29yeVNlbGVjdGlvblxcQ2F0ZWdvcnlTZWxlY3Rpb24udHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7dXNlRWZmZWN0fSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHtncmV5fSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9jb2xvcnMnXHJcbmltcG9ydCB7S2V5Ym9hcmRBcnJvd1JpZ2h0fSBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMnXHJcbmltcG9ydCB7QnV0dG9uQmFzZX0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnXHJcbmltcG9ydCB7dXNlU3RvcmVNb2RlbH0gZnJvbSAnLi4vLi4vLi4vLi4vTW9kZWxBY3Rpb24vdXNlU3RvcmUnXHJcbmltcG9ydCB7Q2F0ZWdvcnksIENhdGVnb3J5TGlzdElucHV0fSBmcm9tICcuLi8uLi8uLi8uLi9ncmFwaHFsVHlwZXMvdHlwZXMnXHJcbmltcG9ydCB7ZnBNZXJnZVByZX0gZnJvbSAnLi4vLi4vLi4vLi4vdG9vbHMvdXRpbHMnXHJcbmltcG9ydCB7TG9hZGluZ30gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9Mb2FkaW5nL0xvYWRpbmcnXHJcbmltcG9ydCB7Y2F0ZWdvcnlMaXN0fSBmcm9tICcuLi8uLi8uLi8uLi9ncmFwaHFsVHlwZXMvZG9jJ1xyXG5pbXBvcnQge2RlYWxJbWdVcmx9IGZyb20gJy4uLy4uLy4uLy4uL3Rvb2xzL2ltZydcclxuaW1wb3J0IHtDYXRlZ29yeVJvb3ROYW1lfSBmcm9tICcuLi8uLi8uLi8uLi9zc19jb21tb24vZW51bSdcclxuaW1wb3J0IHttb2RlbEZhY3Rvcnl9IGZyb20gJy4uLy4uLy4uLy4uL01vZGVsQWN0aW9uL21vZGVsVXRpbCdcclxuaW1wb3J0IHt1c2VSb3V0ZXJ9IGZyb20gJ25leHQvcm91dGVyJ1xyXG5pbXBvcnQge2hvbWVUYWJzTW9kZWx9IGZyb20gJy4uL1RhYnMvVGFicydcclxuXHJcbmV4cG9ydCBjb25zdCBob21lQ2F0ZWdvcnlTZWxlY3Rpb25Nb2RlbCA9IG1vZGVsRmFjdG9yeSgnSG9tZUNhdGVnb3J5U2VsZWN0aW9uJywge1xyXG4gIGxpc3REYXRhOiBbXSBhcyBDYXRlZ29yeVtdLFxyXG4gIHRvdGFsOiAwLFxyXG59LCB7XHJcbiAgZ2V0TGlzdDogYXN5bmMgKHZhbHVlLCBvcHRpb24pID0+IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IG9wdGlvbi5xdWVyeShjYXRlZ29yeUxpc3QsIHtcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIGNhdGVnb3J5OiB7XHJcbiAgICAgICAgICBwYXJlbnRDYXRlZ29yeToge1xyXG4gICAgICAgICAgICBpZDogQ2F0ZWdvcnlSb290TmFtZSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSBhcyBDYXRlZ29yeUxpc3RJbnB1dFxyXG4gICAgfSlcclxuICAgIG9wdGlvbi5zZXREYXRhKGZwTWVyZ2VQcmUoe1xyXG4gICAgICBsaXN0RGF0YTogcmVzPy5jYXRlZ29yeUxpc3Q/Lmxpc3QsXHJcbiAgICB9KSlcclxuICB9LFxyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IENhdGVnb3J5U2VsZWN0aW9uID0gKCkgPT4ge1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXHJcbiAgY29uc3Qge3N0YXRlOiBob21lQ2F0ZWdvcnlTZWxlY3Rpb25TdGF0ZSwgYWN0aW9uczogaG9tZUNhdGVnb3J5U2VsZWN0aW9uQWN0aW9ucywgZ2V0TG9hZDogaHNHZXRMb2FkfSA9IHVzZVN0b3JlTW9kZWwoaG9tZUNhdGVnb3J5U2VsZWN0aW9uTW9kZWwpXHJcbiAgY29uc3Qge3N0YXRlOiBob21lVGFic1N0YXRlfSA9IHVzZVN0b3JlTW9kZWwoaG9tZVRhYnNNb2RlbClcclxuICBjb25zb2xlLmxvZyhob21lVGFic1N0YXRlLmhvbWVUeXBlKVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaG9tZUNhdGVnb3J5U2VsZWN0aW9uQWN0aW9ucy5nZXRMaXN0KClcclxuICB9LCBbXSlcclxuXHJcbiAgcmV0dXJuIChcclxuICAgICAgPGRpdj5cclxuICAgICAgICB7ISFoc0dldExvYWQoY2F0ZWdvcnlMaXN0KSAmJiA8TG9hZGluZy8+fVxyXG4gICAgICAgIHtob21lQ2F0ZWdvcnlTZWxlY3Rpb25TdGF0ZT8ubGlzdERhdGE/Lm1hcCh2YWx1ZSA9PiAoXHJcbiAgICAgICAgICAgIDxCdXR0b25CYXNlXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9eydtYWluJ31cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goYC9jYXRlZ29yeS9baWRdP2hvbWVUeXBlPSR7aG9tZVRhYnNTdGF0ZS5ob21lVHlwZX1gLCBgL2NhdGVnb3J5LyR7dmFsdWUuaWR9P2hvbWVUeXBlPSR7aG9tZVRhYnNTdGF0ZS5ob21lVHlwZX1gKVxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIGtleT17YGhvbWVDYXRlZ29yeVNlbGVjdGlvblN0YXRlXyR7dmFsdWUuaWR9YH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxpbWdcclxuICAgICAgICAgICAgICAgICAgc3JjPXtkZWFsSW1nVXJsKHZhbHVlLmltZ1VybCl9XHJcbiAgICAgICAgICAgICAgICAgIGFsdD0nJ1xyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgICAgICB7dmFsdWUubmFtZX1cclxuICAgICAgICAgICAgICAgIDxLZXlib2FyZEFycm93UmlnaHQvPlxyXG4gICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9CdXR0b25CYXNlPlxyXG4gICAgICAgICkpfVxyXG4gICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgIGRpdiA+IDpnbG9iYWwoLm1haW4pIHtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIGhlaWdodDogNjBweDtcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAke2dyZXlbNzAwXX07XHJcbiAgICAgICAgICAgID4gaW1nIHtcclxuICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICAgICAgd2lkdGg6IDcwJTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA+IHNwYW4ge1xyXG4gICAgICAgICAgICAgIGZsZXg6IDE7XHJcbiAgICAgICAgICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgYH08L3N0eWxlPlxyXG4gICAgICA8L2Rpdj5cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3J5U2VsZWN0aW9uXHJcbiJdfQ== */\\n/*@ sourceURL=D:\\\\\\\\code\\\\\\\\zw\\\\\\\\zw_client_web\\\\\\\\utils\\\\\\\\view\\\\\\\\home\\\\\\\\components\\\\\\\\CategorySelection\\\\\\\\CategorySelection.tsx */\")));\n};\n\n_s(CategorySelection, \"psJP6AZUcXNjOjttWF8TLAMvTSk=\", false, function () {\n  return [useRouter, useStoreModel, useStoreModel];\n});\n\n_c = CategorySelection;\nexport default CategorySelection;\n\nvar _c;\n\n$RefreshReg$(_c, \"CategorySelection\");","map":{"version":3,"sources":["D:/code/zw/zw_client_web/utils/view/home/components/CategorySelection/CategorySelection.tsx"],"names":["React","useEffect","grey","KeyboardArrowRight","ButtonBase","useStoreModel","fpMergePre","Loading","categoryList","dealImgUrl","CategoryRootName","modelFactory","useRouter","homeTabsModel","homeCategorySelectionModel","listData","total","getList","value","option","query","data","category","parentCategory","id","res","setData","list","CategorySelection","router","homeCategorySelectionState","state","homeCategorySelectionActions","actions","hsGetLoad","getLoad","homeTabsState","console","log","homeType","map","push","imgUrl","name"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\r\nimport {grey} from '@material-ui/core/colors'\r\nimport {KeyboardArrowRight} from '@material-ui/icons'\r\nimport {ButtonBase} from '@material-ui/core'\r\nimport {useStoreModel} from '../../../../ModelAction/useStore'\r\nimport {Category, CategoryListInput} from '../../../../graphqlTypes/types'\r\nimport {fpMergePre} from '../../../../tools/utils'\r\nimport {Loading} from '../../../../components/Loading/Loading'\r\nimport {categoryList} from '../../../../graphqlTypes/doc'\r\nimport {dealImgUrl} from '../../../../tools/img'\r\nimport {CategoryRootName} from '../../../../ss_common/enum'\r\nimport {modelFactory} from '../../../../ModelAction/modelUtil'\r\nimport {useRouter} from 'next/router'\r\nimport {homeTabsModel} from '../Tabs/Tabs'\r\n\r\nexport const homeCategorySelectionModel = modelFactory('HomeCategorySelection', {\r\n  listData: [] as Category[],\r\n  total: 0,\r\n}, {\r\n  getList: async (value, option) => {\r\n    const res = await option.query(categoryList, {\r\n      data: {\r\n        category: {\r\n          parentCategory: {\r\n            id: CategoryRootName,\r\n          },\r\n        },\r\n      } as CategoryListInput\r\n    })\r\n    option.setData(fpMergePre({\r\n      listData: res?.categoryList?.list,\r\n    }))\r\n  },\r\n})\r\n\r\nexport const CategorySelection = () => {\r\n  const router = useRouter()\r\n  const {state: homeCategorySelectionState, actions: homeCategorySelectionActions, getLoad: hsGetLoad} = useStoreModel(homeCategorySelectionModel)\r\n  const {state: homeTabsState} = useStoreModel(homeTabsModel)\r\n  console.log(homeTabsState.homeType)\r\n\r\n  useEffect(() => {\r\n    homeCategorySelectionActions.getList()\r\n  }, [])\r\n\r\n  return (\r\n      <div>\r\n        {!!hsGetLoad(categoryList) && <Loading/>}\r\n        {homeCategorySelectionState?.listData?.map(value => (\r\n            <ButtonBase\r\n                className={'main'}\r\n                onClick={() => {\r\n                  router.push(`/category/[id]?homeType=${homeTabsState.homeType}`, `/category/${value.id}?homeType=${homeTabsState.homeType}`)\r\n                }}\r\n                key={`homeCategorySelectionState_${value.id}`}\r\n            >\r\n              <img\r\n                  src={dealImgUrl(value.imgUrl)}\r\n                  alt=''\r\n              />\r\n              <span>\r\n                {value.name}\r\n                <KeyboardArrowRight/>\r\n              </span>\r\n            </ButtonBase>\r\n        ))}\r\n        <style jsx>{`\r\n          div > :global(.main) {\r\n            width: 100%;\r\n            height: 60px;\r\n            display: flex;\r\n            border-radius: 8px;\r\n            overflow: hidden;\r\n            margin-bottom: 10px;\r\n            background: ${grey[700]};\r\n            > img {\r\n              height: 100%;\r\n              width: 70%;\r\n            }\r\n            > span {\r\n              flex: 1;\r\n              color: #fff;\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: center;\r\n            }\r\n          }\r\n        `}</style>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default CategorySelection\r\n"]},"metadata":{},"sourceType":"module"}