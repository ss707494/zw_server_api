{"ast":null,"code":"import { modelFactory } from '../ModelAction/modelUtil';\nimport { fpMerge, fpSet } from '../tools/utils';\nexport var dialogModelFactory = function dialogModelFactory(name, initData) {\n  return modelFactory(\"\".concat(name, \"_dialogModelFactory\"), {\n    dialogData: initData,\n    open: false,\n    isEdit: -1,\n    openResolve: function () {}\n  }, {\n    openClick: function openClick(value, _ref) {\n      var setData = _ref.setData;\n      return new Promise(function (resolve) {\n        setData(function (preData) {\n          return fpMerge(preData, {\n            open: true,\n            dialogData: value,\n            isEdit: -1,\n            openResolve: resolve\n          });\n        });\n      });\n    },\n    openEditClick: function openEditClick(value, _ref2) {\n      var setData = _ref2.setData;\n      return setData(function (pre) {\n        return fpMerge(pre, {\n          open: true,\n          dialogData: value.data,\n          isEdit: value.index\n        });\n      });\n    },\n    onClose: function onClose(value, _ref3) {\n      var data = _ref3.data,\n          setData = _ref3.setData;\n      data.openResolve(false);\n      setData(function (pre) {\n        return fpMerge(fpSet(pre, 'dialogData', {}), {\n          dialogData: initData,\n          open: false\n        });\n      });\n    },\n    setdialog: function setdialog(value, _ref4) {\n      var setData = _ref4.setData;\n      return setData(function (data) {\n        return fpMerge(data, {\n          dialogData: value\n        });\n      });\n    }\n  });\n};","map":null,"metadata":{},"sourceType":"module"}