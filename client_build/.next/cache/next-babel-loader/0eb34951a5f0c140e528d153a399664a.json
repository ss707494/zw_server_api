{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\code\\\\zw\\\\zw_client_web\\\\utils\\\\view\\\\m\\\\cart\\\\CartProduct.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport styled from 'styled-components';\nimport { dealImgUrl } from '../../../tools/img';\nimport { grey } from '@material-ui/core/colors';\nimport { productModel, ProductPrice } from '../../../components/ProductItem/ProductItem';\nimport { Button, IconButton } from '@material-ui/core';\nimport { useStoreModel } from '../../../ModelAction/useStore';\nimport { ll } from '../../../tools/dealKey';\nimport { shopCartModel } from './index';\nimport { showMessage } from '../../../components/Message/Message';\nimport { updateShopCartModel } from '../../../components/ProductItem/UpdateShopCart';\nexport var ShopCartProductBox = styled.div.withConfig({\n  displayName: \"CartProduct__ShopCartProductBox\",\n  componentId: \"sc-6lqt5y-0\"\n})([\"margin-bottom:16px;display:grid;grid-template-columns:minmax(20px,72px) 1fr;grid-template-rows:repeat(2,22px) 30px;grid-column-gap:10px;> img{grid-area:1/1/4/2;width:100%;height:100%;border-radius:8px;}> section{color:\", \"}> footer{display:flex;align-items:center;> main{flex-grow:1;}> button{flex-shrink:0;font-size:12px;}}\"], grey[600]);\n_c = ShopCartProductBox;\nexport var CartProduct = function CartProduct(_ref) {\n  _s();\n\n  var _shopCart$product, _shopCart$product$img, _shopCart$product$img2, _shopCart$number;\n\n  var shopCart = _ref.shopCart;\n\n  var _useStoreModel = useStoreModel(shopCartModel),\n      actionsShopCartModel = _useStoreModel.actions,\n      stateSCM = _useStoreModel.state;\n\n  var _useStoreModel2 = useStoreModel(productModel),\n      actionsProductModel = _useStoreModel2.actions;\n\n  var _useStoreModel3 = useStoreModel(updateShopCartModel),\n      actionsUpdateShopCartModel = _useStoreModel3.actions;\n\n  var product = shopCart.product;\n  return __jsx(ShopCartProductBox, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 10\n    }\n  }, __jsx(\"img\", {\n    src: dealImgUrl((_shopCart$product = shopCart.product) === null || _shopCart$product === void 0 ? void 0 : (_shopCart$product$img = _shopCart$product.img) === null || _shopCart$product$img === void 0 ? void 0 : (_shopCart$product$img2 = _shopCart$product$img[0]) === null || _shopCart$product$img2 === void 0 ? void 0 : _shopCart$product$img2.url),\n    alt: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }), __jsx(\"main\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, product === null || product === void 0 ? void 0 : product.name, product === null || product === void 0 ? void 0 : product.weight, product === null || product === void 0 ? void 0 : product.unit), __jsx(\"section\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, product === null || product === void 0 ? void 0 : product.remark), __jsx(\"footer\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, __jsx(ProductPrice, {\n    product: product,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), shopCart.isNext === 0 && __jsx(React.Fragment, null, __jsx(Button, {\n    size: 'small',\n    variant: 'outlined',\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return actionsShopCartModel.moveToNext({\n                shopCart: shopCart\n              });\n\n            case 2:\n              actionsShopCartModel.getList();\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, ll('下次购买')), __jsx(IconButton, {\n    disabled: ((_shopCart$number = shopCart === null || shopCart === void 0 ? void 0 : shopCart.number) !== null && _shopCart$number !== void 0 ? _shopCart$number : 0) <= 1,\n    size: 'small',\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return actionsProductModel.updateNumShopCart({\n                product: product,\n                number: -1\n              });\n\n            case 2:\n              actionsShopCartModel.getList();\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 10\n    }\n  }, __jsx(RemoveIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 10\n    }\n  })), shopCart.number, __jsx(IconButton, {\n    size: 'small',\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return actionsProductModel.updateNumShopCart({\n                product: product\n              });\n\n            case 2:\n              actionsShopCartModel.getList();\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    })),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, __jsx(AddIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }))) || __jsx(React.Fragment, null, __jsx(Button, {\n    style: {\n      marginRight: '8px'\n    },\n    size: 'small',\n    variant: 'outlined',\n    color: 'secondary',\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return actionsProductModel.updateShopCart({\n                isDelete: 1,\n                id: shopCart.id\n              });\n\n            case 2:\n              actionsShopCartModel.getList();\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    })),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, ll('删除')), __jsx(Button, {\n    size: 'small',\n    variant: 'outlined' // onClick={async () => {\n    //   if (stateSCM.shopCartList.findIndex(v => v.product?.id === shopCart.product?.id) > -1) {\n    //     return showMessage('该商品已在购物车中')\n    //   }\n    //   await actionsProductModel.updateShopCart({\n    //     isNext: 0,\n    //     id: shopCart.id,\n    //   })\n    //   actionsShopCartModel.getList()\n    // }}\n    ,\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var res, _yield$actionsProduct, _yield$actionsProduct2;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return actionsUpdateShopCartModel.openClick();\n\n            case 2:\n              res = _context5.sent;\n\n              if (!((res === null || res === void 0 ? void 0 : res.num) > 0)) {\n                _context5.next = 18;\n                break;\n              }\n\n              _context5.next = 6;\n              return actionsProductModel.updateNumShopCart({\n                product: product,\n                number: ~~(res === null || res === void 0 ? void 0 : res.num)\n              });\n\n            case 6:\n              _context5.t1 = _yield$actionsProduct = _context5.sent;\n              _context5.t0 = _context5.t1 === null;\n\n              if (_context5.t0) {\n                _context5.next = 10;\n                break;\n              }\n\n              _context5.t0 = _yield$actionsProduct === void 0;\n\n            case 10:\n              if (!_context5.t0) {\n                _context5.next = 14;\n                break;\n              }\n\n              _context5.t2 = void 0;\n              _context5.next = 15;\n              break;\n\n            case 14:\n              _context5.t2 = (_yield$actionsProduct2 = _yield$actionsProduct.updateNumShopCart) === null || _yield$actionsProduct2 === void 0 ? void 0 : _yield$actionsProduct2.id;\n\n            case 15:\n              if (!_context5.t2) {\n                _context5.next = 18;\n                break;\n              }\n\n              showMessage('操作成功');\n              actionsShopCartModel.getList();\n\n            case 18:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    })),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, ll('加入购物车')))));\n};\n\n_s(CartProduct, \"85sSD5N7WCLRiDFTcFAJdeJ2pxo=\", false, function () {\n  return [useStoreModel, useStoreModel, useStoreModel];\n});\n\n_c2 = CartProduct;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ShopCartProductBox\");\n$RefreshReg$(_c2, \"CartProduct\");","map":{"version":3,"sources":["D:/code/zw/zw_client_web/utils/view/m/cart/CartProduct.tsx"],"names":["React","AddIcon","RemoveIcon","styled","dealImgUrl","grey","productModel","ProductPrice","Button","IconButton","useStoreModel","ll","shopCartModel","showMessage","updateShopCartModel","ShopCartProductBox","div","CartProduct","shopCart","actionsShopCartModel","actions","stateSCM","state","actionsProductModel","actionsUpdateShopCartModel","product","img","url","name","weight","unit","remark","isNext","moveToNext","getList","number","updateNumShopCart","marginRight","updateShopCart","isDelete","id","openClick","res","num"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAAQC,UAAR,QAAyB,oBAAzB;AACA,SAAQC,IAAR,QAAmB,0BAAnB;AACA,SAAQC,YAAR,EAAsBC,YAAtB,QAAyC,6CAAzC;AACA,SAAQC,MAAR,EAAgBC,UAAhB,QAAiC,mBAAjC;AACA,SAAQC,aAAR,QAA4B,+BAA5B;AACA,SAAQC,EAAR,QAAiB,wBAAjB;AACA,SAAQC,aAAR,QAA4B,SAA5B;AACA,SAAQC,WAAR,QAA0B,qCAA1B;AACA,SAAQC,mBAAR,QAAkC,gDAAlC;AAEA,OAAO,IAAMC,kBAAkB,GAAGZ,MAAM,CAACa,GAAV;AAAA;AAAA;AAAA,6UAalBX,IAAI,CAAC,GAAD,CAbc,CAAxB;KAAMU,kB;AA4Bb,OAAO,IAAME,WAAW,GAAG,SAAdA,WAAc,OAAwC;AAAA;;AAAA;;AAAA,MAAtCC,QAAsC,QAAtCA,QAAsC;;AAAA,uBACRR,aAAa,CAACE,aAAD,CADL;AAAA,MACjDO,oBADiD,kBAC1DC,OAD0D;AAAA,MACpBC,QADoB,kBAC3BC,KAD2B;;AAAA,wBAE1BZ,aAAa,CAACJ,YAAD,CAFa;AAAA,MAEjDiB,mBAFiD,mBAE1DH,OAF0D;;AAAA,wBAGnBV,aAAa,CAACI,mBAAD,CAHM;AAAA,MAGjDU,0BAHiD,mBAG1DJ,OAH0D;;AAIjE,MAAMK,OAAO,GAAGP,QAAQ,CAACO,OAAzB;AAEA,SAAO,MAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACL;AAAK,IAAA,GAAG,EAAErB,UAAU,sBAACc,QAAQ,CAACO,OAAV,+EAAC,kBAAkBC,GAAnB,oFAAC,sBAAwB,CAAxB,CAAD,2DAAC,uBAA4BC,GAA7B,CAApB;AACK,IAAA,GAAG,EAAC,EADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADK,EAGL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOF,OAAP,aAAOA,OAAP,uBAAOA,OAAO,CAAEG,IAAhB,EAAsBH,OAAtB,aAAsBA,OAAtB,uBAAsBA,OAAO,CAAEI,MAA/B,EAAuCJ,OAAvC,aAAuCA,OAAvC,uBAAuCA,OAAO,CAAEK,IAAhD,CAHK,EAIL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAUL,OAAV,aAAUA,OAAV,uBAAUA,OAAO,CAAEM,MAAnB,CAJK,EAKL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,YAAD;AAAc,IAAA,OAAO,EAAEN,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEIP,QAAQ,CAACc,MAAT,KAAoB,CAApB,IAAyB,4BACzB,MAAC,MAAD;AACI,IAAA,IAAI,EAAE,OADV;AAEI,IAAA,OAAO,EAAE,UAFb;AAGI,IAAA,OAAO,wEAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACDb,oBAAoB,CAACc,UAArB,CAAgC;AAACf,gBAAAA,QAAQ,EAARA;AAAD,eAAhC,CADC;;AAAA;AAEPC,cAAAA,oBAAoB,CAACe,OAArB;;AAFO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF,EAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOEvB,EAAE,CAAC,MAAD,CAPJ,CADyB,EASxB,MAAC,UAAD;AACG,IAAA,QAAQ,EAAE,qBAACO,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAEiB,MAAX,+DAAqB,CAArB,KAA2B,CADxC;AAEG,IAAA,IAAI,EAAE,OAFT;AAGG,IAAA,OAAO,wEAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACDZ,mBAAmB,CAACa,iBAApB,CAAsC;AAC1CX,gBAAAA,OAAO,EAAPA,OAD0C;AAE1CU,gBAAAA,MAAM,EAAE,CAAC;AAFiC,eAAtC,CADC;;AAAA;AAKPhB,cAAAA,oBAAoB,CAACe,OAArB;;AALO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF,EAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUA,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVA,CATwB,EAoBxBhB,QAAQ,CAACiB,MApBe,EAqBzB,MAAC,UAAD;AACI,IAAA,IAAI,EAAE,OADV;AAEI,IAAA,OAAO,wEAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACDZ,mBAAmB,CAACa,iBAApB,CAAsC;AAC1CX,gBAAAA,OAAO,EAAPA;AAD0C,eAAtC,CADC;;AAAA;AAIPN,cAAAA,oBAAoB,CAACe,OAArB;;AAJO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF,EAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CArByB,CAA1B,IAgCO,4BACN,MAAC,MAAD;AACI,IAAA,KAAK,EAAE;AAACG,MAAAA,WAAW,EAAE;AAAd,KADX;AAEI,IAAA,IAAI,EAAE,OAFV;AAGI,IAAA,OAAO,EAAE,UAHb;AAII,IAAA,KAAK,EAAE,WAJX;AAKI,IAAA,OAAO,wEAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACDd,mBAAmB,CAACe,cAApB,CAAmC;AACvCC,gBAAAA,QAAQ,EAAE,CAD6B;AAEvCC,gBAAAA,EAAE,EAAEtB,QAAQ,CAACsB;AAF0B,eAAnC,CADC;;AAAA;AAKPrB,cAAAA,oBAAoB,CAACe,OAArB;;AALO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF,EALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAYEvB,EAAE,CAAC,IAAD,CAZJ,CADM,EAcN,MAAC,MAAD;AACI,IAAA,IAAI,EAAE,OADV;AAEI,IAAA,OAAO,EAAE,UAFb,CAGI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZJ;AAaI,IAAA,OAAO,wEAAE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACWa,0BAA0B,CAACiB,SAA3B,EADX;;AAAA;AACDC,cAAAA,GADC;;AAAA,oBAEH,CAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEC,GAAL,IAAW,CAFR;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAGMpB,mBAAmB,CAACa,iBAApB,CAAsC;AAC/CX,gBAAAA,OAAO,EAAPA,OAD+C;AAE/CU,gBAAAA,MAAM,EAAE,CAAC,EAACO,GAAD,aAACA,GAAD,uBAACA,GAAG,CAAEC,GAAN;AAFsC,eAAtC,CAHN;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,uDAGD,sBAGCP,iBANA,2DAGD,uBAGoBI,EANnB;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAOH3B,cAAAA,WAAW,CAAC,MAAD,CAAX;AACAM,cAAAA,oBAAoB,CAACe,OAArB;;AARG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF,EAbX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAyBEvB,EAAE,CAAC,OAAD,CAzBJ,CAdM,CAlCV,CALK,CAAP;AAkFD,CAxFM;;GAAMM,W;UAC8CP,a,EAClBA,a,EACOA,a;;;MAHnCO,W","sourcesContent":["import React from 'react'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport RemoveIcon from '@material-ui/icons/Remove'\r\nimport {ShopCart} from '../../../graphqlTypes/types'\r\nimport styled from 'styled-components'\r\nimport {dealImgUrl} from '../../../tools/img'\r\nimport {grey} from '@material-ui/core/colors'\r\nimport {productModel, ProductPrice} from '../../../components/ProductItem/ProductItem'\r\nimport {Button, IconButton} from '@material-ui/core'\r\nimport {useStoreModel} from '../../../ModelAction/useStore'\r\nimport {ll} from '../../../tools/dealKey'\r\nimport {shopCartModel} from './index'\r\nimport {showMessage} from '../../../components/Message/Message'\r\nimport {updateShopCartModel} from '../../../components/ProductItem/UpdateShopCart'\r\n\r\nexport const ShopCartProductBox = styled.div`\r\n  margin-bottom: 16px;\r\n  display: grid;\r\n  grid-template-columns: minmax(20px, 72px) 1fr;\r\n  grid-template-rows: repeat(2, 22px) 30px;\r\n  grid-column-gap: 10px;\r\n  > img {\r\n    grid-area: 1/1/4/2;\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 8px;\r\n  }\r\n  > section {\r\n    color: ${grey[600]}\r\n  }\r\n  > footer {\r\n    display: flex;\r\n    align-items: center;\r\n    > main {\r\n      flex-grow: 1;\r\n    }\r\n    > button {\r\n      flex-shrink: 0;\r\n      font-size: 12px;\r\n    }\r\n  }\r\n`\r\n\r\nexport const CartProduct = ({shopCart}: { shopCart: ShopCart }) => {\r\n  const {actions: actionsShopCartModel, state: stateSCM} = useStoreModel(shopCartModel)\r\n  const {actions: actionsProductModel} = useStoreModel(productModel)\r\n  const {actions: actionsUpdateShopCartModel} = useStoreModel(updateShopCartModel)\r\n  const product = shopCart.product\r\n\r\n  return <ShopCartProductBox>\r\n    <img src={dealImgUrl(shopCart.product?.img?.[0]?.url)}\r\n         alt=\"\"/>\r\n    <main>{product?.name}{product?.weight}{product?.unit}</main>\r\n    <section>{product?.remark}</section>\r\n    <footer>\r\n      <ProductPrice product={product}/>\r\n      {(shopCart.isNext === 0 && <>\r\n        <Button\r\n            size={'small'}\r\n            variant={'outlined'}\r\n            onClick={async () => {\r\n              await actionsShopCartModel.moveToNext({shopCart})\r\n              actionsShopCartModel.getList()\r\n            }}\r\n        >{ll('下次购买')}</Button>\r\n        {<IconButton\r\n            disabled={(shopCart?.number ?? 0) <= 1}\r\n            size={'small'}\r\n            onClick={async () => {\r\n              await actionsProductModel.updateNumShopCart({\r\n                product,\r\n                number: -1,\r\n              })\r\n              actionsShopCartModel.getList()\r\n            }}\r\n        ><RemoveIcon/></IconButton>}\r\n        {shopCart.number}\r\n        <IconButton\r\n            size={'small'}\r\n            onClick={async () => {\r\n              await actionsProductModel.updateNumShopCart({\r\n                product,\r\n              })\r\n              actionsShopCartModel.getList()\r\n            }}\r\n        >\r\n          <AddIcon/>\r\n        </IconButton>\r\n      </>) || <>\r\n        <Button\r\n            style={{marginRight: '8px'}}\r\n            size={'small'}\r\n            variant={'outlined'}\r\n            color={'secondary'}\r\n            onClick={async () => {\r\n              await actionsProductModel.updateShopCart({\r\n                isDelete: 1,\r\n                id: shopCart.id,\r\n              })\r\n              actionsShopCartModel.getList()\r\n            }}\r\n        >{ll('删除')}</Button>\r\n        <Button\r\n            size={'small'}\r\n            variant={'outlined'}\r\n            // onClick={async () => {\r\n            //   if (stateSCM.shopCartList.findIndex(v => v.product?.id === shopCart.product?.id) > -1) {\r\n            //     return showMessage('该商品已在购物车中')\r\n            //   }\r\n            //   await actionsProductModel.updateShopCart({\r\n            //     isNext: 0,\r\n            //     id: shopCart.id,\r\n            //   })\r\n            //   actionsShopCartModel.getList()\r\n            // }}\r\n            onClick={async () => {\r\n              const res = await actionsUpdateShopCartModel.openClick()\r\n              if (res?.num > 0) {\r\n                if ((await actionsProductModel.updateNumShopCart({\r\n                  product,\r\n                  number: ~~res?.num,\r\n                }))?.updateNumShopCart?.id) {\r\n                  showMessage('操作成功')\r\n                  actionsShopCartModel.getList()\r\n                }\r\n              }\r\n            }}\r\n        >{ll('加入购物车')}</Button>\r\n      </>}\r\n    </footer>\r\n  </ShopCartProductBox>\r\n}\r\n"]},"metadata":{},"sourceType":"module"}