{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\code\\\\zw\\\\zw_client_web\\\\utils\\\\view\\\\pc\\\\category\\\\category.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useCallback, useEffect } from 'react';\nimport { PcHeader } from '../pcComponents/header/header';\nimport { PcContentBox } from '../home/pcHome';\nimport { TopAction } from '../pcComponents/topAction/topAction';\nimport { HeaderTab, HeaderTabModel } from '../home/components/headerTab';\nimport { Space } from '../../../components/Box/Box';\nimport { useStoreModel } from '../../../ModelAction/useStore';\nimport { useRouter } from 'next/router';\nimport { productListModel } from '../../m/productList/[id]';\nimport { HomeType } from '../../m/home/appModule';\nimport { categoryItemModel, CategoryPageModel } from '../../m/category/[id]';\nimport { homeCategorySelectionModel } from '../../m/home/components/CategorySelection/CategorySelection';\nimport styled from 'styled-components';\nimport { ProductItemBox } from '../pcComponents/productItemBox/productItemBox';\nimport { ll } from '../../../tools/dealKey';\nimport { MainBox } from '../pcComponents/mainBox/mainBox';\nimport { homeTabsModel } from '../../m/home/components/Tabs/Tabs';\nvar ProductBox = styled.div.withConfig({\n  displayName: \"category__ProductBox\",\n  componentId: \"vljoar-0\"\n})([\"display:grid;grid-template-columns:repeat(6,1fr);grid-gap:16px;justify-items:center;\"]);\n_c = ProductBox;\nvar Filter = styled.div.withConfig({\n  displayName: \"category__Filter\",\n  componentId: \"vljoar-1\"\n})([\"\"]);\n_c2 = Filter;\nexport var PcCategory = function PcCategory() {\n  _s();\n\n  var _ref, _router$query;\n\n  var router = useRouter();\n  var id = (_ref = (_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.id) !== null && _ref !== void 0 ? _ref : '';\n\n  var _useStoreModel = useStoreModel(HeaderTabModel),\n      actionsHeaderTabModel = _useStoreModel.actions,\n      stateHeaderTabModel = _useStoreModel.state;\n\n  var _useStoreModel2 = useStoreModel(productListModel),\n      actionsProductListModel = _useStoreModel2.actions,\n      stateProductListModel = _useStoreModel2.state;\n\n  var _useStoreModel3 = useStoreModel(categoryItemModel),\n      actionsCategoryItemModel = _useStoreModel3.actions,\n      stateCategoryItemModel = _useStoreModel3.state;\n\n  var _useStoreModel4 = useStoreModel(CategoryPageModel),\n      actionsCategoryPageModel = _useStoreModel4.actions,\n      stateCategoryPageModel = _useStoreModel4.state;\n\n  var _useStoreModel5 = useStoreModel(CategoryPageModel, 'CategoryPageModel3'),\n      actionsCategoryPageModel3 = _useStoreModel5.actions,\n      stateCategoryPageModel3 = _useStoreModel5.state;\n\n  var _useStoreModel6 = useStoreModel(homeCategorySelectionModel),\n      actionsHomeCategorySelectionModel = _useStoreModel6.actions,\n      stateHomeCategorySelectionModel = _useStoreModel6.state;\n\n  var _useStoreModel7 = useStoreModel(homeTabsModel),\n      stateHomeTabs = _useStoreModel7.state,\n      actionsHomeTabs = _useStoreModel7.actions;\n\n  useEffect(function () {\n    var _ref2;\n\n    actionsHomeTabs.setHomeType((_ref2 = router.query.homeType) !== null && _ref2 !== void 0 ? _ref2 : HomeType.home);\n  }, [actionsHomeTabs, router.query.homeType]);\n  useEffect(function () {\n    actionsHeaderTabModel.switchIsCategory(true);\n  }, [actionsHeaderTabModel]);\n  var getCat = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var _category$parentCateg, _category$parentCateg2, _category$parentCateg7, category, _category$parentCateg3, _category$parentCateg4, _category$parentCateg5, _category$parentCateg6, _category$parentCateg8, _category$parentCateg9;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!id) {\n              _context.next = 15;\n              break;\n            }\n\n            _context.next = 3;\n            return actionsCategoryItemModel.getCategory({\n              id: id\n            });\n\n          case 3:\n            category = _context.sent;\n\n            if (!(category === null || category === void 0 ? void 0 : (_category$parentCateg = category.parentCategory) === null || _category$parentCateg === void 0 ? void 0 : (_category$parentCateg2 = _category$parentCateg.parentCategory) === null || _category$parentCateg2 === void 0 ? void 0 : _category$parentCateg2.id)) {\n              _context.next = 8;\n              break;\n            }\n\n            actionsHomeCategorySelectionModel.changeActId(category === null || category === void 0 ? void 0 : (_category$parentCateg3 = category.parentCategory) === null || _category$parentCateg3 === void 0 ? void 0 : (_category$parentCateg4 = _category$parentCateg3.parentCategory) === null || _category$parentCateg4 === void 0 ? void 0 : _category$parentCateg4.id);\n            _context.next = 8;\n            return actionsCategoryPageModel.getProductList({\n              categoryItemInput: {\n                id: category === null || category === void 0 ? void 0 : (_category$parentCateg5 = category.parentCategory) === null || _category$parentCateg5 === void 0 ? void 0 : (_category$parentCateg6 = _category$parentCateg5.parentCategory) === null || _category$parentCateg6 === void 0 ? void 0 : _category$parentCateg6.id\n              },\n              productItemInput: {\n                isGroup: 0\n              }\n            });\n\n          case 8:\n            if (!(category === null || category === void 0 ? void 0 : (_category$parentCateg7 = category.parentCategory) === null || _category$parentCateg7 === void 0 ? void 0 : _category$parentCateg7.id)) {\n              _context.next = 12;\n              break;\n            }\n\n            actionsCategoryPageModel.changeActCatId(category === null || category === void 0 ? void 0 : (_category$parentCateg8 = category.parentCategory) === null || _category$parentCateg8 === void 0 ? void 0 : _category$parentCateg8.id);\n            _context.next = 12;\n            return actionsCategoryPageModel3.getProductList({\n              categoryItemInput: {\n                id: category === null || category === void 0 ? void 0 : (_category$parentCateg9 = category.parentCategory) === null || _category$parentCateg9 === void 0 ? void 0 : _category$parentCateg9.id\n              },\n              productItemInput: {\n                isGroup: 0\n              }\n            });\n\n          case 12:\n            if (category === null || category === void 0 ? void 0 : category.id) {\n              actionsCategoryPageModel3.changeActCatId(category === null || category === void 0 ? void 0 : category.id);\n            }\n\n            _context.next = 15;\n            return actionsProductListModel.getData({\n              isGroup: router.query.homeType === HomeType.group ? 1 : 0,\n              category: {\n                id: id\n              }\n            });\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [actionsCategoryItemModel, actionsCategoryPageModel, actionsCategoryPageModel3, actionsHomeCategorySelectionModel, actionsProductListModel, id, router.query.homeType]);\n  useEffect(function () {\n    getCat();\n  }, [getCat, id]);\n  return __jsx(MainBox, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 10\n    }\n  }, __jsx(PcHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }), __jsx(PcContentBox, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, __jsx(TopAction, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }), __jsx(HeaderTab, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }), __jsx(Space, {\n    h: 16,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }), __jsx(Filter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, stateProductListModel.total, ll('条结果'))), __jsx(Space, {\n    h: 16,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }), __jsx(ProductBox, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, stateProductListModel.productList.map(function (product) {\n    return __jsx(ProductItemBox, {\n      key: \"stateProductListModel.productList_\".concat(product.id),\n      product: product,\n      type: stateHomeTabs.homeType,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 59\n      }\n    });\n  }))));\n};\n\n_s(PcCategory, \"7oY/JjWrVRYizuRsYcAwz8Fm+OI=\", false, function () {\n  return [useRouter, useStoreModel, useStoreModel, useStoreModel, useStoreModel, useStoreModel, useStoreModel, useStoreModel];\n});\n\n_c3 = PcCategory;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"ProductBox\");\n$RefreshReg$(_c2, \"Filter\");\n$RefreshReg$(_c3, \"PcCategory\");","map":{"version":3,"sources":["D:/code/zw/zw_client_web/utils/view/pc/category/category.tsx"],"names":["React","useCallback","useEffect","PcHeader","PcContentBox","TopAction","HeaderTab","HeaderTabModel","Space","useStoreModel","useRouter","productListModel","HomeType","categoryItemModel","CategoryPageModel","homeCategorySelectionModel","styled","ProductItemBox","ll","MainBox","homeTabsModel","ProductBox","div","Filter","PcCategory","router","id","query","actionsHeaderTabModel","actions","stateHeaderTabModel","state","actionsProductListModel","stateProductListModel","actionsCategoryItemModel","stateCategoryItemModel","actionsCategoryPageModel","stateCategoryPageModel","actionsCategoryPageModel3","stateCategoryPageModel3","actionsHomeCategorySelectionModel","stateHomeCategorySelectionModel","stateHomeTabs","actionsHomeTabs","setHomeType","homeType","home","switchIsCategory","getCat","getCategory","category","parentCategory","changeActId","getProductList","categoryItemInput","productItemInput","isGroup","changeActCatId","getData","group","total","productList","map","product"],"mappings":"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","sourcesContent":["import React, {useCallback, useEffect} from 'react'\r\nimport {PcHeader} from '../pcComponents/header/header'\r\nimport {PcContentBox} from '../home/pcHome'\r\nimport {TopAction} from '../pcComponents/topAction/topAction'\r\nimport {HeaderTab, HeaderTabModel} from '../home/components/headerTab'\r\nimport {Space} from '../../../components/Box/Box'\r\nimport {useStoreModel} from '../../../ModelAction/useStore'\r\nimport {useRouter} from 'next/router'\r\nimport {productListModel} from '../../m/productList/[id]'\r\nimport {HomeType} from '../../m/home/appModule'\r\nimport {categoryItemModel, CategoryPageModel} from '../../m/category/[id]'\r\nimport {Category} from '../../../graphqlTypes/types'\r\nimport {homeCategorySelectionModel} from '../../m/home/components/CategorySelection/CategorySelection'\r\nimport styled from 'styled-components'\r\nimport {ProductItemBox} from '../pcComponents/productItemBox/productItemBox'\r\nimport {ll} from '../../../tools/dealKey'\r\nimport {MainBox} from '../pcComponents/mainBox/mainBox'\r\nimport {homeTabsModel} from '../../m/home/components/Tabs/Tabs'\r\n\r\nconst ProductBox = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(6, 1fr);\r\n  grid-gap: 16px;\r\n  justify-items: center;\r\n`\r\nconst Filter = styled.div`\r\n`\r\n\r\nexport const PcCategory = () => {\r\n  const router = useRouter()\r\n  const id = (router.query?.id as string) ?? ''\r\n\r\n  const {actions: actionsHeaderTabModel, state: stateHeaderTabModel} = useStoreModel(HeaderTabModel)\r\n  const {actions: actionsProductListModel, state: stateProductListModel} = useStoreModel(productListModel)\r\n  const {actions: actionsCategoryItemModel, state: stateCategoryItemModel} = useStoreModel(categoryItemModel)\r\n  const {actions: actionsCategoryPageModel, state: stateCategoryPageModel} = useStoreModel(CategoryPageModel)\r\n  const {actions: actionsCategoryPageModel3, state: stateCategoryPageModel3} = useStoreModel(CategoryPageModel, 'CategoryPageModel3')\r\n  const {actions: actionsHomeCategorySelectionModel, state: stateHomeCategorySelectionModel} = useStoreModel(homeCategorySelectionModel)\r\n  const {state: stateHomeTabs, actions: actionsHomeTabs} = useStoreModel(homeTabsModel)\r\n\r\n  useEffect(() => {\r\n    actionsHomeTabs.setHomeType((router.query.homeType as string) ?? HomeType.home)\r\n  }, [actionsHomeTabs, router.query.homeType])\r\n\r\n  useEffect(() => {\r\n    actionsHeaderTabModel.switchIsCategory(true)\r\n  }, [actionsHeaderTabModel])\r\n  const getCat = useCallback(async () => {\r\n    if (!!id) {\r\n      const category: Category = await actionsCategoryItemModel.getCategory({id})\r\n      if (category?.parentCategory?.parentCategory?.id) {\r\n        actionsHomeCategorySelectionModel.changeActId(category?.parentCategory?.parentCategory?.id)\r\n        await actionsCategoryPageModel.getProductList({\r\n          categoryItemInput: {id: category?.parentCategory?.parentCategory?.id},\r\n          productItemInput: {\r\n            isGroup: 0,\r\n          },\r\n        })\r\n      }\r\n      if (category?.parentCategory?.id) {\r\n        actionsCategoryPageModel.changeActCatId(category?.parentCategory?.id)\r\n        await actionsCategoryPageModel3.getProductList({\r\n          categoryItemInput: {id: category?.parentCategory?.id},\r\n          productItemInput: {\r\n            isGroup: 0,\r\n          },\r\n        })\r\n      }\r\n      if (category?.id) {\r\n        actionsCategoryPageModel3.changeActCatId(category?.id)\r\n      }\r\n\r\n      await actionsProductListModel.getData({\r\n        isGroup: router.query.homeType === HomeType.group ? 1 : 0,\r\n        category: {\r\n          id,\r\n        },\r\n      })\r\n    }\r\n  }, [actionsCategoryItemModel, actionsCategoryPageModel, actionsCategoryPageModel3, actionsHomeCategorySelectionModel, actionsProductListModel, id, router.query.homeType])\r\n  useEffect(() => {\r\n    getCat()\r\n  }, [getCat, id])\r\n\r\n  return <MainBox>\r\n    <PcHeader/>\r\n    <PcContentBox>\r\n      <TopAction/>\r\n      <HeaderTab/>\r\n      <Space h={16}/>\r\n      <Filter>\r\n        <div/>\r\n        <div>{stateProductListModel.total}{ll('条结果')}</div>\r\n      </Filter>\r\n      <Space h={16}/>\r\n      <ProductBox>\r\n        {stateProductListModel.productList.map(product => <ProductItemBox\r\n            key={`stateProductListModel.productList_${product.id}`}\r\n            product={product}\r\n            type={stateHomeTabs.homeType}\r\n        />)}\r\n      </ProductBox>\r\n    </PcContentBox>\r\n  </MainBox>\r\n}\r\n"]},"metadata":{},"sourceType":"module"}