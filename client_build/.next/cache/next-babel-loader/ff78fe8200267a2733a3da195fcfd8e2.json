{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"D:\\\\code\\\\zw\\\\zw_client_web\\\\utils\\\\view\\\\pay\\\\index.tsx\";\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Head from 'next/head';\nimport './mysqpaymentform.css';\nimport { ls } from '../../tools/dealKey';\nexport var Pay = function Pay() {\n  // @ts-ignore\n  var paymentForm = new SqPaymentForm({\n    // Initialize the payment form elements\n    applicationId: \"sandbox-sq0idb-42FQ7wGBwzibToRM9_zdFw\",\n    inputClass: 'sq-input',\n    autoBuild: false,\n    // Customize the CSS for SqPaymentForm iframe elements\n    inputStyles: [{\n      fontSize: '16px',\n      lineHeight: '24px',\n      padding: '16px',\n      placeholderColor: '#a0a0a0',\n      backgroundColor: 'transparent'\n    }],\n    // Initialize the credit card placeholders\n    cardNumber: {\n      elementId: 'sq-card-number',\n      placeholder: 'Card Number'\n    },\n    cvv: {\n      elementId: 'sq-cvv',\n      placeholder: 'CVV'\n    },\n    expirationDate: {\n      elementId: 'sq-expiration-date',\n      placeholder: 'MM/YY'\n    },\n    postalCode: {\n      elementId: 'sq-postal-code',\n      placeholder: 'Postal'\n    },\n    // SqPaymentForm callback functions\n    callbacks: {\n      /*\r\n      * callback function: cardNonceResponseReceived\r\n      * Triggered when: SqPaymentForm completes a card nonce request\r\n      */\n      cardNonceResponseReceived: function cardNonceResponseReceived(errors, nonce, cardData) {\n        if (errors) {\n          // Log errors from nonce generation to the browser developer console.\n          console.error('Encountered errors:');\n          errors.forEach(function (error) {\n            console.error('  ' + error.message);\n          });\n          alert('Encountered errors, check browser developer console for more details');\n          return;\n        } // alert(`The generated nonce is:\\n${nonce}`)\n\n\n        fetch('process-payment', {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            nonce: nonce\n          })\n        })[\"catch\"](function (err) {\n          alert('Network error: ' + err);\n        }).then(function (response) {\n          if (!response.ok) {\n            return response.json().then(function (errorInfo) {\n              return Promise.reject(errorInfo);\n            }); //UPDATE HERE\n          }\n\n          return response.json(); //UPDATE HERE\n        }).then(function (data) {\n          console.log(data); //UPDATE HERE\n\n          alert('Payment complete successfully!\\nCheck browser developer console for more details');\n        })[\"catch\"](function (err) {\n          console.error(err);\n          alert('Payment failed to complete!\\nCheck browser developer console for more details');\n        });\n      }\n    }\n  });\n  paymentForm.build(); // onGetCardNonce is triggered when the \"Pay $1.00\" button is clicked\n\n  function onGetCardNonce(event) {\n    // Don't submit the form until SqPaymentForm returns with a nonce\n    event.preventDefault(); // Request a nonce from the SqPaymentForm object\n\n    paymentForm.requestCardNonce();\n  }\n\n  return __jsx(\"div\", {\n    className: \"jsx-569710452\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 10\n    }\n  }, __jsx(_JSXStyle, {\n    id: \"569710452\",\n    __self: _this\n  }, \"l *.jsx-569710452{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}l body.jsx-569710452,l html.jsx-569710452{background-color:#F7F8F9;color:#373F4A;font-family:\\\"Helvetica Neue\\\",Helvetica,Arial,sans-serif;font-weight:normal;height:100%;}l button.jsx-569710452{border:0;font-weight:500;}l fieldset.jsx-569710452{margin:0;padding:0;border:0;}l #form-container.jsx-569710452{position:relative;width:118.75vw;margin:0 auto;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);}l .third.jsx-569710452{float:left;width:calc((100% - 10vw) / 3);padding:0;margin:0 5vw 5vw 0;}l .third.jsx-569710452:last-of-type{margin-right:0;}l .sq-input.jsx-569710452{height:17.5vw;box-sizing:border-box;border:1px solid #E0E2E3;background-color:white;border-radius:1.875vw;display:inline-block;-webkit-transition:border-color .2s ease-in-out;transition:border-color .2s ease-in-out;}l .sq-input--focus.jsx-569710452{border:1px solid #4A90E2;}l .sq-input--error.jsx-569710452{border:1px solid #E02F2F;}l #sq-card-number.jsx-569710452{margin-bottom:5vw;}l .button-credit-card.jsx-569710452{width:100%;height:17.5vw;margin-top:3.125vw;background:#4A90E2;border-radius:1.875vw;cursor:pointer;display:block;color:#FFFFFF;font-size:5vw;line-height:7.5vw;font-weight:700;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;text-align:center;-webkit-transition:background .2s ease-in-out;transition:background .2s ease-in-out;}l .button-credit-card.jsx-569710452:hover{background-color:#4281CB;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxjb2RlXFx6d1xcendfY2xpZW50X3dlYlxcdXRpbHNcXHZpZXdcXHBheVxcaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQStGZ0IsQUFPd0MsQUFHVixBQU1oQixBQUdBLEFBSVMsQUFNUCxBQUtJLEFBRUQsQUFRVyxBQUVBLEFBRVAsQUFFUCxBQWVjLFNBaERULEFBR04sRUFVb0IsQUFxQmhCLEdBZFEsQ0FITixHQVZELEFBd0JJLENBM0JWLE1BVkssQUFNRyxBQTJCUyxBQUVBLEFBTVAsQUFhTyxHQTVDaEIsS0FJSSxFQWpCb0IsQ0E4QlQsR0ExQmtDLEVBbUJqRCxHQXNCUyxHQTNCWCxJQU1XLElBTFEsTUFZSixFQWVELE1BOUNhLENBd0JmLGNBUUUsQ0FlUCxVQTFDSSxLQTJDTCxNQWZPLFFBM0JULEFBMkNFLFlBM0NELENBNEIyQixDQWdCMUIsY0FDSSxNQWhDVSxZQWlDWixnQkFDQyx1Q0FuQndCLDhDQW9CdkIsa0JBQ29CLG9GQUFDIiwiZmlsZSI6IkQ6XFxjb2RlXFx6d1xcendfY2xpZW50X3dlYlxcdXRpbHNcXHZpZXdcXHBheVxcaW5kZXgudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnXHJcbmltcG9ydCAnLi9teXNxcGF5bWVudGZvcm0uY3NzJ1xyXG5pbXBvcnQge2xzfSBmcm9tICcuLi8uLi90b29scy9kZWFsS2V5J1xyXG5cclxuZXhwb3J0IGNvbnN0IFBheSA9ICgpID0+IHtcclxuICAvLyBAdHMtaWdub3JlXHJcbiAgY29uc3QgcGF5bWVudEZvcm0gPSBuZXcgU3FQYXltZW50Rm9ybSh7XHJcbiAgICAvLyBJbml0aWFsaXplIHRoZSBwYXltZW50IGZvcm0gZWxlbWVudHNcclxuICAgIGFwcGxpY2F0aW9uSWQ6IFwic2FuZGJveC1zcTBpZGItNDJGUTd3R0J3emliVG9STTlfemRGd1wiLFxyXG4gICAgaW5wdXRDbGFzczogJ3NxLWlucHV0JyxcclxuICAgIGF1dG9CdWlsZDogZmFsc2UsXHJcbiAgICAvLyBDdXN0b21pemUgdGhlIENTUyBmb3IgU3FQYXltZW50Rm9ybSBpZnJhbWUgZWxlbWVudHNcclxuICAgIGlucHV0U3R5bGVzOiBbe1xyXG4gICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICBsaW5lSGVpZ2h0OiAnMjRweCcsXHJcbiAgICAgIHBhZGRpbmc6ICcxNnB4JyxcclxuICAgICAgcGxhY2Vob2xkZXJDb2xvcjogJyNhMGEwYTAnLFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXHJcbiAgICB9XSxcclxuICAgIC8vIEluaXRpYWxpemUgdGhlIGNyZWRpdCBjYXJkIHBsYWNlaG9sZGVyc1xyXG4gICAgY2FyZE51bWJlcjoge1xyXG4gICAgICBlbGVtZW50SWQ6ICdzcS1jYXJkLW51bWJlcicsXHJcbiAgICAgIHBsYWNlaG9sZGVyOiAnQ2FyZCBOdW1iZXInLFxyXG4gICAgfSxcclxuICAgIGN2djoge1xyXG4gICAgICBlbGVtZW50SWQ6ICdzcS1jdnYnLFxyXG4gICAgICBwbGFjZWhvbGRlcjogJ0NWVicsXHJcbiAgICB9LFxyXG4gICAgZXhwaXJhdGlvbkRhdGU6IHtcclxuICAgICAgZWxlbWVudElkOiAnc3EtZXhwaXJhdGlvbi1kYXRlJyxcclxuICAgICAgcGxhY2Vob2xkZXI6ICdNTS9ZWScsXHJcbiAgICB9LFxyXG4gICAgcG9zdGFsQ29kZToge1xyXG4gICAgICBlbGVtZW50SWQ6ICdzcS1wb3N0YWwtY29kZScsXHJcbiAgICAgIHBsYWNlaG9sZGVyOiAnUG9zdGFsJyxcclxuICAgIH0sXHJcbiAgICAvLyBTcVBheW1lbnRGb3JtIGNhbGxiYWNrIGZ1bmN0aW9uc1xyXG4gICAgY2FsbGJhY2tzOiB7XHJcbiAgICAgIC8qXHJcbiAgICAgICogY2FsbGJhY2sgZnVuY3Rpb246IGNhcmROb25jZVJlc3BvbnNlUmVjZWl2ZWRcclxuICAgICAgKiBUcmlnZ2VyZWQgd2hlbjogU3FQYXltZW50Rm9ybSBjb21wbGV0ZXMgYSBjYXJkIG5vbmNlIHJlcXVlc3RcclxuICAgICAgKi9cclxuICAgICAgY2FyZE5vbmNlUmVzcG9uc2VSZWNlaXZlZDogZnVuY3Rpb24gKGVycm9yczogYW55LCBub25jZTogYW55LCBjYXJkRGF0YTogYW55KSB7XHJcbiAgICAgICAgaWYgKGVycm9ycykge1xyXG4gICAgICAgICAgLy8gTG9nIGVycm9ycyBmcm9tIG5vbmNlIGdlbmVyYXRpb24gdG8gdGhlIGJyb3dzZXIgZGV2ZWxvcGVyIGNvbnNvbGUuXHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFbmNvdW50ZXJlZCBlcnJvcnM6JylcclxuICAgICAgICAgIGVycm9ycy5mb3JFYWNoKGZ1bmN0aW9uIChlcnJvcjogYW55KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJyAgJyArIGVycm9yLm1lc3NhZ2UpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgYWxlcnQoJ0VuY291bnRlcmVkIGVycm9ycywgY2hlY2sgYnJvd3NlciBkZXZlbG9wZXIgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzJylcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhbGVydChgVGhlIGdlbmVyYXRlZCBub25jZSBpczpcXG4ke25vbmNlfWApXHJcbiAgICAgICAgZmV0Y2goJ3Byb2Nlc3MtcGF5bWVudCcsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgbm9uY2U6IG5vbmNlLFxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgYWxlcnQoJ05ldHdvcmsgZXJyb3I6ICcgKyBlcnIpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS50aGVuKChlcnJvckluZm86IGFueSkgPT4gUHJvbWlzZS5yZWplY3QoZXJyb3JJbmZvKSkgLy9VUERBVEUgSEVSRVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIC8vVVBEQVRFIEhFUkVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSkgLy9VUERBVEUgSEVSRVxyXG4gICAgICAgICAgICAgIGFsZXJ0KCdQYXltZW50IGNvbXBsZXRlIHN1Y2Nlc3NmdWxseSFcXG5DaGVjayBicm93c2VyIGRldmVsb3BlciBjb25zb2xlIGZvciBtb3JlIGRldGFpbHMnKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycilcclxuICAgICAgICAgICAgICBhbGVydCgnUGF5bWVudCBmYWlsZWQgdG8gY29tcGxldGUhXFxuQ2hlY2sgYnJvd3NlciBkZXZlbG9wZXIgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzJylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgfSlcclxuICBwYXltZW50Rm9ybS5idWlsZCgpXHJcblxyXG4vLyBvbkdldENhcmROb25jZSBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgXCJQYXkgJDEuMDBcIiBidXR0b24gaXMgY2xpY2tlZFxyXG4gIGZ1bmN0aW9uIG9uR2V0Q2FyZE5vbmNlKGV2ZW50OiBhbnkpIHtcclxuICAgIC8vIERvbid0IHN1Ym1pdCB0aGUgZm9ybSB1bnRpbCBTcVBheW1lbnRGb3JtIHJldHVybnMgd2l0aCBhIG5vbmNlXHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAvLyBSZXF1ZXN0IGEgbm9uY2UgZnJvbSB0aGUgU3FQYXltZW50Rm9ybSBvYmplY3RcclxuICAgIHBheW1lbnRGb3JtLnJlcXVlc3RDYXJkTm9uY2UoKVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIDxkaXY+XHJcbiAgICA8c3R5bGUganN4PntgXHJcbiAgICAgIDpnbG9iYWwge1xyXG4gICAgICAgICoge1xyXG4gICAgICAgICAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XHJcbiAgICAgICAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYm9keSwgaHRtbCB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjdGOEY5O1xyXG4gICAgICAgICAgY29sb3I6ICMzNzNGNEE7XHJcbiAgICAgICAgICBmb250LWZhbWlseTogXCJIZWx2ZXRpY2EgTmV1ZVwiLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcclxuICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJ1dHRvbiB7XHJcbiAgICAgICAgICBib3JkZXI6IDA7XHJcbiAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZmllbGRzZXQge1xyXG4gICAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICAgIGJvcmRlcjogMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICNmb3JtLWNvbnRhaW5lciB7XHJcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICB3aWR0aDogMzgwcHg7XHJcbiAgICAgICAgICBtYXJnaW46IDAgYXV0bztcclxuICAgICAgICAgIHRvcDogNTAlO1xyXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnRoaXJkIHtcclxuICAgICAgICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgICAgICAgd2lkdGg6IGNhbGMoKDEwMCUgLSAzMnB4KSAvIDMpO1xyXG4gICAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICAgIG1hcmdpbjogMCAxNnB4IDE2cHggMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC50aGlyZDpsYXN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogRGVmaW5lIGhvdyBTcVBheW1lbnRGb3JtIGlmcmFtZXMgc2hvdWxkIGxvb2sgKi9cclxuICAgICAgICAuc3EtaW5wdXQge1xyXG4gICAgICAgICAgaGVpZ2h0OiA1NnB4O1xyXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNFMEUyRTM7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcclxuICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIC4ycyBlYXNlLWluLW91dDtcclxuICAgICAgICAgICAgIC1tb3otdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIC4ycyBlYXNlLWluLW91dDtcclxuICAgICAgICAgICAgICAtbXMtdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIC4ycyBlYXNlLWluLW91dDtcclxuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIC4ycyBlYXNlLWluLW91dDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIERlZmluZSBob3cgU3FQYXltZW50Rm9ybSBpZnJhbWVzIHNob3VsZCBsb29rIHdoZW4gdGhleSBoYXZlIGZvY3VzICovXHJcbiAgICAgICAgLnNxLWlucHV0LS1mb2N1cyB7XHJcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjNEE5MEUyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogRGVmaW5lIGhvdyBTcVBheW1lbnRGb3JtIGlmcmFtZXMgc2hvdWxkIGxvb2sgd2hlbiB0aGV5IGNvbnRhaW4gaW52YWxpZCB2YWx1ZXMgKi9cclxuICAgICAgICAuc3EtaW5wdXQtLWVycm9yIHtcclxuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNFMDJGMkY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAjc3EtY2FyZC1udW1iZXIge1xyXG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIEN1c3RvbWl6ZSB0aGUgXCJQYXkgd2l0aCBDcmVkaXQgQ2FyZFwiIGJ1dHRvbiAqL1xyXG4gICAgICAgIC5idXR0b24tY3JlZGl0LWNhcmQge1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDU2cHg7XHJcbiAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgICAgICAgYmFja2dyb3VuZDogIzRBOTBFMjtcclxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcclxuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgY29sb3I6ICNGRkZGRkY7XHJcbiAgICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgICAgICBsaW5lLWhlaWdodDogMjRweDtcclxuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgICAgICAgICBsZXR0ZXItc3BhY2luZzogMDtcclxuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYmFja2dyb3VuZCAuMnMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgICAgICAgICAtbW96LXRyYW5zaXRpb246IGJhY2tncm91bmQgLjJzIGVhc2UtaW4tb3V0O1xyXG4gICAgICAgICAgICAgIC1tcy10cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIC4ycyBlYXNlLWluLW91dDtcclxuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAuMnMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuYnV0dG9uLWNyZWRpdC1jYXJkOmhvdmVyIHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0MjgxQ0I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICBgfTwvc3R5bGU+XHJcbiAgICA8SGVhZD5cclxuICAgICAgPHRpdGxlPnBheTwvdGl0bGU+XHJcbiAgICAgIDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiXHJcbiAgICAgICAgICAgICAgc3JjPVwiaHR0cHM6Ly9qcy5zcXVhcmV1cHNhbmRib3guY29tL3YyL3BheW1lbnRmb3JtXCI+XHJcbiAgICAgIDwvc2NyaXB0PlxyXG4gICAgPC9IZWFkPlxyXG4gICAge2xzKCfmlK/ku5gnKX1cclxuICAgIDxkaXYgaWQ9XCJmb3JtLWNvbnRhaW5lclwiPlxyXG4gICAgICA8ZGl2IGlkPVwic3EtY2FyZC1udW1iZXJcIj48L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aGlyZFwiXHJcbiAgICAgICAgICAgaWQ9XCJzcS1leHBpcmF0aW9uLWRhdGVcIj48L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aGlyZFwiXHJcbiAgICAgICAgICAgaWQ9XCJzcS1jdnZcIj48L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aGlyZFwiXHJcbiAgICAgICAgICAgaWQ9XCJzcS1wb3N0YWwtY29kZVwiPjwvZGl2PlxyXG4gICAgICA8YnV0dG9uIGlkPVwic3EtY3JlZGl0Y2FyZFwiXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnV0dG9uLWNyZWRpdC1jYXJkXCJcclxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkdldENhcmROb25jZX0+UGF5XHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbn1cclxuIl19 */\\n/*@ sourceURL=D:\\\\\\\\code\\\\\\\\zw\\\\\\\\zw_client_web\\\\\\\\utils\\\\\\\\view\\\\\\\\pay\\\\\\\\index.tsx */\"), __jsx(Head, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 5\n    }\n  }, __jsx(\"title\", {\n    className: \"jsx-569710452\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }\n  }, \"pay\"), __jsx(\"script\", {\n    type: \"text/javascript\",\n    src: \"https://js.squareupsandbox.com/v2/paymentform\",\n    className: \"jsx-569710452\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }\n  })), ls('支付'), __jsx(\"div\", {\n    id: \"form-container\",\n    className: \"jsx-569710452\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    id: \"sq-card-number\",\n    className: \"jsx-569710452\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    id: \"sq-expiration-date\",\n    className: \"jsx-569710452\" + \" \" + \"third\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    id: \"sq-cvv\",\n    className: \"jsx-569710452\" + \" \" + \"third\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    id: \"sq-postal-code\",\n    className: \"jsx-569710452\" + \" \" + \"third\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }\n  }), __jsx(\"button\", {\n    id: \"sq-creditcard\",\n    onClick: onGetCardNonce,\n    className: \"jsx-569710452\" + \" \" + \"button-credit-card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }\n  }, \"Pay\")));\n};\n_c = Pay;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pay\");","map":{"version":3,"sources":["D:/code/zw/zw_client_web/utils/view/pay/index.tsx"],"names":["React","Head","ls","Pay","paymentForm","SqPaymentForm","applicationId","inputClass","autoBuild","inputStyles","fontSize","lineHeight","padding","placeholderColor","backgroundColor","cardNumber","elementId","placeholder","cvv","expirationDate","postalCode","callbacks","cardNonceResponseReceived","errors","nonce","cardData","console","error","forEach","message","alert","fetch","method","headers","body","JSON","stringify","err","then","response","ok","json","errorInfo","Promise","reject","data","log","build","onGetCardNonce","event","preventDefault","requestCardNonce"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Head from 'next/head'\r\nimport './mysqpaymentform.css'\r\nimport {ls} from '../../tools/dealKey'\r\n\r\nexport const Pay = () => {\r\n  // @ts-ignore\r\n  const paymentForm = new SqPaymentForm({\r\n    // Initialize the payment form elements\r\n    applicationId: \"sandbox-sq0idb-42FQ7wGBwzibToRM9_zdFw\",\r\n    inputClass: 'sq-input',\r\n    autoBuild: false,\r\n    // Customize the CSS for SqPaymentForm iframe elements\r\n    inputStyles: [{\r\n      fontSize: '16px',\r\n      lineHeight: '24px',\r\n      padding: '16px',\r\n      placeholderColor: '#a0a0a0',\r\n      backgroundColor: 'transparent',\r\n    }],\r\n    // Initialize the credit card placeholders\r\n    cardNumber: {\r\n      elementId: 'sq-card-number',\r\n      placeholder: 'Card Number',\r\n    },\r\n    cvv: {\r\n      elementId: 'sq-cvv',\r\n      placeholder: 'CVV',\r\n    },\r\n    expirationDate: {\r\n      elementId: 'sq-expiration-date',\r\n      placeholder: 'MM/YY',\r\n    },\r\n    postalCode: {\r\n      elementId: 'sq-postal-code',\r\n      placeholder: 'Postal',\r\n    },\r\n    // SqPaymentForm callback functions\r\n    callbacks: {\r\n      /*\r\n      * callback function: cardNonceResponseReceived\r\n      * Triggered when: SqPaymentForm completes a card nonce request\r\n      */\r\n      cardNonceResponseReceived: function (errors: any, nonce: any, cardData: any) {\r\n        if (errors) {\r\n          // Log errors from nonce generation to the browser developer console.\r\n          console.error('Encountered errors:')\r\n          errors.forEach(function (error: any) {\r\n            console.error('  ' + error.message)\r\n          })\r\n          alert('Encountered errors, check browser developer console for more details')\r\n          return\r\n        }\r\n        // alert(`The generated nonce is:\\n${nonce}`)\r\n        fetch('process-payment', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({\r\n            nonce: nonce,\r\n          }),\r\n        })\r\n            .catch(err => {\r\n              alert('Network error: ' + err)\r\n            })\r\n            .then((response: any) => {\r\n              if (!response.ok) {\r\n                return response.json().then((errorInfo: any) => Promise.reject(errorInfo)) //UPDATE HERE\r\n              }\r\n              return response.json() //UPDATE HERE\r\n            })\r\n            .then(data => {\r\n              console.log(data) //UPDATE HERE\r\n              alert('Payment complete successfully!\\nCheck browser developer console for more details')\r\n            })\r\n            .catch(err => {\r\n              console.error(err)\r\n              alert('Payment failed to complete!\\nCheck browser developer console for more details')\r\n            })\r\n      },\r\n    },\r\n  })\r\n  paymentForm.build()\r\n\r\n// onGetCardNonce is triggered when the \"Pay $1.00\" button is clicked\r\n  function onGetCardNonce(event: any) {\r\n    // Don't submit the form until SqPaymentForm returns with a nonce\r\n    event.preventDefault()\r\n    // Request a nonce from the SqPaymentForm object\r\n    paymentForm.requestCardNonce()\r\n  }\r\n\r\n  return <div>\r\n    <style jsx>{`\r\n      :global {\r\n        * {\r\n          -webkit-font-smoothing: antialiased;\r\n          -moz-osx-font-smoothing: grayscale;\r\n        }\r\n\r\n        body, html {\r\n          background-color: #F7F8F9;\r\n          color: #373F4A;\r\n          font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\r\n          font-weight: normal;\r\n          height: 100%;\r\n        }\r\n\r\n        button {\r\n          border: 0;\r\n          font-weight: 500;\r\n        }\r\n\r\n        fieldset {\r\n          margin: 0;\r\n          padding: 0;\r\n          border: 0;\r\n        }\r\n\r\n        #form-container {\r\n          position: relative;\r\n          width: 380px;\r\n          margin: 0 auto;\r\n          top: 50%;\r\n          transform: translateY(-50%);\r\n        }\r\n\r\n        .third {\r\n          float: left;\r\n          width: calc((100% - 32px) / 3);\r\n          padding: 0;\r\n          margin: 0 16px 16px 0;\r\n        }\r\n\r\n        .third:last-of-type {\r\n          margin-right: 0;\r\n        }\r\n\r\n        /* Define how SqPaymentForm iframes should look */\r\n        .sq-input {\r\n          height: 56px;\r\n          box-sizing: border-box;\r\n          border: 1px solid #E0E2E3;\r\n          background-color: white;\r\n          border-radius: 6px;\r\n          display: inline-block;\r\n          -webkit-transition: border-color .2s ease-in-out;\r\n             -moz-transition: border-color .2s ease-in-out;\r\n              -ms-transition: border-color .2s ease-in-out;\r\n                  transition: border-color .2s ease-in-out;\r\n        }\r\n\r\n        /* Define how SqPaymentForm iframes should look when they have focus */\r\n        .sq-input--focus {\r\n          border: 1px solid #4A90E2;\r\n        }\r\n\r\n        /* Define how SqPaymentForm iframes should look when they contain invalid values */\r\n        .sq-input--error {\r\n          border: 1px solid #E02F2F;\r\n        }\r\n\r\n        #sq-card-number {\r\n          margin-bottom: 16px;\r\n        }\r\n\r\n        /* Customize the \"Pay with Credit Card\" button */\r\n        .button-credit-card {\r\n          width: 100%;\r\n          height: 56px;\r\n          margin-top: 10px;\r\n          background: #4A90E2;\r\n          border-radius: 6px;\r\n          cursor: pointer;\r\n          display: block;\r\n          color: #FFFFFF;\r\n          font-size: 16px;\r\n          line-height: 24px;\r\n          font-weight: 700;\r\n          letter-spacing: 0;\r\n          text-align: center;\r\n          -webkit-transition: background .2s ease-in-out;\r\n             -moz-transition: background .2s ease-in-out;\r\n              -ms-transition: background .2s ease-in-out;\r\n                  transition: background .2s ease-in-out;\r\n        }\r\n\r\n        .button-credit-card:hover {\r\n          background-color: #4281CB;\r\n        }\r\n      }\r\n    `}</style>\r\n    <Head>\r\n      <title>pay</title>\r\n      <script type=\"text/javascript\"\r\n              src=\"https://js.squareupsandbox.com/v2/paymentform\">\r\n      </script>\r\n    </Head>\r\n    {ls('支付')}\r\n    <div id=\"form-container\">\r\n      <div id=\"sq-card-number\"></div>\r\n      <div className=\"third\"\r\n           id=\"sq-expiration-date\"></div>\r\n      <div className=\"third\"\r\n           id=\"sq-cvv\"></div>\r\n      <div className=\"third\"\r\n           id=\"sq-postal-code\"></div>\r\n      <button id=\"sq-creditcard\"\r\n              className=\"button-credit-card\"\r\n              onClick={onGetCardNonce}>Pay\r\n      </button>\r\n    </div>\r\n  </div>\r\n}\r\n"]},"metadata":{},"sourceType":"module"}