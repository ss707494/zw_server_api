{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\code\\\\zw\\\\zw_client_web\\\\utils\\\\components\\\\Message\\\\Message.tsx\";\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport { Snackbar } from '@material-ui/core';\nimport { amber, blue, common, green, grey, red } from '@material-ui/core/colors';\nimport { originStore, useStoreModel } from '../../ModelAction/useStore';\nimport { fpMergePre } from '../../tools/utils';\nimport { modelFactory } from '../../ModelAction/modelUtil';\nvar typeHelp = {\n  \"default\": \"background: \".concat(grey[700], \";\"),\n  success: \"background: \".concat(green[600], \";\"),\n  warning: \"background: \".concat(amber[700], \";\"),\n  info: \"background: \".concat(blue[700], \";\"),\n  error: \"background: \".concat(red[700], \";\")\n};\n\nvar getType = function getType() {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'default';\n  return typeHelp[type];\n};\n\nvar CusSnackbar = styled(Snackbar).withConfig({\n  displayName: \"Message__CusSnackbar\",\n  componentId: \"om26s-0\"\n})([\"&&& > div{color:\", \";\", \"}\"], common.white, function (_ref) {\n  var msg_type = _ref.msg_type;\n  return getType(msg_type);\n});\nvar messageModel = modelFactory('messageModel', {\n  open: false,\n  message: '',\n  autoHideDuration: 2000,\n  msg_type: 'default'\n}, {\n  open: function open(value, option) {\n    if (typeof value === 'string') {\n      option.setData(fpMergePre({\n        message: value,\n        open: true\n      }));\n    } else {\n      option.setData(fpMergePre(_objectSpread({}, value, {\n        open: true\n      })));\n    }\n  },\n  onClose: function onClose(value, option) {\n    return option.setData(fpMergePre({\n      open: false\n    }));\n  }\n});\nexport var Message = function Message() {\n  var _useStoreModel = useStoreModel(messageModel),\n      mState = _useStoreModel.state,\n      actions = _useStoreModel.actions;\n\n  return __jsx(CusSnackbar, {\n    open: mState.open,\n    autoHideDuration: mState.autoHideDuration,\n    message: mState.message,\n    msg_type: mState.msg_type,\n    onClose: function onClose() {\n      return actions.onClose();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 10\n    }\n  });\n};\nexport var showMessage = function showMessage(option) {\n  originStore['messageModel'].actions.open(option);\n  return;\n};","map":{"version":3,"sources":["D:/code/zw/zw_client_web/utils/components/Message/Message.tsx"],"names":["React","styled","Snackbar","amber","blue","common","green","grey","red","originStore","useStoreModel","fpMergePre","modelFactory","typeHelp","success","warning","info","error","getType","type","CusSnackbar","white","msg_type","messageModel","open","message","autoHideDuration","value","option","setData","onClose","Message","mState","state","actions","showMessage"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components'\r\nimport {Snackbar} from '@material-ui/core'\r\nimport {amber, blue, common, green, grey, red} from '@material-ui/core/colors'\r\nimport {SnackbarProps} from '@material-ui/core/Snackbar/Snackbar'\r\nimport {originStore, useStoreModel} from '../../ModelAction/useStore'\r\nimport {fpMergePre} from '../../tools/utils'\r\nimport {modelFactory} from '../../ModelAction/modelUtil'\r\n\r\nconst typeHelp = {\r\n  default: `background: ${grey[700]};`,\r\n  success: `background: ${green[600]};`,\r\n  warning: `background: ${amber[700]};`,\r\n  info: `background: ${blue[700]};`,\r\n  error: `background: ${red[700]};`,\r\n}\r\nconst getType = (type = 'default') => (typeHelp as any)[type]\r\n\r\ntype MessageProps = Partial<SnackbarProps & {\r\n  msg_type: 'default' | 'success' | 'info' | 'warning' | 'error' | string\r\n}>\r\n\r\nconst CusSnackbar = styled(Snackbar)<MessageProps>`\r\n  &&& > div {\r\n    color: ${common.white};\r\n    ${({msg_type}) => getType(msg_type)}\r\n  }\r\n`\r\n\r\nconst messageModel = modelFactory('messageModel', {\r\n  open: false,\r\n  message: '',\r\n  autoHideDuration: 2000,\r\n  msg_type: 'default',\r\n} as MessageProps, {\r\n  open: (value: string | MessageProps, option) => {\r\n    if (typeof value === 'string') {\r\n      option.setData(fpMergePre({\r\n        message: value,\r\n        open: true,\r\n      }))\r\n    } else {\r\n      option.setData(fpMergePre({\r\n        ...value,\r\n        open: true,\r\n      }))\r\n    }\r\n  },\r\n  onClose: (value, option) => option.setData(fpMergePre({\r\n    open: false,\r\n  })),\r\n})\r\n\r\nexport const Message = () => {\r\n  const {state: mState, actions} = useStoreModel(messageModel)\r\n  return <CusSnackbar\r\n      open={mState.open}\r\n      autoHideDuration={mState.autoHideDuration}\r\n      message={mState.message}\r\n      msg_type={mState.msg_type}\r\n      onClose={() => actions.onClose()}\r\n  />\r\n}\r\n\r\nexport const showMessage = (option: string | MessageProps) => {\r\n  originStore['messageModel'].actions.open(option)\r\n  return\r\n}\r\n"]},"metadata":{},"sourceType":"module"}