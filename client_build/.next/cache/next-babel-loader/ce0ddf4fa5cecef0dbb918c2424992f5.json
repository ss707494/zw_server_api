{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\zw\\\\zw_client_web\\\\utils\\\\components\\\\BScroll\\\\BScroller.tsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useRef } from 'react';\nimport BetterScroll from 'better-scroll';\nimport { useStoreModel } from '../../ModelAction/useStore';\nimport { fpMergePre } from '../../tools/utils';\nimport { modelFactory } from '../../ModelAction/modelUtil';\nexport const bScrollModel = modelFactory('bScrollModel', {\n  scroll: {}\n}, {\n  setScroll: (value, option) => {\n    option.setData(fpMergePre({\n      scroll: value\n    }));\n  }\n});\nexport const BScroller = ({\n  isX,\n  children,\n  boxHeight,\n  boxWidth\n}) => {\n  const {\n    state: bsState,\n    actions: bsActions\n  } = useStoreModel(bScrollModel);\n  const scrollRef = useRef(null);\n  useEffect(() => {\n    // @ts-ignore\n    const scroll = new BetterScroll(scrollRef.current, _objectSpread(_objectSpread({\n      click: true,\n      scrollY: true\n    }, isX ? {\n      screenX: true,\n      scrollY: false,\n      stopPropagation: true\n    } : {}), {}, {\n      taps: true,\n      preventDefaultException: {\n        tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/,\n        className: /(^|\\s).*(MuiTextField-root|MuiSelect-select).*(\\s|$)/\n      }\n    }));\n    bsActions.setScroll(scroll);\n    return () => {\n      scroll.stop();\n      scroll.destroy();\n    };\n  }, []);\n  return __jsx(\"div\", {\n    ref: scrollRef,\n    className: _JSXStyle.dynamic([[\"3040993115\", [boxHeight || '100vh', isX && boxWidth ? `${boxWidth}` : 'auto']]]) + \" \" + 'box',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: isX ? {\n      whiteSpace: 'nowrap',\n      display: 'inline-block'\n    } : {},\n    className: _JSXStyle.dynamic([[\"3040993115\", [boxHeight || '100vh', isX && boxWidth ? `${boxWidth}` : 'auto']]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, children), __jsx(_JSXStyle, {\n    id: \"3040993115\",\n    dynamic: [boxHeight || '100vh', isX && boxWidth ? `${boxWidth}` : 'auto'],\n    __self: this\n  }, `.box.__jsx-style-dynamic-selector{height:${boxHeight || '100vh'};width:${isX && boxWidth ? `${boxWidth}` : 'auto'};overflow:hidden;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxjb2RlXFx6d1xcendfY2xpZW50X3dlYlxcdXRpbHNcXGNvbXBvbmVudHNcXEJTY3JvbGxcXEJTY3JvbGxlci50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBb0RvQixBQUV1QyxvQ0FDRCxtQ0FDbkIsZ0JBQUMiLCJmaWxlIjoiRDpcXGNvZGVcXHp3XFx6d19jbGllbnRfd2ViXFx1dGlsc1xcY29tcG9uZW50c1xcQlNjcm9sbFxcQlNjcm9sbGVyLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge3VzZUVmZmVjdCwgdXNlUmVmfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IEJldHRlclNjcm9sbCBmcm9tICdiZXR0ZXItc2Nyb2xsJ1xyXG5pbXBvcnQge3VzZVN0b3JlTW9kZWx9IGZyb20gJy4uLy4uL01vZGVsQWN0aW9uL3VzZVN0b3JlJ1xyXG5pbXBvcnQge2ZwTWVyZ2VQcmV9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzJ1xyXG5pbXBvcnQge21vZGVsRmFjdG9yeX0gZnJvbSAnLi4vLi4vTW9kZWxBY3Rpb24vbW9kZWxVdGlsJ1xyXG5cclxuZXhwb3J0IGNvbnN0IGJTY3JvbGxNb2RlbCA9IG1vZGVsRmFjdG9yeSgnYlNjcm9sbE1vZGVsJywge1xyXG4gIHNjcm9sbDoge30gYXMgYW55LFxyXG59LCB7XHJcbiAgc2V0U2Nyb2xsOiAodmFsdWUsIG9wdGlvbikgPT4ge1xyXG4gICAgb3B0aW9uLnNldERhdGEoZnBNZXJnZVByZSh7XHJcbiAgICAgIHNjcm9sbDogdmFsdWUsXHJcbiAgICB9KSlcclxuICB9LFxyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IEJTY3JvbGxlciA9ICh7aXNYLCBjaGlsZHJlbiwgYm94SGVpZ2h0LCBib3hXaWR0aH06IHsgY2hpbGRyZW4/OiBhbnksIGJveEhlaWdodD86IGFueSwgYm94V2lkdGg/OiBhbnksIGlzWD86IGJvb2xlYW4gfSkgPT4ge1xyXG4gIGNvbnN0IHtzdGF0ZTogYnNTdGF0ZSwgYWN0aW9uczogYnNBY3Rpb25zfSA9IHVzZVN0b3JlTW9kZWwoYlNjcm9sbE1vZGVsKVxyXG4gIGNvbnN0IHNjcm9sbFJlZiA9IHVzZVJlZihudWxsKVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBzY3JvbGwgPSBuZXcgQmV0dGVyU2Nyb2xsKHNjcm9sbFJlZi5jdXJyZW50LCB7XHJcbiAgICAgIGNsaWNrOiB0cnVlLFxyXG4gICAgICBzY3JvbGxZOiB0cnVlLFxyXG4gICAgICAuLi4oaXNYID8ge1xyXG4gICAgICAgIHNjcmVlblg6IHRydWUsXHJcbiAgICAgICAgc2Nyb2xsWTogZmFsc2UsXHJcbiAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiB0cnVlLFxyXG4gICAgICB9IDoge30pLFxyXG4gICAgICB0YXBzOiB0cnVlLFxyXG4gICAgICBwcmV2ZW50RGVmYXVsdEV4Y2VwdGlvbjoge1xyXG4gICAgICAgIHRhZ05hbWU6IC9eKElOUFVUfFRFWFRBUkVBfEJVVFRPTnxTRUxFQ1QpJC8sXHJcbiAgICAgICAgY2xhc3NOYW1lOiAvKF58XFxzKS4qKE11aVRleHRGaWVsZC1yb290fE11aVNlbGVjdC1zZWxlY3QpLiooXFxzfCQpLyxcclxuICAgICAgfSxcclxuICAgIH0pXHJcbiAgICBic0FjdGlvbnMuc2V0U2Nyb2xsKHNjcm9sbClcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHNjcm9sbC5zdG9wKClcclxuICAgICAgc2Nyb2xsLmRlc3Ryb3koKVxyXG4gICAgfVxyXG4gIH0sIFtdKVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgICByZWY9e3Njcm9sbFJlZn1cclxuICAgICAgICAgIGNsYXNzTmFtZT17J2JveCd9PlxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgICAgc3R5bGU9e2lzWCA/IHtcclxuICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiAnbm93cmFwJyxcclxuICAgICAgICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcclxuICAgICAgICAgICAgfSA6IHt9fVxyXG4gICAgICAgID57Y2hpbGRyZW59PC9kaXY+XHJcbiAgICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgICAgLmJveCB7XHJcbiAgICAgICAgICAgIGhlaWdodDogJHtib3hIZWlnaHQgfHwgJzEwMHZoJ307XHJcbiAgICAgICAgICAgIHdpZHRoOiAkeyhpc1ggJiYgYm94V2lkdGgpID8gYCR7Ym94V2lkdGh9YCA6ICdhdXRvJyB9O1xyXG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcbiJdfQ== */\n/*@ sourceURL=D:\\\\code\\\\zw\\\\zw_client_web\\\\utils\\\\components\\\\BScroll\\\\BScroller.tsx */`));\n};","map":{"version":3,"sources":["D:/code/zw/zw_client_web/utils/components/BScroll/BScroller.tsx"],"names":["React","useEffect","useRef","BetterScroll","useStoreModel","fpMergePre","modelFactory","bScrollModel","scroll","setScroll","value","option","setData","BScroller","isX","children","boxHeight","boxWidth","state","bsState","actions","bsActions","scrollRef","current","click","scrollY","screenX","stopPropagation","taps","preventDefaultException","tagName","className","stop","destroy","whiteSpace","display"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,MAA1B,QAAuC,OAAvC;AACA,OAAOC,YAAP,MAAyB,eAAzB;AACA,SAAQC,aAAR,QAA4B,4BAA5B;AACA,SAAQC,UAAR,QAAyB,mBAAzB;AACA,SAAQC,YAAR,QAA2B,6BAA3B;AAEA,OAAO,MAAMC,YAAY,GAAGD,YAAY,CAAC,cAAD,EAAiB;AACvDE,EAAAA,MAAM,EAAE;AAD+C,CAAjB,EAErC;AACDC,EAAAA,SAAS,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC5BA,IAAAA,MAAM,CAACC,OAAP,CAAeP,UAAU,CAAC;AACxBG,MAAAA,MAAM,EAAEE;AADgB,KAAD,CAAzB;AAGD;AALA,CAFqC,CAAjC;AAUP,OAAO,MAAMG,SAAS,GAAG,CAAC;AAACC,EAAAA,GAAD;AAAMC,EAAAA,QAAN;AAAgBC,EAAAA,SAAhB;AAA2BC,EAAAA;AAA3B,CAAD,KAA8G;AACrI,QAAM;AAACC,IAAAA,KAAK,EAAEC,OAAR;AAAiBC,IAAAA,OAAO,EAAEC;AAA1B,MAAuCjB,aAAa,CAACG,YAAD,CAA1D;AACA,QAAMe,SAAS,GAAGpB,MAAM,CAAC,IAAD,CAAxB;AACAD,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,UAAMO,MAAM,GAAG,IAAIL,YAAJ,CAAiBmB,SAAS,CAACC,OAA3B;AACbC,MAAAA,KAAK,EAAE,IADM;AAEbC,MAAAA,OAAO,EAAE;AAFI,OAGTX,GAAG,GAAG;AACRY,MAAAA,OAAO,EAAE,IADD;AAERD,MAAAA,OAAO,EAAE,KAFD;AAGRE,MAAAA,eAAe,EAAE;AAHT,KAAH,GAIH,EAPS;AAQbC,MAAAA,IAAI,EAAE,IARO;AASbC,MAAAA,uBAAuB,EAAE;AACvBC,QAAAA,OAAO,EAAE,kCADc;AAEvBC,QAAAA,SAAS,EAAE;AAFY;AATZ,OAAf;AAcAV,IAAAA,SAAS,CAACZ,SAAV,CAAoBD,MAApB;AACA,WAAO,MAAM;AACXA,MAAAA,MAAM,CAACwB,IAAP;AACAxB,MAAAA,MAAM,CAACyB,OAAP;AACD,KAHD;AAID,GArBQ,EAqBN,EArBM,CAAT;AAuBA,SACI;AACI,IAAA,GAAG,EAAEX,SADT;AAAA,kDAWgBN,SAAS,IAAI,OAX7B,EAYgBF,GAAG,IAAIG,QAAR,GAAqB,GAAEA,QAAS,EAAhC,GAAoC,MAZnD,aAEe,KAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGE;AACI,IAAA,KAAK,EAAEH,GAAG,GAAG;AACXoB,MAAAA,UAAU,EAAE,QADD;AAEXC,MAAAA,OAAO,EAAE;AAFE,KAAH,GAGN,EAJR;AAAA,kDAQcnB,SAAS,IAAI,OAR3B,EAScF,GAAG,IAAIG,QAAR,GAAqB,GAAEA,QAAS,EAAhC,GAAoC,MATjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKEF,QALF,CAHF;AAAA;AAAA,cAWgBC,SAAS,IAAI,OAX7B,EAYgBF,GAAG,IAAIG,QAAR,GAAqB,GAAEA,QAAS,EAAhC,GAAoC,MAZnD;AAAA;AAAA,iDAWgBD,SAAS,IAAI,OAX7B,UAYgBF,GAAG,IAAIG,QAAR,GAAqB,GAAEA,QAAS,EAAhC,GAAoC,MAZnD;;wFAAA,EADJ;AAmBD,CA7CM","sourcesContent":["import React, {useEffect, useRef} from 'react'\r\nimport BetterScroll from 'better-scroll'\r\nimport {useStoreModel} from '../../ModelAction/useStore'\r\nimport {fpMergePre} from '../../tools/utils'\r\nimport {modelFactory} from '../../ModelAction/modelUtil'\r\n\r\nexport const bScrollModel = modelFactory('bScrollModel', {\r\n  scroll: {} as any,\r\n}, {\r\n  setScroll: (value, option) => {\r\n    option.setData(fpMergePre({\r\n      scroll: value,\r\n    }))\r\n  },\r\n})\r\n\r\nexport const BScroller = ({isX, children, boxHeight, boxWidth}: { children?: any, boxHeight?: any, boxWidth?: any, isX?: boolean }) => {\r\n  const {state: bsState, actions: bsActions} = useStoreModel(bScrollModel)\r\n  const scrollRef = useRef(null)\r\n  useEffect(() => {\r\n    // @ts-ignore\r\n    const scroll = new BetterScroll(scrollRef.current, {\r\n      click: true,\r\n      scrollY: true,\r\n      ...(isX ? {\r\n        screenX: true,\r\n        scrollY: false,\r\n        stopPropagation: true,\r\n      } : {}),\r\n      taps: true,\r\n      preventDefaultException: {\r\n        tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/,\r\n        className: /(^|\\s).*(MuiTextField-root|MuiSelect-select).*(\\s|$)/,\r\n      },\r\n    })\r\n    bsActions.setScroll(scroll)\r\n    return () => {\r\n      scroll.stop()\r\n      scroll.destroy()\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n      <div\r\n          ref={scrollRef}\r\n          className={'box'}>\r\n        <div\r\n            style={isX ? {\r\n              whiteSpace: 'nowrap',\r\n              display: 'inline-block',\r\n            } : {}}\r\n        >{children}</div>\r\n        <style jsx>{`\r\n          .box {\r\n            height: ${boxHeight || '100vh'};\r\n            width: ${(isX && boxWidth) ? `${boxWidth}` : 'auto' };\r\n            overflow: hidden;\r\n          }\r\n        `}</style>\r\n      </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}