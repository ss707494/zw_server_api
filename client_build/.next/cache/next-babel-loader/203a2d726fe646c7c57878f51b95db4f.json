{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\zw\\\\zw_client_web\\\\utils\\\\view\\\\home\\\\appModule.tsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { AppModuleTypeEnum, DictTypeEnum } from '../../ss_common/enum';\nimport { modelFactory } from '../../ModelAction/modelUtil';\nimport { HomeTabs, homeTabsModel } from './components/Tabs/Tabs';\nimport CusCarousel from '../../components/Swipe/Swipe';\nimport { BorderedInputBase } from '../../components/HeaderSearch/HeaderSearch';\nimport { FootBar } from '../../components/FootBar/FootBar';\nimport { BScroller } from '../../components/BScroll/BScroller';\nimport { grey } from '@material-ui/core/colors';\nimport { useStoreModel } from '../../ModelAction/useStore';\nimport { getDataConfig, homeCarouselImgs } from '../../graphqlTypes/doc';\nimport { fpMergePre } from '../../tools/utils';\nexport const HomeType = {\n  home: 'home',\n  group: 'group'\n};\nexport const homeCarouselModel = modelFactory('homeCarouselModel', {\n  homeCarouselImgs: []\n}, {\n  getHomeCarousel: async (value, option) => {\n    const res2 = await option.query(getDataConfig, {\n      data: {\n        type: DictTypeEnum.HomeCarousel\n      }\n    }, {});\n\n    const _res2$getDataConfig = res2 === null || res2 === void 0 ? void 0 : res2.getDataConfig,\n          {\n      __typename\n    } = _res2$getDataConfig,\n          rest = _objectWithoutProperties(_res2$getDataConfig, [\"__typename\"]);\n\n    const homeCarouselDataComfig = await option.query(homeCarouselImgs, {\n      data: _objectSpread({}, rest)\n    }, {});\n    option.setData(fpMergePre({\n      homeCarouselImgs: homeCarouselDataComfig.homeCarouselImgs\n    }));\n  }\n});\nexport const HomeAppModule = type => function ({\n  homeCarouselImgs,\n  homeCategorySelection_listData,\n  appModuleConfig\n}) {\n  var _stateHomeCarouselMod, _stateHomeCarouselMod2;\n\n  const router = useRouter();\n  useEffect(() => {\n    if (![AppModuleTypeEnum.limitTime, AppModuleTypeEnum.mayLike, AppModuleTypeEnum.salesRank, AppModuleTypeEnum.themeSelection, AppModuleTypeEnum.categorySelection, AppModuleTypeEnum.lineRanking, AppModuleTypeEnum.topRanking].includes(router.query.appModule)) {\n      router.replace('/home/[appModule]', '/home/categorySelection', {});\n    }\n  });\n  const {\n    actions: actionsHomeCarouselModel,\n    state: stateHomeCarouselModel\n  } = useStoreModel(homeCarouselModel);\n  const {\n    actions: actionsHomeTabs\n  } = useStoreModel(homeTabsModel);\n  useEffect(() => {\n    actionsHomeCarouselModel.getHomeCarousel();\n    actionsHomeTabs.getData();\n  }, []);\n  useEffect(() => {\n    actionsHomeTabs.setHomeType(type !== null && type !== void 0 ? type : HomeType.home);\n  }, [type]);\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, __jsx(BScroller, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1873098083\", [grey[600]]]]) + \" \" + 'common_box',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, __jsx(\"header\", {\n    className: _JSXStyle.dynamic([[\"1873098083\", [grey[600]]]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, __jsx(BorderedInputBase, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1873098083\", [grey[600]]]]) + \" \" + 'tip',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, __jsx(\"aside\", {\n    className: _JSXStyle.dynamic([[\"1873098083\", [grey[600]]]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, \"\\u70ED\\u641C:\"), ['薯条', '小龙虾'].map(value => __jsx(\"span\", {\n    key: `tip_${value}`,\n    className: _JSXStyle.dynamic([[\"1873098083\", [grey[600]]]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 43\n    }\n  }, value))), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1873098083\", [grey[600]]]]) + \" \" + 'cusCarousel',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, __jsx(CusCarousel, {\n    height: '160px',\n    dataList: (_stateHomeCarouselMod = stateHomeCarouselModel.homeCarouselImgs) === null || _stateHomeCarouselMod === void 0 ? void 0 : (_stateHomeCarouselMod2 = _stateHomeCarouselMod.value) === null || _stateHomeCarouselMod2 === void 0 ? void 0 : _stateHomeCarouselMod2.list,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1873098083\", [grey[600]]]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, __jsx(HomeTabs, {\n    homeType: type !== null && type !== void 0 ? type : HomeType.home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }))), __jsx(_JSXStyle, {\n    id: \"1873098083\",\n    dynamic: [grey[600]],\n    __self: this\n  }, `.common_box.__jsx-style-dynamic-selector{padding-top:3.125vw;padding-bottom:37.5vw;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;overflow:auto;}.common_box.__jsx-style-dynamic-selector>*.__jsx-style-dynamic-selector{margin-left:3.125vw;margin-right:3.125vw;}.tip.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:${grey[600]};padding:2.5vw 0;}.tip.__jsx-style-dynamic-selector>span.__jsx-style-dynamic-selector{margin:0 3.125vw;}.cusCarousel.__jsx-style-dynamic-selector{border-radius:3.125vw;overflow:hidden;}.footer.__jsx-style-dynamic-selector{height:62.5vw;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxjb2RlXFx6d1xcendfY2xpZW50X3dlYlxcdXRpbHNcXHZpZXdcXGhvbWVcXGFwcE1vZHVsZS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBeUZzQixBQUV1QixBQVFFLEFBSVQsQUFJTSxBQUdHLEFBSVIsY0FBQyxHQVBLLEdBZkUsQUFRQyxFQVdQLGdCQUFDLEdBWE8sQ0FQWCxnQ0FXc0IsbUNBQ25CLE9BWE0sU0FXTCxxRUFWTCx1RUFDRSx3REFDQSxjQUFDIiwiZmlsZSI6IkQ6XFxjb2RlXFx6d1xcendfY2xpZW50X3dlYlxcdXRpbHNcXHZpZXdcXGhvbWVcXGFwcE1vZHVsZS50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHt1c2VFZmZlY3R9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQge3VzZVJvdXRlcn0gZnJvbSAnbmV4dC9yb3V0ZXInXHJcbmltcG9ydCB7QXBwTW9kdWxlVHlwZUVudW0sIERpY3RUeXBlRW51bX0gZnJvbSAnLi4vLi4vc3NfY29tbW9uL2VudW0nXHJcbmltcG9ydCB7Q2F0ZWdvcnksIERhdGFDb25maWcsIERhdGFDb25maWdJdGVtSW5wdXR9IGZyb20gJy4uLy4uL2dyYXBocWxUeXBlcy90eXBlcydcclxuaW1wb3J0IHtpbml0TW9kZWwsIG1vZGVsRmFjdG9yeX0gZnJvbSAnLi4vLi4vTW9kZWxBY3Rpb24vbW9kZWxVdGlsJ1xyXG5pbXBvcnQge0hvbWVUYWJzLCBob21lVGFic01vZGVsfSBmcm9tICcuL2NvbXBvbmVudHMvVGFicy9UYWJzJ1xyXG5pbXBvcnQgQ3VzQ2Fyb3VzZWwgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9Td2lwZS9Td2lwZSdcclxuaW1wb3J0IHtCb3JkZXJlZElucHV0QmFzZX0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9IZWFkZXJTZWFyY2gvSGVhZGVyU2VhcmNoJ1xyXG5pbXBvcnQge0Zvb3RCYXJ9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvRm9vdEJhci9Gb290QmFyJ1xyXG5pbXBvcnQge0JTY3JvbGxlcn0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9CU2Nyb2xsL0JTY3JvbGxlcidcclxuaW1wb3J0IHtncmV5fSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9jb2xvcnMnXHJcbmltcG9ydCB7dXNlU3RvcmVNb2RlbH0gZnJvbSAnLi4vLi4vTW9kZWxBY3Rpb24vdXNlU3RvcmUnXHJcbmltcG9ydCB7Z2V0RGF0YUNvbmZpZywgaG9tZUNhcm91c2VsSW1nc30gZnJvbSAnLi4vLi4vZ3JhcGhxbFR5cGVzL2RvYydcclxuaW1wb3J0IHtmcE1lcmdlUHJlfSBmcm9tICcuLi8uLi90b29scy91dGlscydcclxuXHJcbmV4cG9ydCBjb25zdCBIb21lVHlwZSA9IHtcclxuICBob21lOiAnaG9tZScsXHJcbiAgZ3JvdXA6ICdncm91cCcsXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBob21lQ2Fyb3VzZWxNb2RlbCA9IG1vZGVsRmFjdG9yeSgnaG9tZUNhcm91c2VsTW9kZWwnLCB7XHJcbiAgaG9tZUNhcm91c2VsSW1nczogW10gYXMgRGF0YUNvbmZpZyxcclxufSwge1xyXG4gIGdldEhvbWVDYXJvdXNlbDogYXN5bmMgKHZhbHVlLCBvcHRpb24pID0+IHtcclxuICAgIGNvbnN0IHJlczIgPSBhd2FpdCBvcHRpb24ucXVlcnkoZ2V0RGF0YUNvbmZpZywge1xyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgdHlwZTogRGljdFR5cGVFbnVtLkhvbWVDYXJvdXNlbCxcclxuICAgICAgfSBhcyBEYXRhQ29uZmlnSXRlbUlucHV0XHJcbiAgICB9LCB7fSlcclxuICAgIGNvbnN0IHtfX3R5cGVuYW1lLCAuLi5yZXN0fSA9IHJlczI/LmdldERhdGFDb25maWdcclxuICAgIGNvbnN0IGhvbWVDYXJvdXNlbERhdGFDb21maWcgPSBhd2FpdCBvcHRpb24ucXVlcnkoaG9tZUNhcm91c2VsSW1ncywge1xyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgLi4ucmVzdCxcclxuICAgICAgfSBhcyBEYXRhQ29uZmlnSXRlbUlucHV0XHJcbiAgICB9LCB7fSlcclxuICAgIG9wdGlvbi5zZXREYXRhKGZwTWVyZ2VQcmUoe1xyXG4gICAgICBob21lQ2Fyb3VzZWxJbWdzOiBob21lQ2Fyb3VzZWxEYXRhQ29tZmlnLmhvbWVDYXJvdXNlbEltZ3MsXHJcbiAgICB9KSlcclxuICB9LFxyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IEhvbWVBcHBNb2R1bGUgPSAodHlwZT86IHN0cmluZykgPT4gZnVuY3Rpb24gKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob21lQ2Fyb3VzZWxJbWdzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvbWVDYXRlZ29yeVNlbGVjdGlvbl9saXN0RGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBNb2R1bGVDb25maWcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH06IHtcclxuICBob21lQ2Fyb3VzZWxJbWdzOiBEYXRhQ29uZmlnLFxyXG4gIGFwcE1vZHVsZUNvbmZpZzogRGF0YUNvbmZpZyxcclxuICBob21lQ2F0ZWdvcnlTZWxlY3Rpb25fbGlzdERhdGE6IENhdGVnb3J5W11cclxufSkge1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghKFtBcHBNb2R1bGVUeXBlRW51bS5saW1pdFRpbWUsIEFwcE1vZHVsZVR5cGVFbnVtLm1heUxpa2UsIEFwcE1vZHVsZVR5cGVFbnVtLnNhbGVzUmFuaywgQXBwTW9kdWxlVHlwZUVudW0udGhlbWVTZWxlY3Rpb24sIEFwcE1vZHVsZVR5cGVFbnVtLmNhdGVnb3J5U2VsZWN0aW9uLCBBcHBNb2R1bGVUeXBlRW51bS5saW5lUmFua2luZywgQXBwTW9kdWxlVHlwZUVudW0udG9wUmFua2luZ10gYXMgYW55W10pLmluY2x1ZGVzKHJvdXRlci5xdWVyeS5hcHBNb2R1bGUpXHJcbiAgICApIHtcclxuICAgICAgcm91dGVyLnJlcGxhY2UoJy9ob21lL1thcHBNb2R1bGVdJywgJy9ob21lL2NhdGVnb3J5U2VsZWN0aW9uJywge30pXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgY29uc3Qge2FjdGlvbnM6IGFjdGlvbnNIb21lQ2Fyb3VzZWxNb2RlbCwgc3RhdGU6IHN0YXRlSG9tZUNhcm91c2VsTW9kZWx9ID0gdXNlU3RvcmVNb2RlbChob21lQ2Fyb3VzZWxNb2RlbClcclxuICBjb25zdCB7YWN0aW9uczogYWN0aW9uc0hvbWVUYWJzfSA9IHVzZVN0b3JlTW9kZWwoaG9tZVRhYnNNb2RlbClcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgYWN0aW9uc0hvbWVDYXJvdXNlbE1vZGVsLmdldEhvbWVDYXJvdXNlbCgpXHJcbiAgICBhY3Rpb25zSG9tZVRhYnMuZ2V0RGF0YSgpXHJcbiAgfSwgW10pXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGFjdGlvbnNIb21lVGFicy5zZXRIb21lVHlwZSgodHlwZSkgPz8gSG9tZVR5cGUuaG9tZSlcclxuICB9LCBbdHlwZV0pXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgPEJTY3JvbGxlcj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsnY29tbW9uX2JveCd9PlxyXG4gICAgICAgICAgICA8aGVhZGVyPlxyXG4gICAgICAgICAgICAgIDxCb3JkZXJlZElucHV0QmFzZS8+XHJcbiAgICAgICAgICAgIDwvaGVhZGVyPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17J3RpcCd9PlxyXG4gICAgICAgICAgICAgIDxhc2lkZT7ng63mkJw6PC9hc2lkZT5cclxuICAgICAgICAgICAgICB7Wyfolq/mnaEnLCAn5bCP6b6Z6Jm+J10ubWFwKHZhbHVlID0+IDxzcGFuIGtleT17YHRpcF8ke3ZhbHVlfWB9Pnt2YWx1ZX08L3NwYW4+KX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsnY3VzQ2Fyb3VzZWwnfT5cclxuICAgICAgICAgICAgICA8Q3VzQ2Fyb3VzZWxcclxuICAgICAgICAgICAgICAgICAgaGVpZ2h0PXsnMTYwcHgnfVxyXG4gICAgICAgICAgICAgICAgICBkYXRhTGlzdD17c3RhdGVIb21lQ2Fyb3VzZWxNb2RlbC5ob21lQ2Fyb3VzZWxJbWdzPy52YWx1ZT8ubGlzdCBhcyBbXX1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8SG9tZVRhYnMgaG9tZVR5cGU9e3R5cGUgPz8gSG9tZVR5cGUuaG9tZX0vPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgICAgLmNvbW1vbl9ib3gge1xyXG4gICAgICAgICAgICBwYWRkaW5nLXRvcDogMTBweDtcclxuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDEyMHB4O1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgICBmbGV4LWdyb3c6IDE7XHJcbiAgICAgICAgICAgIGZsZXgtc2hyaW5rOiAxO1xyXG4gICAgICAgICAgICBvdmVyZmxvdzogYXV0bztcclxuICAgICAgICAgICAgPiAqIHtcclxuICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogMTBweDtcclxuICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC50aXAge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBjb2xvcjogJHtncmV5WzYwMF19O1xyXG4gICAgICAgICAgICBwYWRkaW5nOiA4cHggMDtcclxuICAgICAgICAgICAgPiBzcGFuIHtcclxuICAgICAgICAgICAgICBtYXJnaW46IDAgMTBweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmN1c0Nhcm91c2VsIHtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5mb290ZXIge1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDIwMHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgICA8L0JTY3JvbGxlcj5cclxuICAgICAgICA8Rm9vdEJhci8+XHJcbiAgICAgIDwvZGl2PlxyXG4gIClcclxufVxyXG4iXX0= */\n/*@ sourceURL=D:\\\\code\\\\zw\\\\zw_client_web\\\\utils\\\\view\\\\home\\\\appModule.tsx */`)), __jsx(FootBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }));\n};","map":{"version":3,"sources":["D:/code/zw/zw_client_web/utils/view/home/appModule.tsx"],"names":["React","useEffect","useRouter","AppModuleTypeEnum","DictTypeEnum","modelFactory","HomeTabs","homeTabsModel","CusCarousel","BorderedInputBase","FootBar","BScroller","grey","useStoreModel","getDataConfig","homeCarouselImgs","fpMergePre","HomeType","home","group","homeCarouselModel","getHomeCarousel","value","option","res2","query","data","type","HomeCarousel","__typename","rest","homeCarouselDataComfig","setData","HomeAppModule","homeCategorySelection_listData","appModuleConfig","router","limitTime","mayLike","salesRank","themeSelection","categorySelection","lineRanking","topRanking","includes","appModule","replace","actions","actionsHomeCarouselModel","state","stateHomeCarouselModel","actionsHomeTabs","getData","setHomeType","map","list"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\r\nimport {useRouter} from 'next/router'\r\nimport {AppModuleTypeEnum, DictTypeEnum} from '../../ss_common/enum'\r\nimport {Category, DataConfig, DataConfigItemInput} from '../../graphqlTypes/types'\r\nimport {initModel, modelFactory} from '../../ModelAction/modelUtil'\r\nimport {HomeTabs, homeTabsModel} from './components/Tabs/Tabs'\r\nimport CusCarousel from '../../components/Swipe/Swipe'\r\nimport {BorderedInputBase} from '../../components/HeaderSearch/HeaderSearch'\r\nimport {FootBar} from '../../components/FootBar/FootBar'\r\nimport {BScroller} from '../../components/BScroll/BScroller'\r\nimport {grey} from '@material-ui/core/colors'\r\nimport {useStoreModel} from '../../ModelAction/useStore'\r\nimport {getDataConfig, homeCarouselImgs} from '../../graphqlTypes/doc'\r\nimport {fpMergePre} from '../../tools/utils'\r\n\r\nexport const HomeType = {\r\n  home: 'home',\r\n  group: 'group',\r\n}\r\n\r\nexport const homeCarouselModel = modelFactory('homeCarouselModel', {\r\n  homeCarouselImgs: [] as DataConfig,\r\n}, {\r\n  getHomeCarousel: async (value, option) => {\r\n    const res2 = await option.query(getDataConfig, {\r\n      data: {\r\n        type: DictTypeEnum.HomeCarousel,\r\n      } as DataConfigItemInput\r\n    }, {})\r\n    const {__typename, ...rest} = res2?.getDataConfig\r\n    const homeCarouselDataComfig = await option.query(homeCarouselImgs, {\r\n      data: {\r\n        ...rest,\r\n      } as DataConfigItemInput\r\n    }, {})\r\n    option.setData(fpMergePre({\r\n      homeCarouselImgs: homeCarouselDataComfig.homeCarouselImgs,\r\n    }))\r\n  },\r\n})\r\n\r\nexport const HomeAppModule = (type?: string) => function ({\r\n                                         homeCarouselImgs,\r\n                                         homeCategorySelection_listData,\r\n                                         appModuleConfig,\r\n                                       }: {\r\n  homeCarouselImgs: DataConfig,\r\n  appModuleConfig: DataConfig,\r\n  homeCategorySelection_listData: Category[]\r\n}) {\r\n  const router = useRouter()\r\n  useEffect(() => {\r\n    if (!([AppModuleTypeEnum.limitTime, AppModuleTypeEnum.mayLike, AppModuleTypeEnum.salesRank, AppModuleTypeEnum.themeSelection, AppModuleTypeEnum.categorySelection, AppModuleTypeEnum.lineRanking, AppModuleTypeEnum.topRanking] as any[]).includes(router.query.appModule)\r\n    ) {\r\n      router.replace('/home/[appModule]', '/home/categorySelection', {})\r\n    }\r\n  })\r\n\r\n  const {actions: actionsHomeCarouselModel, state: stateHomeCarouselModel} = useStoreModel(homeCarouselModel)\r\n  const {actions: actionsHomeTabs} = useStoreModel(homeTabsModel)\r\n  useEffect(() => {\r\n    actionsHomeCarouselModel.getHomeCarousel()\r\n    actionsHomeTabs.getData()\r\n  }, [])\r\n  useEffect(() => {\r\n    actionsHomeTabs.setHomeType((type) ?? HomeType.home)\r\n  }, [type])\r\n\r\n  return (\r\n      <div>\r\n        <BScroller>\r\n          <div className={'common_box'}>\r\n            <header>\r\n              <BorderedInputBase/>\r\n            </header>\r\n            <div className={'tip'}>\r\n              <aside>热搜:</aside>\r\n              {['薯条', '小龙虾'].map(value => <span key={`tip_${value}`}>{value}</span>)}\r\n            </div>\r\n            <div className={'cusCarousel'}>\r\n              <CusCarousel\r\n                  height={'160px'}\r\n                  dataList={stateHomeCarouselModel.homeCarouselImgs?.value?.list as []}\r\n              />\r\n            </div>\r\n            <div>\r\n              <HomeTabs homeType={type ?? HomeType.home}/>\r\n            </div>\r\n          </div>\r\n          <style jsx>{`\r\n          .common_box {\r\n            padding-top: 10px;\r\n            padding-bottom: 120px;\r\n            display: flex;\r\n            flex-direction: column;\r\n            flex-grow: 1;\r\n            flex-shrink: 1;\r\n            overflow: auto;\r\n            > * {\r\n              margin-left: 10px;\r\n              margin-right: 10px;\r\n            }\r\n          }\r\n          .tip {\r\n            display: flex;\r\n            color: ${grey[600]};\r\n            padding: 8px 0;\r\n            > span {\r\n              margin: 0 10px;\r\n            }\r\n          }\r\n          .cusCarousel {\r\n            border-radius: 10px;\r\n            overflow: hidden;\r\n          }\r\n          .footer {\r\n            height: 200px;\r\n          }\r\n        `}</style>\r\n        </BScroller>\r\n        <FootBar/>\r\n      </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}