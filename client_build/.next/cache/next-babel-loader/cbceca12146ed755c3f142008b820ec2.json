{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { AppModuleTypeEnum, DictTypeEnum } from '../../ss_common/enum';\nimport { modelFactory } from '../../ModelAction/modelUtil';\nimport { HomeTabs, homeTabsModel } from './components/Tabs/Tabs';\nimport CusCarousel from '../../components/Swipe/Swipe';\nimport { HeaderSearch } from '../../components/HeaderSearch/HeaderSearch';\nimport { FootBar } from '../../components/FootBar/FootBar';\nimport { BScroller } from '../../components/BScroll/BScroller';\nimport { grey } from '@material-ui/core/colors';\nimport { useStoreModel } from '../../ModelAction/useStore';\nimport { getDataConfig, homeCarouselImgs } from '../../graphqlTypes/doc';\nimport { fpMergePre } from '../../tools/utils';\nexport const HomeType = {\n  home: 'home',\n  group: 'group'\n};\nexport const homeCarouselModel = modelFactory('homeCarouselModel', {\n  homeCarouselImgs: []\n}, {\n  getHomeCarousel: async (value, option) => {\n    const res2 = await option.query(getDataConfig, {\n      data: {\n        type: DictTypeEnum.HomeCarousel\n      }\n    }, {});\n\n    const _res2$getDataConfig = res2 === null || res2 === void 0 ? void 0 : res2.getDataConfig,\n          {\n      __typename\n    } = _res2$getDataConfig,\n          rest = _objectWithoutProperties(_res2$getDataConfig, [\"__typename\"]);\n\n    const homeCarouselDataComfig = await option.query(homeCarouselImgs, {\n      data: _objectSpread({}, rest)\n    }, {});\n    option.setData(fpMergePre({\n      homeCarouselImgs: homeCarouselDataComfig.homeCarouselImgs\n    }));\n  }\n});\nexport const HomeAppModule = type => function ({\n  homeCarouselImgs,\n  homeCategorySelection_listData,\n  appModuleConfig\n}) {\n  var _stateHomeCarouselMod, _stateHomeCarouselMod2;\n\n  const router = useRouter();\n  useEffect(() => {\n    if (router.query.appModule && ![AppModuleTypeEnum.limitTime, AppModuleTypeEnum.mayLike, AppModuleTypeEnum.salesRank, AppModuleTypeEnum.themeSelection, AppModuleTypeEnum.categorySelection, AppModuleTypeEnum.lineRanking, AppModuleTypeEnum.topRanking].includes(router.query.appModule)) {\n      router.replace('/home/[appModule]', '/home/categorySelection', {});\n    }\n  });\n  const {\n    actions: actionsHomeCarouselModel,\n    state: stateHomeCarouselModel\n  } = useStoreModel(homeCarouselModel);\n  const {\n    actions: actionsHomeTabs\n  } = useStoreModel(homeTabsModel);\n  useEffect(() => {\n    actionsHomeCarouselModel.getHomeCarousel();\n    actionsHomeTabs.getData();\n  }, []);\n  useEffect(() => {\n    actionsHomeTabs.setHomeType(type !== null && type !== void 0 ? type : HomeType.home);\n  }, [type]);\n  return __jsx(\"div\", null, __jsx(HeaderSearch, null), __jsx(BScroller, null, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1873098083\", [grey[600]]]]) + \" \" + 'common_box'\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1873098083\", [grey[600]]]]) + \" \" + 'tip'\n  }, __jsx(\"aside\", {\n    className: _JSXStyle.dynamic([[\"1873098083\", [grey[600]]]])\n  }, \"\\u70ED\\u641C:\"), ['薯条', '小龙虾'].map(value => __jsx(\"span\", {\n    key: `tip_${value}`,\n    className: _JSXStyle.dynamic([[\"1873098083\", [grey[600]]]])\n  }, value))), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1873098083\", [grey[600]]]]) + \" \" + 'cusCarousel'\n  }, __jsx(CusCarousel, {\n    height: '160px',\n    dataList: (_stateHomeCarouselMod = stateHomeCarouselModel.homeCarouselImgs) === null || _stateHomeCarouselMod === void 0 ? void 0 : (_stateHomeCarouselMod2 = _stateHomeCarouselMod.value) === null || _stateHomeCarouselMod2 === void 0 ? void 0 : _stateHomeCarouselMod2.list\n  })), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1873098083\", [grey[600]]]])\n  }, __jsx(HomeTabs, {\n    homeType: type !== null && type !== void 0 ? type : HomeType.home\n  }))), __jsx(_JSXStyle, {\n    id: \"1873098083\",\n    dynamic: [grey[600]]\n  }, [\".common_box.__jsx-style-dynamic-selector{padding-top:3.125vw;padding-bottom:37.5vw;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;overflow:auto;}\", \".common_box.__jsx-style-dynamic-selector>*.__jsx-style-dynamic-selector{margin-left:3.125vw;margin-right:3.125vw;}\", `.tip.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:${grey[600]};padding:2.5vw 0;}`, \".tip.__jsx-style-dynamic-selector>span.__jsx-style-dynamic-selector{margin:0 3.125vw;}\", \".cusCarousel.__jsx-style-dynamic-selector{border-radius:3.125vw;overflow:hidden;}\", \".footer.__jsx-style-dynamic-selector{height:62.5vw;}\"])), __jsx(FootBar, null));\n};","map":null,"metadata":{},"sourceType":"module"}