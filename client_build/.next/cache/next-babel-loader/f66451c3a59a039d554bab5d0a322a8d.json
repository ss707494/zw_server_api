{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\zw\\\\zw_client_web\\\\utils\\\\view\\\\category\\\\[id].tsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport { useStoreModel } from '../../ModelAction/useStore';\nimport { KeyboardArrowRight } from '@material-ui/icons';\nimport { ButtonBase, LinearProgress } from '@material-ui/core';\nimport { dealUrlQuery, fpMergePre } from '../../tools/utils';\nimport { HeaderTitle } from '../../components/HeaderTitle/HeaderTitle';\nimport { doc } from '../../graphqlTypes/doc';\nimport { BScroller } from '../../components/BScroll/BScroller';\nimport { modelFactory } from '../../ModelAction/modelUtil';\nimport styled from 'styled-components';\nimport { grey } from '@material-ui/core/colors';\nimport { dealImgUrl } from '../../tools/img';\nimport { ProductItem } from '../../components/ProductItem/ProductItem';\nimport { ls } from '../../tools/dealKey';\nimport { NoData } from '../../components/NoData/NoData';\nimport { homeTabsModel } from '../home/components/Tabs/Tabs';\nimport { HomeType } from '../home/appModule';\nexport const CategoryPageModel = modelFactory('CategoryPage', {\n  productList: [],\n  categoryList: []\n}, {\n  getProductList: async (value, option) => {\n    var _res$productsInCatego, _res$categoryList$lis, _res$categoryList;\n\n    const res = await option.query(doc.productsInCategory, {\n      data: value.categoryItemInput,\n      productItemInput: value.productItemInput\n    });\n    option.setData(fpMergePre({\n      productList: (_res$productsInCatego = res === null || res === void 0 ? void 0 : res.productsInCategory) !== null && _res$productsInCatego !== void 0 ? _res$productsInCatego : [],\n      categoryList: [...((_res$categoryList$lis = res === null || res === void 0 ? void 0 : (_res$categoryList = res.categoryList) === null || _res$categoryList === void 0 ? void 0 : _res$categoryList.list) !== null && _res$categoryList$lis !== void 0 ? _res$categoryList$lis : [])]\n    }));\n  }\n});\nconst Box = styled('div').withConfig({\n  displayName: \"id__Box\",\n  componentId: \"sc-13c54cm-0\"\n})([\"padding:18px 20px 0;> header{font-size:18px;font-weight:bold;margin:10px 0;}\"]);\nconst CategoryItemStyle = styled(ButtonBase).withConfig({\n  displayName: \"id__CategoryItemStyle\",\n  componentId: \"sc-13c54cm-1\"\n})([\"&&&{width:100%;height:60px;display:flex;border-radius:8px;overflow:hidden;margin-bottom:10px;background:\", \";> img{height:100%;width:70%;}> span{flex:1;color:#fff;display:flex;align-items:center;justify-content:center;}}\"], grey[700]);\nconst categoryItemModel = modelFactory('categoryItemModel', {\n  test: ''\n}, {\n  getLevel: async (value, option) => {\n    return await option.query(doc.categoryLevel, {\n      data: value\n    });\n  }\n});\nconst ListBox = styled.div.withConfig({\n  displayName: \"id__ListBox\",\n  componentId: \"sc-13c54cm-2\"\n})([\"display:grid;grid-template-columns:repeat(2,1fr);grid-gap:15px;\"]);\nexport const CategoryPage = () => {\n  var _ref, _router$query;\n\n  const router = useRouter();\n  const id = (_ref = (_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.id) !== null && _ref !== void 0 ? _ref : '';\n  const {\n    state: stateCPM,\n    actions: actionsCPM,\n    getLoad\n  } = useStoreModel(CategoryPageModel);\n  const {\n    actions: actionsCI\n  } = useStoreModel(categoryItemModel);\n  const {\n    state: homeTabsState,\n    actions: actionsHomeTabs\n  } = useStoreModel(homeTabsModel);\n  useEffect(() => {\n    var _ref2;\n\n    actionsHomeTabs.setHomeType((_ref2 = router.query.homeType) !== null && _ref2 !== void 0 ? _ref2 : HomeType.home);\n  }, [router.query.homeType]);\n\n  const CategoryItem = v => {\n    return __jsx(CategoryItemStyle, {\n      key: `CategoryItem_${v.id}`,\n      onClick: async () => {\n        var _await$actionsCI$getL;\n\n        if (((_await$actionsCI$getL = await actionsCI.getLevel({\n          id: v.id\n        })) === null || _await$actionsCI$getL === void 0 ? void 0 : _await$actionsCI$getL.categoryLevel) === 3) {\n          await Router.push({\n            pathname: '/productList/[id]',\n            query: {\n              id: v.id,\n              homeType: router.query.homeType\n            }\n          });\n        } else {\n          await Router.push(`/category/[id]${dealUrlQuery({\n            homeType: router.query.homeType\n          })}`, `/category/${v.id}${dealUrlQuery({\n            homeType: router.query.homeType\n          })}`);\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 12\n      }\n    }, __jsx(\"img\", {\n      src: dealImgUrl(v.imgUrl),\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 7\n      }\n    }, v.name, __jsx(KeyboardArrowRight, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    })));\n  };\n\n  useEffect(() => {\n    if (id) {\n      actionsCPM.getProductList({\n        categoryItemInput: {\n          id\n        },\n        productItemInput: {\n          isGroup: router.query.homeType === HomeType.group ? 1 : 0\n        }\n      });\n    }\n  }, [id]);\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 10\n    }\n  }, __jsx(HeaderTitle, {\n    title: '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }), !!getLoad(doc.productsInCategory) && __jsx(LinearProgress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 43\n    }\n  }), __jsx(BScroller, {\n    boxHeight: 'calc(100vh - 60px)',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 5\n    }\n  }, __jsx(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, stateCPM.categoryList.length === 0 && stateCPM.productList.length === 0 && __jsx(NoData, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 88\n    }\n  }) || __jsx(React.Fragment, null, stateCPM.categoryList.map(value => CategoryItem(value)), __jsx(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, ls('热门推荐')), stateCPM.productList.length === 0 && __jsx(NoData, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 55\n    }\n  }), __jsx(ListBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, stateCPM.productList.map(value => __jsx(ProductItem, {\n    key: `ProductItem_${value.id}`,\n    product: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 52\n    }\n  })))))));\n};","map":{"version":3,"sources":["D:/code/zw/zw_client_web/utils/view/category/[id].tsx"],"names":["React","useEffect","Router","useRouter","useStoreModel","KeyboardArrowRight","ButtonBase","LinearProgress","dealUrlQuery","fpMergePre","HeaderTitle","doc","BScroller","modelFactory","styled","grey","dealImgUrl","ProductItem","ls","NoData","homeTabsModel","HomeType","CategoryPageModel","productList","categoryList","getProductList","value","option","res","query","productsInCategory","data","categoryItemInput","productItemInput","setData","list","Box","CategoryItemStyle","categoryItemModel","test","getLevel","categoryLevel","ListBox","div","CategoryPage","router","id","state","stateCPM","actions","actionsCPM","getLoad","actionsCI","homeTabsState","actionsHomeTabs","setHomeType","homeType","home","CategoryItem","v","push","pathname","imgUrl","name","isGroup","group","length","map"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\r\nimport Router, {useRouter} from 'next/router'\r\nimport {useStoreModel} from '../../ModelAction/useStore'\r\nimport {Category, CategoryItemInput, Product, ProductItemInput} from '../../graphqlTypes/types'\r\nimport {KeyboardArrowRight} from '@material-ui/icons'\r\nimport {ButtonBase, LinearProgress} from '@material-ui/core'\r\nimport {dealUrlQuery, fpMergePre} from '../../tools/utils'\r\nimport {HeaderTitle} from '../../components/HeaderTitle/HeaderTitle'\r\nimport {doc} from '../../graphqlTypes/doc'\r\nimport {BScroller} from '../../components/BScroll/BScroller'\r\nimport {modelFactory} from '../../ModelAction/modelUtil'\r\nimport styled from 'styled-components'\r\nimport {grey} from '@material-ui/core/colors'\r\nimport {dealImgUrl} from '../../tools/img'\r\nimport {ProductItem} from '../../components/ProductItem/ProductItem'\r\nimport {ls} from '../../tools/dealKey'\r\nimport {NoData} from '../../components/NoData/NoData'\r\nimport {homeTabsModel} from '../home/components/Tabs/Tabs'\r\nimport {HomeType} from '../home/appModule'\r\n\r\nexport const CategoryPageModel = modelFactory('CategoryPage', {\r\n  productList: [] as Product[],\r\n  categoryList: [] as Category[],\r\n}, {\r\n  getProductList: async (value: {\r\n    categoryItemInput?: CategoryItemInput,\r\n    productItemInput?: ProductItemInput,\r\n  }, option) => {\r\n    const res = await option.query(doc.productsInCategory, {\r\n      data: value.categoryItemInput,\r\n      productItemInput: value.productItemInput,\r\n    })\r\n    option.setData(fpMergePre({\r\n      productList: res?.productsInCategory ?? [],\r\n      categoryList: [\r\n        ...res?.categoryList?.list ?? [],\r\n      ],\r\n    }))\r\n  },\r\n\r\n})\r\n\r\nconst Box = styled('div')`\r\n  padding: 18px 20px 0;\r\n  > header {\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    margin: 10px 0;\r\n  }\r\n`\r\n\r\nconst CategoryItemStyle = styled(ButtonBase)`\r\n  &&& {\r\n    width: 100%;\r\n    height: 60px;\r\n    display: flex;\r\n    border-radius: 8px;\r\n    overflow: hidden;\r\n    margin-bottom: 10px;\r\n    background: ${grey[700]};\r\n    > img {\r\n      height: 100%;\r\n      width: 70%;\r\n    }\r\n    > span {\r\n      flex: 1;\r\n      color: #fff;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n  }\r\n`\r\n\r\nconst categoryItemModel = modelFactory('categoryItemModel', {\r\n  test: '',\r\n}, {\r\n  getLevel: async (value: CategoryItemInput, option) => {\r\n    return await option.query(doc.categoryLevel, {\r\n      data: value,\r\n    })\r\n  },\r\n\r\n})\r\n\r\n\r\nconst ListBox = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  grid-gap: 15px;\r\n  \r\n`\r\n\r\nexport const CategoryPage = () => {\r\n  const router = useRouter()\r\n  const id = (router.query?.id as string) ?? ''\r\n  const {state: stateCPM, actions: actionsCPM, getLoad} = useStoreModel(CategoryPageModel)\r\n  const {actions: actionsCI} = useStoreModel(categoryItemModel)\r\n  const {state: homeTabsState, actions: actionsHomeTabs} = useStoreModel(homeTabsModel)\r\n  useEffect(() => {\r\n    actionsHomeTabs.setHomeType((router.query.homeType as string) ?? HomeType.home)\r\n  }, [router.query.homeType])\r\n\r\n  const CategoryItem = (v: Category) => {\r\n    return <CategoryItemStyle\r\n        key={`CategoryItem_${v.id}`}\r\n        onClick={async () => {\r\n          if ((await actionsCI.getLevel({\r\n            id: v.id,\r\n          }))?.categoryLevel === 3) {\r\n            await Router.push({\r\n              pathname: '/productList/[id]',\r\n              query: {\r\n                id: v.id,\r\n                homeType: router.query.homeType,\r\n              },\r\n            })\r\n          } else {\r\n            await Router.push(`/category/[id]${dealUrlQuery({homeType: router.query.homeType})}`, `/category/${v.id}${dealUrlQuery({homeType: router.query.homeType})}`)\r\n          }\r\n        }}\r\n    >\r\n      <img\r\n          src={dealImgUrl(v.imgUrl)}\r\n          alt=''\r\n      />\r\n      <span>{v.name}<KeyboardArrowRight/></span>\r\n    </CategoryItemStyle>\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      actionsCPM.getProductList({\r\n        categoryItemInput: {id},\r\n        productItemInput: {\r\n          isGroup: router.query.homeType === HomeType.group ? 1 : 0,\r\n        }\r\n      })\r\n    }\r\n  }, [id])\r\n\r\n  return <div>\r\n    <HeaderTitle\r\n        title={''}\r\n    />\r\n    {!!getLoad(doc.productsInCategory) && <LinearProgress/>}\r\n    <BScroller boxHeight={'calc(100vh - 60px)'}>\r\n      <Box>\r\n        {((stateCPM.categoryList.length === 0 && stateCPM.productList.length === 0) && <NoData/>) ||\r\n        (\r\n            <>\r\n              {stateCPM.categoryList.map(value => CategoryItem(value))}\r\n              <header>{ls('热门推荐')}</header>\r\n              {(stateCPM.productList.length === 0) && <NoData/>}\r\n              <ListBox>\r\n                {stateCPM.productList.map(value => <ProductItem\r\n                    key={`ProductItem_${value.id}`}\r\n                    product={value}/>)}\r\n              </ListBox>\r\n            </>\r\n        )\r\n        }\r\n\r\n      </Box>\r\n    </BScroller>\r\n  </div>\r\n}\r\n"]},"metadata":{},"sourceType":"module"}