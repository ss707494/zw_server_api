{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useCallback, useEffect, useState } from \"react\";\nimport { graphQLMutate, graphQLQuery } from '../client';\nimport { baseActionOption } from './modelUtil';\nexport var originStore = {};\n\nvar isFunction = function isFunction(functionToCheck) {\n  return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\n};\n\nexport var dealNameSpace = function dealNameSpace(key, nameSpace) {\n  if (nameSpace) {\n    return \"\".concat(key, \"_\").concat(nameSpace);\n  }\n\n  return \"\".concat(key);\n};\nexport var useStoreModel = function useStoreModel(model, key) {\n  var _model$name;\n\n  var _key = (_model$name = model.name) !== null && _model$name !== void 0 ? _model$name : !key ? '' : Array.isArray(key) ? dealNameSpace(key[0], key[1]) : key;\n\n  var actions = model.actions,\n      state = model.state;\n\n  var _useState = useState(Object.create(null)),\n      setState = _useState[1];\n\n  if (!_key) {\n    throw Error('no key');\n  }\n\n  if (!originStore[_key]) {\n    originStore[_key] = {\n      keys: _key,\n      state: state,\n      actions: {},\n      setData: []\n    };\n  }\n\n  var notice = useCallback(function (data) {\n    originStore[_key].setData.forEach(function (value) {\n      value === null || value === void 0 ? void 0 : value(data);\n    });\n  }, [_key]);\n  var setData = useCallback(function (data) {\n    var oldState = originStore[_key].state;\n    var newData = isFunction(data) ? data(oldState) : data;\n    originStore[_key].state = newData;\n    notice(newData);\n  }, [_key, notice]);\n  var setLoad = useCallback(function (query, flag) {\n    setData(function (prevState) {\n      var _prevState$fetchLoad, _query$loc, _query$loc$source;\n\n      return _objectSpread({}, prevState, {\n        fetchLoad: _objectSpread({}, (_prevState$fetchLoad = prevState.fetchLoad) !== null && _prevState$fetchLoad !== void 0 ? _prevState$fetchLoad : {}, _defineProperty({}, query === null || query === void 0 ? void 0 : (_query$loc = query.loc) === null || _query$loc === void 0 ? void 0 : (_query$loc$source = _query$loc.source) === null || _query$loc$source === void 0 ? void 0 : _query$loc$source.body, flag))\n      });\n    });\n  }, [setData]);\n  var setError = useCallback(function (query, err) {\n    setData(function (prevState) {\n      var _prevState$fetchError, _query$loc2, _query$loc2$source;\n\n      return _objectSpread({}, prevState, {\n        fetchError: _objectSpread({}, (_prevState$fetchError = prevState.fetchError) !== null && _prevState$fetchError !== void 0 ? _prevState$fetchError : {}, _defineProperty({}, query === null || query === void 0 ? void 0 : (_query$loc2 = query.loc) === null || _query$loc2 === void 0 ? void 0 : (_query$loc2$source = _query$loc2.source) === null || _query$loc2$source === void 0 ? void 0 : _query$loc2$source.body, err))\n      });\n    });\n  }, [setData]);\n  var query = useCallback(function _callee(query, params, option) {\n    var res;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoad(query, true);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(graphQLQuery()(query, params, option)[\"catch\"](function (e) {\n              setError(query, e);\n            })[\"finally\"](function () {\n              setLoad(query, false);\n            }));\n\n          case 3:\n            res = _context.sent;\n            return _context.abrupt(\"return\", res === null || res === void 0 ? void 0 : res.data);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, [setError, setLoad]);\n  var mutate = useCallback(function _callee2(mutation, params, option) {\n    var res;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            setLoad(mutation, true);\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(graphQLMutate()(mutation, params, option)[\"catch\"](function (e) {\n              setError(mutation, e);\n            })[\"finally\"](function () {\n              setLoad(mutation, false);\n            }));\n\n          case 3:\n            res = _context2.sent;\n            return _context2.abrupt(\"return\", res === null || res === void 0 ? void 0 : res.data);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, [setError, setLoad]);\n\n  if (Object.keys(originStore[_key].actions).length === 0 && originStore[_key].actions.constructor === Object) {\n    Object.keys(actions).forEach(function (value) {\n      originStore[_key].actions[value] = function (v) {\n        return actions[value](v, _objectSpread({}, baseActionOption, {\n          data: originStore[_key].state,\n          notice: notice,\n          setData: setData,\n          query: query,\n          mutate: mutate,\n          store: originStore\n        }));\n      };\n    });\n  }\n\n  useEffect(function () {\n    Object.keys(actions).forEach(function (value) {\n      originStore[_key].actions[value] = function (v) {\n        return actions[value](v, _objectSpread({}, baseActionOption, {\n          data: originStore[_key].state,\n          notice: notice,\n          setData: setData,\n          query: query,\n          mutate: mutate,\n          store: originStore\n        }));\n      };\n    });\n  }, [_key, actions, mutate, notice, query, setData]);\n  useEffect(function () {\n    var _originStore$_key$set;\n\n    originStore[_key].setData = [].concat(_toConsumableArray((_originStore$_key$set = originStore[_key].setData) !== null && _originStore$_key$set !== void 0 ? _originStore$_key$set : []), [setState]);\n    return function () {\n      originStore[_key].setData = originStore[_key].setData.filter(function (value) {\n        return value !== setState;\n      });\n    };\n  }, [_key]);\n  return {\n    state: originStore[_key].state,\n    actions: originStore[_key].actions,\n    store: originStore,\n    getLoad: function getLoad(query) {\n      var _query$loc3, _query$loc3$source;\n\n      return originStore[_key].state.fetchLoad[query === null || query === void 0 ? void 0 : (_query$loc3 = query.loc) === null || _query$loc3 === void 0 ? void 0 : (_query$loc3$source = _query$loc3.source) === null || _query$loc3$source === void 0 ? void 0 : _query$loc3$source.body] ? 1 : 0;\n    }\n  };\n};","map":{"version":3,"sources":["D:/code/zw/zw_client_web/utils/ModelAction/useStore.ts"],"names":["useCallback","useEffect","useState","graphQLMutate","graphQLQuery","baseActionOption","originStore","isFunction","functionToCheck","toString","call","dealNameSpace","key","nameSpace","useStoreModel","model","_key","name","Array","isArray","actions","state","Object","create","setState","Error","keys","setData","notice","data","forEach","value","oldState","newData","setLoad","query","flag","prevState","fetchLoad","loc","source","body","setError","err","fetchError","params","option","e","res","mutate","mutation","length","constructor","v","store","filter","getLoad"],"mappings":"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","sourcesContent":["import {useCallback, useEffect, useState} from \"react\"\r\nimport {graphQLMutate, graphQLQuery} from '../client'\r\nimport {baseActionOption} from './modelUtil'\r\n\r\nexport const originStore: OriginStore = {}\r\n\r\nconst isFunction = (functionToCheck: any) => {\r\n  return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]'\r\n}\r\n\r\ntype StoreStateResult<T, E extends ModelActionObjHelp<any, T>> = ModelResult<T, E> & {\r\n  store: OriginStore\r\n  getLoad: (query: any) => number\r\n}\r\n\r\ntype UseModelState = <T extends FetchObj, E extends ModelActionObjHelp<any, T>>(model: ModelData<T, E>, key?: string | [string, string]) => StoreStateResult<T, E>\r\n\r\nexport const dealNameSpace = (key: string, nameSpace: string) => {\r\n  if (nameSpace) {\r\n    return `${key}_${nameSpace}`\r\n  }\r\n  return `${key}`\r\n}\r\n\r\nexport const useStoreModel: UseModelState = (model, key?: string | [string, string]) => {\r\n  const _key = model.name ?? (!key ? '' : Array.isArray(key) ? dealNameSpace(key[0], key[1]) : key)\r\n  const {actions, state} = model\r\n  const [, setState] = useState(Object.create(null))\r\n  if (!_key) {\r\n    throw Error('no key')\r\n  }\r\n  if (!originStore[_key]) {\r\n    originStore[_key] = {\r\n      keys: _key,\r\n      state,\r\n      actions: {},\r\n      setData: []\r\n    }\r\n  }\r\n  const notice = useCallback((data: any) => {\r\n    originStore[_key].setData.forEach(value => {\r\n      value?.(data)\r\n    })\r\n  }, [_key])\r\n  const setData: Dispatch<SetStateAction<typeof state>> = useCallback((data) => {\r\n    const oldState = originStore[_key].state\r\n    const newData = isFunction(data) ? (data as (v: typeof oldState) => void)(oldState) : data\r\n    originStore[_key].state = newData\r\n    notice(newData)\r\n  }, [_key, notice])\r\n\r\n  const setLoad = useCallback((query: any, flag: boolean) => {\r\n    setData(prevState => ({\r\n      ...prevState,\r\n      fetchLoad: {\r\n        ...prevState.fetchLoad ?? {},\r\n        [query?.loc?.source?.body]: flag,\r\n      }\r\n    }))\r\n  }, [setData])\r\n  const setError = useCallback((query: any, err: any) => {\r\n    setData(prevState => ({\r\n      ...prevState,\r\n      fetchError: {\r\n        ...prevState.fetchError ?? {},\r\n        [query?.loc?.source?.body]: err,\r\n      }\r\n    }))\r\n  }, [setData])\r\n\r\n  const query: GraphqlQuery = useCallback(async (query, params, option) => {\r\n    setLoad(query, true)\r\n    const res = await graphQLQuery()(query, params, option).catch(e => {\r\n      setError(query, e)\r\n    }).finally(() => {\r\n      setLoad(query, false)\r\n    }) as any\r\n    return res?.data\r\n  }, [setError, setLoad])\r\n  const mutate: GraphqlMutate = useCallback(async (mutation, params, option) => {\r\n    setLoad(mutation, true)\r\n    const res = await graphQLMutate()(mutation, params, option).catch(e => {\r\n      setError(mutation, e)\r\n    }).finally(() => {\r\n      setLoad(mutation, false)\r\n    }) as any\r\n    return res?.data\r\n  }, [setError, setLoad])\r\n\r\n  if (Object.keys(originStore[_key].actions).length === 0 && originStore[_key].actions.constructor === Object) {\r\n    Object.keys(actions).forEach(value => {\r\n      originStore[_key].actions[value] = (v: any) => actions[value](v, {\r\n        ...baseActionOption,\r\n        data: originStore[_key].state,\r\n        notice,\r\n        setData,\r\n        query,\r\n        mutate,\r\n        store: originStore,\r\n      })\r\n    })\r\n  }\r\n  useEffect(() => {\r\n    Object.keys(actions).forEach(value => {\r\n      originStore[_key].actions[value] = (v: any) => actions[value](v, {\r\n        ...baseActionOption,\r\n        data: originStore[_key].state,\r\n        notice,\r\n        setData,\r\n        query,\r\n        mutate,\r\n        store: originStore,\r\n      })\r\n    })\r\n  }, [_key, actions, mutate, notice, query, setData])\r\n  useEffect(() => {\r\n    originStore[_key].setData = [\r\n      ...originStore[_key].setData ?? [],\r\n      setState,\r\n    ]\r\n    return () => {\r\n      originStore[_key].setData = originStore[_key].setData.filter(value => value !== setState)\r\n    }\r\n  }, [_key])\r\n\r\n  return {\r\n    state: originStore[_key].state,\r\n    actions: (originStore[_key].actions) as DealFunObj<typeof actions>,\r\n    store: originStore,\r\n    getLoad: query => originStore[_key].state.fetchLoad[query?.loc?.source?.body] ? 1 : 0\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}