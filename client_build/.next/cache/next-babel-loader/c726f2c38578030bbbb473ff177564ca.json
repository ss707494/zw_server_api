{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { serverQuery } from '../../utils/client';\nimport { categoryList, getDataConfig, homeCarouselImgs } from '../../utils/graphqlTypes/doc';\nimport { AppModuleTypeEnum, CategoryRootName, DictTypeEnum } from '../../utils/ss_common/enum';\nimport { HomeAppModule } from '../../utils/view/home/appModule';\nexport var __N_SSG = true;\nexport default HomeAppModule();\nexport var init = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var _categoryRes$category, _categoryRes$category2;\n\n    var params, appModuleConfig, res2, _res2$getDataConfig, __typename, rest, homeCarouselDataComfig, categoryRes;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            params = _ref.params;\n            _context.next = 3;\n            return serverQuery(getDataConfig, {\n              data: {\n                type: DictTypeEnum.AppModule\n              }\n            }, {});\n\n          case 3:\n            appModuleConfig = _context.sent;\n            _context.next = 6;\n            return serverQuery(getDataConfig, {\n              data: {\n                type: DictTypeEnum.HomeCarousel\n              }\n            }, {});\n\n          case 6:\n            res2 = _context.sent;\n            _res2$getDataConfig = res2 === null || res2 === void 0 ? void 0 : res2.getDataConfig, __typename = _res2$getDataConfig.__typename, rest = _objectWithoutProperties(_res2$getDataConfig, [\"__typename\"]);\n            _context.next = 10;\n            return serverQuery(homeCarouselImgs, {\n              data: _objectSpread({}, rest)\n            }, {});\n\n          case 10:\n            homeCarouselDataComfig = _context.sent;\n            _context.t1 = params.appModule === AppModuleTypeEnum.categorySelection;\n\n            if (!_context.t1) {\n              _context.next = 16;\n              break;\n            }\n\n            _context.next = 15;\n            return serverQuery(categoryList, {\n              data: {\n                category: {\n                  parentCategory: {\n                    id: CategoryRootName\n                  }\n                }\n              }\n            });\n\n          case 15:\n            _context.t1 = _context.sent;\n\n          case 16:\n            _context.t0 = _context.t1;\n\n            if (_context.t0) {\n              _context.next = 19;\n              break;\n            }\n\n            _context.t0 = {};\n\n          case 19:\n            categoryRes = _context.t0;\n            return _context.abrupt(\"return\", {\n              props: _objectSpread(_objectSpread({\n                homeCategorySelection_listData: (_categoryRes$category = categoryRes === null || categoryRes === void 0 ? void 0 : (_categoryRes$category2 = categoryRes.categoryList) === null || _categoryRes$category2 === void 0 ? void 0 : _categoryRes$category2.list) !== null && _categoryRes$category !== void 0 ? _categoryRes$category : []\n              }, homeCarouselDataComfig), {}, {\n                appModuleConfig: appModuleConfig === null || appModuleConfig === void 0 ? void 0 : appModuleConfig.getDataConfig\n              })\n            });\n\n          case 21:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function init(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["D:/code/zw/zw_client_web/pages/home/[appModule].tsx"],"names":["serverQuery","categoryList","getDataConfig","homeCarouselImgs","AppModuleTypeEnum","CategoryRootName","DictTypeEnum","HomeAppModule","init","params","data","type","AppModule","appModuleConfig","HomeCarousel","res2","__typename","rest","homeCarouselDataComfig","appModule","categorySelection","category","parentCategory","id","categoryRes","props","homeCategorySelection_listData","list"],"mappings":";;;;;;;;;AACA,SAAQA,WAAR,QAA0B,oBAA1B;AACA,SAAQC,YAAR,EAAsBC,aAAtB,EAAqCC,gBAArC,QAA4D,8BAA5D;AAEA,SAAQC,iBAAR,EAA2BC,gBAA3B,EAA6CC,YAA7C,QAAgE,4BAAhE;AACA,SAAQC,aAAR,QAA4B,iCAA5B;;AAEA,eAAeA,aAAa,EAA5B;AAEA,OAAO,IAAMC,IAAI;AAAA,uEAAG;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAQC,YAAAA,MAAR,QAAQA,MAAR;AAAA;AAAA,mBACYT,WAAW,CAACE,aAAD,EAAgB;AACvDQ,cAAAA,IAAI,EAAE;AACJC,gBAAAA,IAAI,EAAEL,YAAY,CAACM;AADf;AADiD,aAAhB,EAItC,EAJsC,CADvB;;AAAA;AACZC,YAAAA,eADY;AAAA;AAAA,mBAOCb,WAAW,CAACE,aAAD,EAAgB;AAC5CQ,cAAAA,IAAI,EAAE;AACJC,gBAAAA,IAAI,EAAEL,YAAY,CAACQ;AADf;AADsC,aAAhB,EAI3B,EAJ2B,CAPZ;;AAAA;AAOZC,YAAAA,IAPY;AAAA,kCAYYA,IAZZ,aAYYA,IAZZ,uBAYYA,IAAI,CAAEb,aAZlB,EAYXc,UAZW,uBAYXA,UAZW,EAYIC,IAZJ;AAAA;AAAA,mBAamBjB,WAAW,CAACG,gBAAD,EAAmB;AACjEO,cAAAA,IAAI,oBACCO,IADD;AAD6D,aAAnB,EAI7C,EAJ6C,CAb9B;;AAAA;AAaZC,YAAAA,sBAbY;AAAA,0BAmBGT,MAAM,CAACU,SAAP,KAAqBf,iBAAiB,CAACgB,iBAnB1C;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAmBqEpB,WAAW,CAACC,YAAD,EAAe;AAC/GS,cAAAA,IAAI,EAAE;AACJW,gBAAAA,QAAQ,EAAE;AACRC,kBAAAA,cAAc,EAAE;AACdC,oBAAAA,EAAE,EAAElB;AADU;AADR;AADN;AADyG,aAAf,CAnBhF;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA,0BA2BX,EA3BW;;AAAA;AAmBZmB,YAAAA,WAnBY;AAAA,6CA6BX;AACLC,cAAAA,KAAK;AACHC,gBAAAA,8BAA8B,2BAAEF,WAAF,aAAEA,WAAF,iDAAEA,WAAW,CAAEvB,YAAf,2DAAE,uBAA2B0B,IAA7B,yEAAqC;AADhE,iBAEAT,sBAFA;AAGHL,gBAAAA,eAAe,EAAEA,eAAF,aAAEA,eAAF,uBAAEA,eAAe,CAAEX;AAH/B;AADA,aA7BW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAJM,IAAI;AAAA;AAAA;AAAA,GAAV","sourcesContent":["import React from 'react'\r\nimport {serverQuery} from '../../utils/client'\r\nimport {categoryList, getDataConfig, homeCarouselImgs} from '../../utils/graphqlTypes/doc'\r\nimport {CategoryListInput, DataConfigItemInput} from '../../utils/graphqlTypes/types'\r\nimport {AppModuleTypeEnum, CategoryRootName, DictTypeEnum} from '../../utils/ss_common/enum'\r\nimport {HomeAppModule} from '../../utils/view/home/appModule'\r\n\r\nexport default HomeAppModule()\r\n\r\nexport const init = async ({params}: {params: any}) => {\r\n  const appModuleConfig = await serverQuery(getDataConfig, {\r\n    data: {\r\n      type: DictTypeEnum.AppModule,\r\n    } as DataConfigItemInput\r\n  }, {})\r\n\r\n  const res2 = await serverQuery(getDataConfig, {\r\n    data: {\r\n      type: DictTypeEnum.HomeCarousel,\r\n    } as DataConfigItemInput\r\n  }, {})\r\n  const {__typename, ...rest} = res2?.getDataConfig\r\n  const homeCarouselDataComfig = await serverQuery(homeCarouselImgs, {\r\n    data: {\r\n      ...rest,\r\n    } as DataConfigItemInput\r\n  }, {})\r\n\r\n  const categoryRes = (params.appModule === AppModuleTypeEnum.categorySelection && await serverQuery(categoryList, {\r\n    data: {\r\n      category: {\r\n        parentCategory: {\r\n          id: CategoryRootName,\r\n        },\r\n      },\r\n    } as CategoryListInput\r\n  })) || {}\r\n\r\n  return {\r\n    props: {\r\n      homeCategorySelection_listData: categoryRes?.categoryList?.list ?? [],\r\n      ...homeCarouselDataComfig,\r\n      appModuleConfig: appModuleConfig?.getDataConfig,\r\n    },\r\n  }\r\n}\r\n\r\nexport const getStaticPaths = () => {\r\n  return {\r\n    paths: [{\r\n      params: {\r\n        appModule: AppModuleTypeEnum.categorySelection,\r\n      },\r\n    }, {\r\n      params: {\r\n        appModule: AppModuleTypeEnum.limitTime,\r\n      },\r\n    }, {\r\n      params: {\r\n        appModule: AppModuleTypeEnum.mayLike,\r\n      },\r\n    }, {\r\n      params: {\r\n        appModule: AppModuleTypeEnum.salesRank,\r\n      },\r\n    }, {\r\n      params: {\r\n        appModule: AppModuleTypeEnum.themeSelection,\r\n      },\r\n    }],\r\n    fallback: true,\r\n  }\r\n}\r\nexport const getStaticProps = init\r\n"]},"metadata":{},"sourceType":"module"}