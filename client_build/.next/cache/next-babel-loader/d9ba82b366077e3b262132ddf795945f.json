{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport { grey } from '@material-ui/core/colors';\nimport { KeyboardArrowRight } from '@material-ui/icons';\nimport { ButtonBase } from '@material-ui/core';\nimport { useStoreModel } from '../../../../ModelAction/useStore';\nimport { dealUrlQuery, fpMergePre } from '../../../../tools/utils';\nimport { Loading } from '../../../../components/Loading/Loading';\nimport { categoryList } from '../../../../graphqlTypes/doc';\nimport { dealImgUrl } from '../../../../tools/img';\nimport { CategoryRootName } from '../../../../ss_common/enum';\nimport { modelFactory } from '../../../../ModelAction/modelUtil';\nimport { useRouter } from 'next/router';\nimport { homeTabsModel } from '../Tabs/Tabs';\nexport var homeCategorySelectionModel = modelFactory('HomeCategorySelection', {\n  listData: [],\n  total: 0\n}, {\n  getList: function () {\n    var _getList = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(value, option) {\n      var _res$categoryList;\n\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return option.query(categoryList, {\n                data: {\n                  category: {\n                    parentCategory: {\n                      id: CategoryRootName\n                    }\n                  }\n                }\n              });\n\n            case 2:\n              res = _context.sent;\n              option.setData(fpMergePre({\n                listData: res === null || res === void 0 ? void 0 : (_res$categoryList = res.categoryList) === null || _res$categoryList === void 0 ? void 0 : _res$categoryList.list\n              }));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function getList(_x, _x2) {\n      return _getList.apply(this, arguments);\n    }\n\n    return getList;\n  }()\n});\nexport var CategorySelection = function CategorySelection() {\n  var _homeCategorySelectio;\n\n  var router = useRouter();\n\n  var _useStoreModel = useStoreModel(homeCategorySelectionModel),\n      homeCategorySelectionState = _useStoreModel.state,\n      homeCategorySelectionActions = _useStoreModel.actions,\n      hsGetLoad = _useStoreModel.getLoad;\n\n  var _useStoreModel2 = useStoreModel(homeTabsModel),\n      homeTabsState = _useStoreModel2.state;\n\n  console.log(homeTabsState.homeType);\n  useEffect(function () {\n    homeCategorySelectionActions.getList();\n  }, []);\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2863441005\", [grey[700]]]])\n  }, !!hsGetLoad(categoryList) && __jsx(Loading, null), homeCategorySelectionState === null || homeCategorySelectionState === void 0 ? void 0 : (_homeCategorySelectio = homeCategorySelectionState.listData) === null || _homeCategorySelectio === void 0 ? void 0 : _homeCategorySelectio.map(function (value) {\n    return __jsx(ButtonBase, {\n      className: 'main',\n      onClick: function onClick() {\n        router.push(\"/category/[id]\".concat(dealUrlQuery({\n          homeType: homeTabsState.homeType\n        })), \"/category/\".concat(value.id).concat(dealUrlQuery({\n          homeType: homeTabsState.homeType\n        })));\n      },\n      key: \"homeCategorySelectionState_\".concat(value.id)\n    }, __jsx(\"img\", {\n      src: dealImgUrl(value.imgUrl),\n      alt: \"\",\n      className: _JSXStyle.dynamic([[\"2863441005\", [grey[700]]]])\n    }), __jsx(\"span\", {\n      className: _JSXStyle.dynamic([[\"2863441005\", [grey[700]]]])\n    }, value.name, __jsx(KeyboardArrowRight, null)));\n  }), __jsx(_JSXStyle, {\n    id: \"2863441005\",\n    dynamic: [grey[700]]\n  }, [\"div.__jsx-style-dynamic-selector>.main{width:100%;height:18.75vw;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-radius:2.5vw;overflow:hidden;margin-bottom:3.125vw;background:\".concat(grey[700], \";}\"), \"div.__jsx-style-dynamic-selector>.main>img.__jsx-style-dynamic-selector{height:100%;width:70%;}\", \"div.__jsx-style-dynamic-selector>.main>span.__jsx-style-dynamic-selector{-webkit-flex:1 1;-ms-flex:1 1;flex:1 1;color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\"]));\n};\nexport default CategorySelection;","map":null,"metadata":{},"sourceType":"module"}