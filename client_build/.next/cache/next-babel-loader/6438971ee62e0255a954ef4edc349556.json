{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { serverQuery } from '../../utils/client';\nimport { categoryList, getDataConfig, homeCarouselImgs } from '../../utils/graphqlTypes/doc';\nimport { AppModuleTypeEnum, CategoryRootName, DictTypeEnum } from '../../utils/ss_common/enum';\nimport { HomeAppModule } from '../../utils/view/home/appModule';\nexport default HomeAppModule();\nexport const init = async ({\n  params\n}) => {\n  var _categoryRes$category, _categoryRes$category2;\n\n  const appModuleConfig = await serverQuery(getDataConfig, {\n    data: {\n      type: DictTypeEnum.AppModule\n    }\n  }, {});\n  const res2 = await serverQuery(getDataConfig, {\n    data: {\n      type: DictTypeEnum.HomeCarousel\n    }\n  }, {});\n\n  const _res2$getDataConfig = res2 === null || res2 === void 0 ? void 0 : res2.getDataConfig,\n        {\n    __typename\n  } = _res2$getDataConfig,\n        rest = _objectWithoutProperties(_res2$getDataConfig, [\"__typename\"]);\n\n  const homeCarouselDataComfig = await serverQuery(homeCarouselImgs, {\n    data: _objectSpread({}, rest)\n  }, {});\n  const categoryRes = params.appModule === AppModuleTypeEnum.categorySelection && (await serverQuery(categoryList, {\n    data: {\n      category: {\n        parentCategory: {\n          id: CategoryRootName\n        }\n      }\n    }\n  })) || {};\n  return {\n    props: _objectSpread(_objectSpread({\n      homeCategorySelection_listData: (_categoryRes$category = categoryRes === null || categoryRes === void 0 ? void 0 : (_categoryRes$category2 = categoryRes.categoryList) === null || _categoryRes$category2 === void 0 ? void 0 : _categoryRes$category2.list) !== null && _categoryRes$category !== void 0 ? _categoryRes$category : []\n    }, homeCarouselDataComfig), {}, {\n      appModuleConfig: appModuleConfig === null || appModuleConfig === void 0 ? void 0 : appModuleConfig.getDataConfig\n    })\n  };\n};\nexport const getStaticPaths = () => {\n  return {\n    paths: [{\n      params: {\n        appModule: AppModuleTypeEnum.categorySelection\n      }\n    }, {\n      params: {\n        appModule: AppModuleTypeEnum.limitTime\n      }\n    }, {\n      params: {\n        appModule: AppModuleTypeEnum.mayLike\n      }\n    }, {\n      params: {\n        appModule: AppModuleTypeEnum.salesRank\n      }\n    }, {\n      params: {\n        appModule: AppModuleTypeEnum.themeSelection\n      }\n    }],\n    fallback: true\n  };\n};\nexport const getStaticProps = init;","map":{"version":3,"sources":["D:/code/zw/zw_client_web/pages/home/[appModule].tsx"],"names":["serverQuery","categoryList","getDataConfig","homeCarouselImgs","AppModuleTypeEnum","CategoryRootName","DictTypeEnum","HomeAppModule","init","params","appModuleConfig","data","type","AppModule","res2","HomeCarousel","__typename","rest","homeCarouselDataComfig","categoryRes","appModule","categorySelection","category","parentCategory","id","props","homeCategorySelection_listData","list","getStaticPaths","paths","limitTime","mayLike","salesRank","themeSelection","fallback","getStaticProps"],"mappings":";;;;;;;;;;AACA,SAAQA,WAAR,QAA0B,oBAA1B;AACA,SAAQC,YAAR,EAAsBC,aAAtB,EAAqCC,gBAArC,QAA4D,8BAA5D;AAEA,SAAQC,iBAAR,EAA2BC,gBAA3B,EAA6CC,YAA7C,QAAgE,4BAAhE;AACA,SAAQC,aAAR,QAA4B,iCAA5B;AAEA,eAAeA,aAAa,EAA5B;AAEA,OAAO,MAAMC,IAAI,GAAG,OAAO;AAACC,EAAAA;AAAD,CAAP,KAAmC;AAAA;;AACrD,QAAMC,eAAe,GAAG,MAAMV,WAAW,CAACE,aAAD,EAAgB;AACvDS,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAEN,YAAY,CAACO;AADf;AADiD,GAAhB,EAItC,EAJsC,CAAzC;AAMA,QAAMC,IAAI,GAAG,MAAMd,WAAW,CAACE,aAAD,EAAgB;AAC5CS,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAEN,YAAY,CAACS;AADf;AADsC,GAAhB,EAI3B,EAJ2B,CAA9B;;AAKA,8BAA8BD,IAA9B,aAA8BA,IAA9B,uBAA8BA,IAAI,CAAEZ,aAApC;AAAA,QAAM;AAACc,IAAAA;AAAD,GAAN;AAAA,QAAsBC,IAAtB;;AACA,QAAMC,sBAAsB,GAAG,MAAMlB,WAAW,CAACG,gBAAD,EAAmB;AACjEQ,IAAAA,IAAI,oBACCM,IADD;AAD6D,GAAnB,EAI7C,EAJ6C,CAAhD;AAMA,QAAME,WAAW,GAAIV,MAAM,CAACW,SAAP,KAAqBhB,iBAAiB,CAACiB,iBAAvC,KAA4D,MAAMrB,WAAW,CAACC,YAAD,EAAe;AAC/GU,IAAAA,IAAI,EAAE;AACJW,MAAAA,QAAQ,EAAE;AACRC,QAAAA,cAAc,EAAE;AACdC,UAAAA,EAAE,EAAEnB;AADU;AADR;AADN;AADyG,GAAf,CAA7E,CAAD,IAQb,EARP;AAUA,SAAO;AACLoB,IAAAA,KAAK;AACHC,MAAAA,8BAA8B,2BAAEP,WAAF,aAAEA,WAAF,iDAAEA,WAAW,CAAElB,YAAf,2DAAE,uBAA2B0B,IAA7B,yEAAqC;AADhE,OAEAT,sBAFA;AAGHR,MAAAA,eAAe,EAAEA,eAAF,aAAEA,eAAF,uBAAEA,eAAe,CAAER;AAH/B;AADA,GAAP;AAOD,CApCM;AAsCP,OAAO,MAAM0B,cAAc,GAAG,MAAM;AAClC,SAAO;AACLC,IAAAA,KAAK,EAAE,CAAC;AACNpB,MAAAA,MAAM,EAAE;AACNW,QAAAA,SAAS,EAAEhB,iBAAiB,CAACiB;AADvB;AADF,KAAD,EAIJ;AACDZ,MAAAA,MAAM,EAAE;AACNW,QAAAA,SAAS,EAAEhB,iBAAiB,CAAC0B;AADvB;AADP,KAJI,EAQJ;AACDrB,MAAAA,MAAM,EAAE;AACNW,QAAAA,SAAS,EAAEhB,iBAAiB,CAAC2B;AADvB;AADP,KARI,EAYJ;AACDtB,MAAAA,MAAM,EAAE;AACNW,QAAAA,SAAS,EAAEhB,iBAAiB,CAAC4B;AADvB;AADP,KAZI,EAgBJ;AACDvB,MAAAA,MAAM,EAAE;AACNW,QAAAA,SAAS,EAAEhB,iBAAiB,CAAC6B;AADvB;AADP,KAhBI,CADF;AAsBLC,IAAAA,QAAQ,EAAE;AAtBL,GAAP;AAwBD,CAzBM;AA0BP,OAAO,MAAMC,cAAc,GAAG3B,IAAvB","sourcesContent":["import React from 'react'\r\nimport {serverQuery} from '../../utils/client'\r\nimport {categoryList, getDataConfig, homeCarouselImgs} from '../../utils/graphqlTypes/doc'\r\nimport {CategoryListInput, DataConfigItemInput} from '../../utils/graphqlTypes/types'\r\nimport {AppModuleTypeEnum, CategoryRootName, DictTypeEnum} from '../../utils/ss_common/enum'\r\nimport {HomeAppModule} from '../../utils/view/home/appModule'\r\n\r\nexport default HomeAppModule()\r\n\r\nexport const init = async ({params}: {params: any}) => {\r\n  const appModuleConfig = await serverQuery(getDataConfig, {\r\n    data: {\r\n      type: DictTypeEnum.AppModule,\r\n    } as DataConfigItemInput\r\n  }, {})\r\n\r\n  const res2 = await serverQuery(getDataConfig, {\r\n    data: {\r\n      type: DictTypeEnum.HomeCarousel,\r\n    } as DataConfigItemInput\r\n  }, {})\r\n  const {__typename, ...rest} = res2?.getDataConfig\r\n  const homeCarouselDataComfig = await serverQuery(homeCarouselImgs, {\r\n    data: {\r\n      ...rest,\r\n    } as DataConfigItemInput\r\n  }, {})\r\n\r\n  const categoryRes = (params.appModule === AppModuleTypeEnum.categorySelection && await serverQuery(categoryList, {\r\n    data: {\r\n      category: {\r\n        parentCategory: {\r\n          id: CategoryRootName,\r\n        },\r\n      },\r\n    } as CategoryListInput\r\n  })) || {}\r\n\r\n  return {\r\n    props: {\r\n      homeCategorySelection_listData: categoryRes?.categoryList?.list ?? [],\r\n      ...homeCarouselDataComfig,\r\n      appModuleConfig: appModuleConfig?.getDataConfig,\r\n    },\r\n  }\r\n}\r\n\r\nexport const getStaticPaths = () => {\r\n  return {\r\n    paths: [{\r\n      params: {\r\n        appModule: AppModuleTypeEnum.categorySelection,\r\n      },\r\n    }, {\r\n      params: {\r\n        appModule: AppModuleTypeEnum.limitTime,\r\n      },\r\n    }, {\r\n      params: {\r\n        appModule: AppModuleTypeEnum.mayLike,\r\n      },\r\n    }, {\r\n      params: {\r\n        appModule: AppModuleTypeEnum.salesRank,\r\n      },\r\n    }, {\r\n      params: {\r\n        appModule: AppModuleTypeEnum.themeSelection,\r\n      },\r\n    }],\r\n    fallback: true,\r\n  }\r\n}\r\nexport const getStaticProps = init\r\n"]},"metadata":{},"sourceType":"module"}