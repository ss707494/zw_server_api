{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\zw\\\\zw_client_web\\\\utils\\\\components\\\\BScroll\\\\BScroller.tsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useRef } from 'react';\nimport BetterScroll from 'better-scroll';\nimport { useStoreModel } from '../../ModelAction/useStore';\nimport { fpMergePre } from '../../tools/utils';\nimport { modelFactory } from '../../ModelAction/modelUtil';\nexport const bScrollModel = modelFactory('bScrollModel', {\n  scroll: {}\n}, {\n  setScroll: (value, option) => {\n    option.setData(fpMergePre({\n      scroll: value\n    }));\n  }\n});\nexport const BScroller = ({\n  children,\n  boxHeight\n}) => {\n  const {\n    state: bsState,\n    actions: bsActions\n  } = useStoreModel(bScrollModel);\n  const scrollRef = useRef(null);\n  useEffect(() => {\n    // @ts-ignore\n    const scroll = new BetterScroll(scrollRef.current, {\n      click: true,\n      scrollY: true\n    });\n    bsActions.setScroll(scroll);\n    return () => {\n      scroll.stop();\n      scroll.destroy();\n    };\n  }, []);\n  return __jsx(\"div\", {\n    ref: scrollRef,\n    className: _JSXStyle.dynamic([[\"1131472674\", [boxHeight || '100vh']]]) + \" \" + 'box',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1131472674\", [boxHeight || '100vh']]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, children), __jsx(_JSXStyle, {\n    id: \"1131472674\",\n    dynamic: [boxHeight || '100vh'],\n    __self: this\n  }, `.box.__jsx-style-dynamic-selector{height:${boxHeight || '100vh'};overflow:hidden;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxjb2RlXFx6d1xcendfY2xpZW50X3dlYlxcdXRpbHNcXGNvbXBvbmVudHNcXEJTY3JvbGxcXEJTY3JvbGxlci50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBcUNvQixBQUV1QyxvQ0FDcEIsZ0JBQUMiLCJmaWxlIjoiRDpcXGNvZGVcXHp3XFx6d19jbGllbnRfd2ViXFx1dGlsc1xcY29tcG9uZW50c1xcQlNjcm9sbFxcQlNjcm9sbGVyLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge3VzZUVmZmVjdCwgdXNlUmVmfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IEJldHRlclNjcm9sbCBmcm9tICdiZXR0ZXItc2Nyb2xsJ1xyXG5pbXBvcnQge3VzZVN0b3JlTW9kZWx9IGZyb20gJy4uLy4uL01vZGVsQWN0aW9uL3VzZVN0b3JlJ1xyXG5pbXBvcnQge2ZwTWVyZ2VQcmV9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzJ1xyXG5pbXBvcnQge21vZGVsRmFjdG9yeX0gZnJvbSAnLi4vLi4vTW9kZWxBY3Rpb24vbW9kZWxVdGlsJ1xyXG5cclxuZXhwb3J0IGNvbnN0IGJTY3JvbGxNb2RlbCA9IG1vZGVsRmFjdG9yeSgnYlNjcm9sbE1vZGVsJywge1xyXG4gIHNjcm9sbDoge30gYXMgYW55LFxyXG59LCB7XHJcbiAgc2V0U2Nyb2xsOiAodmFsdWUsIG9wdGlvbikgPT4ge1xyXG4gICAgb3B0aW9uLnNldERhdGEoZnBNZXJnZVByZSh7XHJcbiAgICAgIHNjcm9sbDogdmFsdWUsXHJcbiAgICB9KSlcclxuICB9LFxyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IEJTY3JvbGxlciA9ICh7Y2hpbGRyZW4sIGJveEhlaWdodH06IHtjaGlsZHJlbj86IGFueSwgYm94SGVpZ2h0PzogYW55fSkgPT4ge1xyXG4gIGNvbnN0IHtzdGF0ZTogYnNTdGF0ZSwgYWN0aW9uczogYnNBY3Rpb25zfSA9IHVzZVN0b3JlTW9kZWwoYlNjcm9sbE1vZGVsKVxyXG4gIGNvbnN0IHNjcm9sbFJlZiA9IHVzZVJlZihudWxsKVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBzY3JvbGwgPSBuZXcgQmV0dGVyU2Nyb2xsKHNjcm9sbFJlZi5jdXJyZW50LCB7XHJcbiAgICAgIGNsaWNrOiB0cnVlLFxyXG4gICAgICBzY3JvbGxZOiB0cnVlLFxyXG4gICAgfSlcclxuICAgIGJzQWN0aW9ucy5zZXRTY3JvbGwoc2Nyb2xsKVxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgc2Nyb2xsLnN0b3AoKTtcclxuICAgICAgc2Nyb2xsLmRlc3Ryb3koKTtcclxuICAgIH1cclxuICB9LCBbXSlcclxuXHJcbiAgcmV0dXJuIChcclxuICAgICAgPGRpdlxyXG4gICAgICAgICAgcmVmPXtzY3JvbGxSZWZ9XHJcbiAgICAgICAgICBjbGFzc05hbWU9eydib3gnfT5cclxuICAgICAgICA8ZGl2PntjaGlsZHJlbn08L2Rpdj5cclxuICAgICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgICAuYm94IHtcclxuICAgICAgICAgICAgaGVpZ2h0OiAke2JveEhlaWdodCB8fCAnMTAwdmgnfTtcclxuICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgIH1cclxuICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgIDwvZGl2PlxyXG4gIClcclxufVxyXG4iXX0= */\n/*@ sourceURL=D:\\\\code\\\\zw\\\\zw_client_web\\\\utils\\\\components\\\\BScroll\\\\BScroller.tsx */`));\n};","map":{"version":3,"sources":["D:/code/zw/zw_client_web/utils/components/BScroll/BScroller.tsx"],"names":["React","useEffect","useRef","BetterScroll","useStoreModel","fpMergePre","modelFactory","bScrollModel","scroll","setScroll","value","option","setData","BScroller","children","boxHeight","state","bsState","actions","bsActions","scrollRef","current","click","scrollY","stop","destroy"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,MAA1B,QAAuC,OAAvC;AACA,OAAOC,YAAP,MAAyB,eAAzB;AACA,SAAQC,aAAR,QAA4B,4BAA5B;AACA,SAAQC,UAAR,QAAyB,mBAAzB;AACA,SAAQC,YAAR,QAA2B,6BAA3B;AAEA,OAAO,MAAMC,YAAY,GAAGD,YAAY,CAAC,cAAD,EAAiB;AACvDE,EAAAA,MAAM,EAAE;AAD+C,CAAjB,EAErC;AACDC,EAAAA,SAAS,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC5BA,IAAAA,MAAM,CAACC,OAAP,CAAeP,UAAU,CAAC;AACxBG,MAAAA,MAAM,EAAEE;AADgB,KAAD,CAAzB;AAGD;AALA,CAFqC,CAAjC;AAUP,OAAO,MAAMG,SAAS,GAAG,CAAC;AAACC,EAAAA,QAAD;AAAWC,EAAAA;AAAX,CAAD,KAA8D;AACrF,QAAM;AAACC,IAAAA,KAAK,EAAEC,OAAR;AAAiBC,IAAAA,OAAO,EAAEC;AAA1B,MAAuCf,aAAa,CAACG,YAAD,CAA1D;AACA,QAAMa,SAAS,GAAGlB,MAAM,CAAC,IAAD,CAAxB;AACAD,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,UAAMO,MAAM,GAAG,IAAIL,YAAJ,CAAiBiB,SAAS,CAACC,OAA3B,EAAoC;AACjDC,MAAAA,KAAK,EAAE,IAD0C;AAEjDC,MAAAA,OAAO,EAAE;AAFwC,KAApC,CAAf;AAIAJ,IAAAA,SAAS,CAACV,SAAV,CAAoBD,MAApB;AACA,WAAO,MAAM;AACXA,MAAAA,MAAM,CAACgB,IAAP;AACAhB,MAAAA,MAAM,CAACiB,OAAP;AACD,KAHD;AAID,GAXQ,EAWN,EAXM,CAAT;AAaA,SACI;AACI,IAAA,GAAG,EAAEL,SADT;AAAA,kDAMgBL,SAAS,IAAI,OAN7B,aAEe,KAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGE;AAAA,kDAGcA,SAAS,IAAI,OAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMD,QAAN,CAHF;AAAA;AAAA,cAMgBC,SAAS,IAAI,OAN7B;AAAA;AAAA,iDAMgBA,SAAS,IAAI,OAN7B;;wFAAA,EADJ;AAaD,CA7BM","sourcesContent":["import React, {useEffect, useRef} from 'react'\r\nimport BetterScroll from 'better-scroll'\r\nimport {useStoreModel} from '../../ModelAction/useStore'\r\nimport {fpMergePre} from '../../tools/utils'\r\nimport {modelFactory} from '../../ModelAction/modelUtil'\r\n\r\nexport const bScrollModel = modelFactory('bScrollModel', {\r\n  scroll: {} as any,\r\n}, {\r\n  setScroll: (value, option) => {\r\n    option.setData(fpMergePre({\r\n      scroll: value,\r\n    }))\r\n  },\r\n})\r\n\r\nexport const BScroller = ({children, boxHeight}: {children?: any, boxHeight?: any}) => {\r\n  const {state: bsState, actions: bsActions} = useStoreModel(bScrollModel)\r\n  const scrollRef = useRef(null)\r\n  useEffect(() => {\r\n    // @ts-ignore\r\n    const scroll = new BetterScroll(scrollRef.current, {\r\n      click: true,\r\n      scrollY: true,\r\n    })\r\n    bsActions.setScroll(scroll)\r\n    return () => {\r\n      scroll.stop();\r\n      scroll.destroy();\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n      <div\r\n          ref={scrollRef}\r\n          className={'box'}>\r\n        <div>{children}</div>\r\n        <style jsx>{`\r\n          .box {\r\n            height: ${boxHeight || '100vh'};\r\n            overflow: hidden;\r\n          }\r\n        `}</style>\r\n      </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}