(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{421:function(e,n,t){"use strict";t.r(n);var a=t(35),r=t.n(a),o=t(69),l=t(21),c=t(20),u=t(0),i=t.n(u),d=t(465),v=t(487),s=t(8),m=t(9),f=t(484);function p(){var e=Object(s.a)(["&&&{\n  display: flex;\n  flex-direction: column;\n  > header {\n    font-size: 20px;\n    font-weight: bold;\n    margin-bottom: 15px;\n  } \n  > section {\n    font-weight: bold;\n    font-size: 14px;\n    margin-bottom: 10px;\n  }\n  > main {\n    > div {\n      margin-right: 8px;\n    }\n  }\n}\n"]);return p=function(){return e},e}function b(){var e=Object(s.a)(["&&& {\n  display: flex;\n  > button {\n    margin-right: 8px;\n    &:last-of-type {\n      margin-right: 0;\n    }\n  }\n}"]);return b=function(){return e},e}function C(){var e=Object(s.a)(["\n  text-align: center;\n"]);return C=function(){return e},e}function g(){var e=Object(s.a)(["\n&&&{\n  margin-top: 20px;\n  border-radius: 5px;\n  border-collapse: initial;\n  overflow: hidden;\n  border: 1px solid rgba(224, 224, 224, 1);\n  > thead {\n    background: ",";\n    > tr > th {\n      color: ",";\n    }\n  }\n}\n"]);return g=function(){return e},e}function E(){var e=Object(s.a)(["\n  margin: 20px;\n  > header {\n    display: flex;\n    flex-direction: row;\n    > section {\n      flex: 1;\n    }\n  }\n"]);return E=function(){return e},e}var O={};O.Box=Object(m.a)("div")(E()),O.Table=Object(m.a)(f.a)(g(),function(e){return e.theme.palette.grey[800]},function(e){return e.theme.palette.common.white}),O.Loading=Object(m.a)("section")(C()),O.ActionTableCell=Object(m.a)("section")(b()),O.HeaderBox=Object(m.a)("section")(p());var j=t(456),y=t(486),h=t(488),T=t(161),x=t(467),D=t(416),w=t(412);function F(){var e=Object(s.a)(["\n&&& {\n  width: 660px;\n  //> header {\n  //  display: flex;\n  //  justify-content: center;\n  //  align-items: center;\n  //  font-size: 18px;\n  //  font-weight: bold;\n  //  height: 60px;\n  //}\n  > form {\n    margin-bottom: 20px;\n  }\n}\n"]);return F=function(){return e},e}function I(){var e=Object(s.a)(["\n"]);return I=function(){return e},e}var P={};P.Box=Object(m.a)(D.a)(I()),P.Content=Object(m.a)(w.a)(F());var _=t(411),k=t(158),N=t(160),B=t(70),S=t(466),A=t(71),H=function(e){var n,t,a,r;return(null===e||void 0===e?void 0:e.Entry)?{Active:2,ID:(null===e||void 0===e?void 0:null===(n=e.Entry)||void 0===n?void 0:n.F_CTID)||"",ParentID:(null===e||void 0===e?void 0:null===(t=e.Entry)||void 0===t?void 0:t.F_CTParentID)||"",F_CTNameC:(null===e||void 0===e?void 0:null===(a=e.Entry)||void 0===a?void 0:a.F_CTNameC)||"",F_CTRemarkC:(null===e||void 0===e?void 0:null===(r=e.Entry)||void 0===r?void 0:r.F_CTRemarkC)||""}:{Active:1,F_CTRemarkC:"",ID:""}},L=function(){var e=function(){var e=Object(u.useState)({oneCode:"",twoCode:""}),n=Object(c.a)(e,2),t=n[0],a=n[1],r=W(),o=Object(c.a)(r,2),d=o[0],v=o[1].data,s=W(),m=Object(c.a)(s,2),f=m[0],p=m[1].data;return i.a.useEffect(function(){t.oneCode&&f({ParentID:t.oneCode})},[t.oneCode,f]),[Object(l.a)({},t,{one:v,two:p}),a,d]}(),n=Object(c.a)(e,3),t=n[0],a=n[1],d=n[2],v=Object(u.useState)(!1),s=Object(c.a)(v,2),m=s[0],f=s[1],p=Object(u.useState)({}),b=Object(c.a)(p,2),C=b[0],g=b[1];return Object(l.a)({},t,{setLinkData:a,editClick:function(e){return Object(o.a)(r.a.mark(function n(){var t,o,l,c,u;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=H(e),g(t),f(!0),n.next=5,d();case 5:o=n.sent,t.ParentID&&(3===(l=e.DisplayNumber.split("-")).length?a({oneCode:null===o||void 0===o?void 0:null===(c=o.data)||void 0===c?void 0:null===(u=c.find(function(e){return e.F_CTNumber===l[0]}))||void 0===u?void 0:u.F_CTID,twoCode:t.ParentID}):a({oneCode:t.ParentID}));case 7:case"end":return n.stop()}},n)}))},open:m,setOpen:f,editData:C,setEditData:g})},R=function(e){var n=e.oneCode,t=e.twoCode,a=e.one,u=e.two,v=e.setLinkData,s=e.open,m=e.setOpen,f=e.editData,p=e.setEditData,b=e.refreshData,C=void 0===b?function(){}:b,g=S.a.post("/Products/UpdateCommodityType"),E=Object(c.a)(g,3),O=E[0],j=E[2],y=function(){m(!1),p({}),v({oneCode:"",twoCode:""})},h=function(){var e=Object(o.a)(r.a.mark(function e(){var a,o,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(Object(l.a)({},f,{ParentID:t||n||""}));case 2:(null===(a=e.sent)||void 0===a?void 0:a.msg)&&Object(A.b)({message:null!==(o=null===a||void 0===a?void 0:a.msg)&&void 0!==o?o:"\u64cd\u4f5c\u6210\u529f"}),a.result&&(null===a||void 0===a?void 0:a.data)&&(Object(A.b)({message:null!==(c=a.msg)&&void 0!==c?c:"\u64cd\u4f5c\u6210\u529f"}),C(),y());case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return i.a.createElement(P.Box,{open:s,onClose:y,maxWidth:!1},i.a.createElement(_.a,null,"\u7f16\u8f91\u4ea7\u54c1\u7c7b\u522b"),i.a.createElement(P.Content,null,i.a.createElement("form",null,i.a.createElement(k.a,{label:"\u4e2d\u6587\u540d\u79f0",value:f.F_CTNameC,onChange:function(e){return p(Object(l.a)({},f,{F_CTNameC:e.target.value}))}}),i.a.createElement(N.a,{label:"\u4ea7\u54c1\u7c7b\u522b",placeholder:"\u9009\u62e9\u7c7b\u522b",value:n,onChange:function(e){v(function(n){return Object(l.a)({},n,{oneCode:e.target.value,twoCode:""})})}},null===a||void 0===a?void 0:a.map(function(e){return i.a.createElement(d.a,{key:"typeOptionOne".concat(e.F_CTID),value:e.F_CTID},e.F_CTNameC)})),i.a.createElement(N.a,{label:"",placeholder:"\u9009\u62e9\u7c7b\u522b",value:t,onChange:function(e){return v(function(n){return Object(l.a)({},n,{twoCode:e.target.value})})}},null===u||void 0===u?void 0:u.map(function(e){return i.a.createElement(d.a,{key:"typeOptionOne".concat(e.F_CTID),value:e.F_CTID},e.F_CTNameC)})),i.a.createElement(B.a,{loading:j?1:0,color:"primary",variant:"contained",fullWidth:!0,onClick:h},"\u4fdd\u5b58"))))},z=t(469),Q=t(159);t.d(n,"postQueryCommodityTypeChildren",function(){return W}),t.d(n,"Category",function(){return G});var J={Type:1},W=function(){return S.a.post("/Products/QueryCommodityTypeChildren",J)},G=function(e){var n,t=e.theme,a=Object(x.b)(),u=L(),s=u.editClick,m=i.a.useState({type:"",sort:1}),f=Object(c.a)(m,2),p=f[0],b=f[1],C=S.a.post("/Products/QueryCommodityType"),g=Object(c.a)(C,3),E=g[0],D=g[1],w=void 0===D?{}:D,F=g[2],I=W(),P=Object(c.a)(I,2),_=P[0],k=P[1].data,N=void 0===k?[]:k,A=W(),H=Object(c.a)(A,2),J=H[0],G=H[1].data,U=void 0===G?[]:G,q=S.a.post("/Products/SetCommodityTypeEnable"),K=Object(c.a)(q,1)[0],M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E(Object(l.a)({},p,a.pageData,e))};return i.a.useEffect(function(){E(Object(l.a)({Page:1,FloatPageCount:10,ParentID:"",SortType:1,IsAsc:0},p,a.pageData))},[E,p,a.pageData]),i.a.useEffect(function(){_()},[_]),i.a.createElement(O.Box,null,i.a.createElement("header",null,i.a.createElement(O.HeaderBox,null,i.a.createElement("header",null,"\u4ea7\u54c1\u7c7b\u522b"),i.a.createElement("section",null,"\u60a8\u53ef\u4ee5\u8fdb\u884c\u7ba1\u7406"),i.a.createElement("main",null,i.a.createElement(B.a,{variant:"contained",color:"primary",onClick:s({})},"\u65b0\u589e"))),i.a.createElement(O.HeaderBox,null,i.a.createElement("header",null,"\u7c7b\u522b\u7b5b\u9009"),i.a.createElement("main",null,i.a.createElement(T.a,{onChange:function(e){var n;b(Object(l.a)({},p,{ParentID:e.target.value,type:e.target.value,typeTwo:""})),(null===e||void 0===e?void 0:null===(n=e.target)||void 0===n?void 0:n.value)&&J({ParentID:e.target.value}),M({ParentID:e.target.value})},value:p.type,clear:1,placeholder:"\u5168\u90e8"},N.map(function(e){return i.a.createElement(d.a,{key:"typeOptionOne".concat(e.F_CTID),value:e.F_CTID},e.F_CTNameC)})),i.a.createElement(T.a,{onChange:function(e){var n,t=null===e||void 0===e?void 0:null===(n=e.target)||void 0===n?void 0:n.value;b(Object(l.a)({},p,{ParentID:""===t?p.type:t,typeTwo:t})),M({ParentID:e.target.value})},value:p.typeTwo,clear:1,placeholder:"\u5168\u90e8"},U.map(function(e){return i.a.createElement(d.a,{key:"typeOptionTwo".concat(e.F_CTID),value:e.F_CTID},e.F_CTNameC)})))),i.a.createElement(O.HeaderBox,null,i.a.createElement("header",null,"\u7c7b\u522b\u6392\u5e8f"),i.a.createElement("main",null,i.a.createElement(T.a,{placeholder:"\u9009\u62e9\u6392\u5e8f",value:p.sort,onChange:function(e){var n=function(e){return{SortType:[1,2].includes(e)?1:2,IsAsc:[1,3].includes(e)?0:1}};b(Object(l.a)({},p,n(e.target.value),{sort:e.target.value})),M(n(e.target.value))}},i.a.createElement(d.a,{value:1},"\u6309\u521b\u5efa\u65f6\u95f4-\u964d\u5e8f"),i.a.createElement(d.a,{value:2},"\u6309\u521b\u5efa\u65f6\u95f4-\u5347\u5e8f"),i.a.createElement(d.a,{value:3},"\u6309\u5e8f\u53f7-\u964d\u5e8f"),i.a.createElement(d.a,{value:4},"\u6309\u5e8f\u53f7-\u5347\u5e8f"))))),i.a.createElement("main",null,F?i.a.createElement(O.Loading,null,i.a.createElement(j.a,null)):i.a.createElement(O.Table,{theme:t},i.a.createElement(y.a,null,i.a.createElement(v.a,null,["\u7c7b\u522b\u5e8f\u53f7","\u4e2d\u6587\u540d\u79f0","\u82f1\u6587\u540d\u79f0","\u4ea7\u54c1\u79cd\u7c7b"].map(function(e){return i.a.createElement(z.a,{key:"TableHead".concat(e)},e)}),i.a.createElement(z.a,{width:150},"\u64cd\u4f5c"))),i.a.createElement(h.a,null,null===w||void 0===w?void 0:null===(n=w.data)||void 0===n?void 0:n.map(function(e){var n,t,a,l,c;return i.a.createElement(v.a,{key:"TableBody".concat(null===(n=e.Entry)||void 0===n?void 0:n.F_CTID)},i.a.createElement(z.a,null,e.GradeName),i.a.createElement(z.a,null,null===e||void 0===e?void 0:null===(t=e.Entry)||void 0===t?void 0:t.F_CTNameC),i.a.createElement(z.a,null,null===e||void 0===e?void 0:null===(a=e.Entry)||void 0===a?void 0:a.F_CTNameE),i.a.createElement(z.a,null,e.DisplayNumber),i.a.createElement(z.a,null,i.a.createElement(O.ActionTableCell,null,i.a.createElement(B.a,{color:"secondary",onClick:s(e),variant:"contained"},"\u7f16\u8f91"),i.a.createElement(B.a,{color:(null===e||void 0===e?void 0:null===(l=e.Entry)||void 0===l?void 0:l.F_CTIsEnable)?"primary":"default",variant:"contained",onClick:function(){var n;Object(Q.b)({message:"\u786e\u5b9a".concat((null===e||void 0===e?void 0:null===(n=e.Entry)||void 0===n?void 0:n.F_CTIsEnable)?"\u505c\u7528":"\u542f\u7528","\u8be5\u7c7b\u522b\u5417"),callBack:function(){var n=Object(o.a)(r.a.mark(function n(t){var a,o;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,K({ID:null===(a=e.Entry)||void 0===a?void 0:a.F_CTID,IsEnable:(null===e||void 0===e?void 0:null===(o=e.Entry)||void 0===o?void 0:o.F_CTIsEnable)?0:1});case 4:M();case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()})}},(null===e||void 0===e?void 0:null===(c=e.Entry)||void 0===c?void 0:c.F_CTIsEnable)?"\u505c\u7528":"\u542f\u7528"))))}))),i.a.createElement(x.a,Object.assign({},a,{count:~~w.maxCount,refresh:M}))),i.a.createElement(R,Object.assign({},u,{refreshData:M})))};n.default=G},466:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var a=t(35),r=t.n(a),o=t(21),l=t(69),c=t(20),u=t(0),i={ajax:function(e){return function(n,t){var a=Object(u.useState)({}),i=Object(c.a)(a,2),d=i[0],v=i[1],s=Object(u.useState)(),m=Object(c.a)(s,2),f=m[0],p=m[1],b=Object(u.useState)(!1),C=Object(c.a)(b,2),g=C[0],E=C[1];return[Object(u.useCallback)(function(){var a=Object(l.a)(r.a.mark(function a(l){var c,u,i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=Object(o.a)({},t,l),u=new FormData,Object.keys(c).forEach(function(e){u.set(e,c[e])}),E(!0),a.next=6,axios[e](n,u,{headers:{"Content-Type":"multipart/form-data"}}).catch(function(e){return p(e),e}).finally(function(){E(!1)});case 6:return i=a.sent,v((null===i||void 0===i?void 0:i.data)||{}),a.abrupt("return",(null===i||void 0===i?void 0:i.data)||{});case 9:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}(),[t,n]),d,g,f]}}};i.post=i.ajax("post"),i.get=i.ajax("get")},467:function(e,n,t){"use strict";t.d(n,"b",function(){return u}),t.d(n,"a",function(){return i});var a=t(21),r=t(20),o=t(0),l=t.n(o),c=t(493),u=function(){var e=Object(o.useState)({Page:1,FloatPageCount:10}),n=Object(r.a)(e,2),t=n[0],l=n[1];return{pageData:t,setPageData:function(e){return l(Object(a.a)({},t,e))}}},i=function(e){var n=e.pageData,t=e.setPageData,a=e.count;return l.a.createElement(c.a,{component:"div",rowsPerPageOptions:[5,10,25],count:a,rowsPerPage:n.FloatPageCount||10,page:n.Page-1||0,onChangePage:function(e,n){t({Page:n+1})},onChangeRowsPerPage:function(e){t({FloatPageCount:e.target.value})}})}},469:function(e,n,t){"use strict";var a=t(0),r=t.n(a),o=t(8),l=t(9),c=t(485);function u(){var e=Object(o.a)(["\n&&& {\n  padding-left: 0;\n  padding-right: 0;\n}\n"]);return u=function(){return e},e}var i={};i.Box=Object(l.a)(c.a)(u()),t.d(n,"a",function(){return d});var d=function(e){return r.a.createElement(i.Box,Object.assign({align:"center"},e))}}}]);
//# sourceMappingURL=6.f47930e3.chunk.js.map