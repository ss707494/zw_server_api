(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{354:function(e,a,t){"use strict";t.r(a);var n=t(13),l=t(12),r=t.n(l),i=t(17),o=t(0),c=t.n(o),d=t(162),u=t(376),m=t(101),v=t(78),s=t(381),E=t(330),p=t(60),f=t(314),y=t(393),b=t(385),g=t(388),h=t(41),O=t(384),S=t(386),C=t(18),x=t(73),j=t(163),k=t(56),T=t(328),w=t(427),M=t(322),_=t(16),D=t(158),I=t(100),L=t(127),A=t(128),H=t(515),N=t.n(H),U=t(37),P=t(539),B=t(516),K=t.n(B),z=Object(_.a)("div").withConfig({displayName:"DetailModal__OrderInfo",componentId:"xwcmri-0"})(["display:grid;grid-template-columns:120px max-content;grid-auto-rows:min-content;> *{padding:8px;}"]),q=Object(_.a)(z).withConfig({displayName:"DetailModal__SendInfo",componentId:"xwcmri-1"})([""]),F=Object(_.a)(z).withConfig({displayName:"DetailModal__UserInfo",componentId:"xwcmri-2"})([""]),J=Object(_.a)(m.a.Table).withConfig({displayName:"DetailModal__Table",componentId:"xwcmri-3"})(["thead tr th,tbody tr td{padding-top:10px;padding-bottom:10px;}"]),R=Object(_.a)("div").withConfig({displayName:"DetailModal__DetailBox",componentId:"xwcmri-4"})(["display:grid;grid-template-columns:repeat(3,minmax(200px,max-content));> *{padding:8px;}"]),W=Object(_.a)("div").withConfig({displayName:"DetailModal__TopAction",componentId:"xwcmri-5"})(["position:absolute;right:30px;top:30px;"]),G=function(){var e,a,t,n,l,r,i,d,u,m,v,s,E,f,y=Object(x.b)(D.a),g=y.actions,k=y.state;Object(o.useEffect)(function(){g.getDictList()},[g]);var _=Object(p.a)(),H=Object(x.b)(j.a),B=H.actions,G=H.state,Q=G.open,V=G.modalData,X=G.orderStateOption,Y=G.selfAddressConfig,Z=B.onClose,$=V.productList,ee=V.orderDetail;return console.log(Y),c.a.createElement(T.a,{fullWidth:!0,maxWidth:"lg",open:Q,onClose:Z},c.a.createElement(M.a,null,"\u8ba2\u5355\u8be6\u60c5"),c.a.createElement(w.a.Content,{id:"orderDetail"},c.a.createElement(W,{id:"ignoreElement"},c.a.createElement(U.a,{variant:"contained",onClick:function(){K()(window.document.querySelector("#orderDetail"),{ignoreElements:function(e){return"ignoreElement"===e.id}}).then(function(e){var a=e.toDataURL();document.createElement("img").src=a,N()({printable:a,type:"image"})})}},c.a.createElement(P.a,null),"\u6253\u5370")),c.a.createElement(R,null,c.a.createElement(z,null,c.a.createElement("aside",null,"\u8ba2\u5355\u53f7"),c.a.createElement("main",null,ee.number),c.a.createElement("aside",null,"\u521b\u5efa\u65e5\u671f"),c.a.createElement("main",null,Object(C.e)(new Date(null===ee||void 0===ee?void 0:ee.createTime),"yyyy/MM/dd HH:mm")),c.a.createElement("aside",null,"\u8ba2\u5355\u72b6\u6001"),c.a.createElement("main",null,X[I.OrderState[null!==(e=null===ee||void 0===ee?void 0:ee.state)&&void 0!==e?e:0]])),c.a.createElement(q,null,c.a.createElement("aside",null,"\u8fd0\u9001\u65b9\u5f0f"),c.a.createElement("main",null,null===k||void 0===k?void 0:null===(a=k.deliveryTypeList)||void 0===a?void 0:null===(t=a.find(function(e){return e.code===(null===ee||void 0===ee?void 0:ee.pickUpType)}))||void 0===t?void 0:t.name),c.a.createElement("aside",null,"\u8fd0\u9001\u5730\u5740"),c.a.createElement("main",null,function(){var e,a,t,n,l;if("Delivery"===(null===ee||void 0===ee?void 0:ee.pickUpType))return c.a.createElement("section",null,c.a.createElement("header",null,null===ee||void 0===ee?void 0:null===(e=ee.userAddress)||void 0===e?void 0:e.name),c.a.createElement("main",null,null===ee||void 0===ee?void 0:null===(a=ee.userAddress)||void 0===a?void 0:a.address),c.a.createElement("footer",null,null===ee||void 0===ee?void 0:null===(t=ee.userAddress)||void 0===t?void 0:t.city," ",null===ee||void 0===ee?void 0:null===(n=ee.userAddress)||void 0===n?void 0:n.province," ",null===ee||void 0===ee?void 0:null===(l=ee.userAddress)||void 0===l?void 0:l.zip));var r,i,o=null!==(r=null===Y||void 0===Y?void 0:null===(i=Y.list)||void 0===i?void 0:i.find(function(e){return e.id===(null===ee||void 0===ee?void 0:ee.selfAddressId)}))&&void 0!==r?r:{};return c.a.createElement("section",null,c.a.createElement("header",null,o.fullName),c.a.createElement("main",null,o.apartment," ",o.streetAddress),c.a.createElement("footer",null,o.city," ",o.province," ",o.zip))}())),c.a.createElement(F,null,c.a.createElement("aside",null,"\u59d3\u540d"),c.a.createElement("main",null,null===ee||void 0===ee?void 0:null===(n=ee.user)||void 0===n?void 0:null===(l=n.userInfo)||void 0===l?void 0:l.name),c.a.createElement("aside",null,"\u652f\u4ed8\u65b9\u5f0f"),c.a.createElement("main",null,"\u4fe1\u7528\u5361"),c.a.createElement("aside",null,"\u652f\u4ed8\u4fe1\u7528\u5361"),c.a.createElement("main",null,c.a.createElement("header",null,null===ee||void 0===ee?void 0:null===(r=ee.userPayCard)||void 0===r?void 0:r.code),c.a.createElement("main",null,Object(C.e)(new Date(null===ee||void 0===ee?void 0:null===(i=ee.userPayCard)||void 0===i?void 0:i.expirationTime),"MM/yy")),c.a.createElement("footer",null,null===ee||void 0===ee?void 0:null===(d=ee.userPayCard)||void 0===d?void 0:d.userName)),c.a.createElement("aside",null,"\u7535\u8bdd"),c.a.createElement("main",null,null===ee||void 0===ee?void 0:null===(u=ee.user)||void 0===u?void 0:null===(m=u.userInfo)||void 0===m?void 0:m.phone),c.a.createElement("aside",null,"\u90ae\u4ef6"),c.a.createElement("main",null,null===ee||void 0===ee?void 0:null===(v=ee.user)||void 0===v?void 0:null===(s=v.userInfo)||void 0===s?void 0:s.email))),c.a.createElement(J,{theme:_},c.a.createElement(O.a,null,c.a.createElement(b.a,null,["\u5546\u54c1\u7f16\u53f7","\u4e2d\u6587\u540d\u79f0","\u552e\u5356\u4ef7\u683c","\u8d2d\u4e70\u6570\u91cf","\u5408\u8ba1"].map(function(e){return c.a.createElement(h.a,{key:"TableHead".concat(e)},e)}))),c.a.createElement(S.a,null,null===$||void 0===$?void 0:$.map(function(e){var a,t,n=e;return c.a.createElement(b.a,{key:"TableBody".concat(null===n||void 0===n?void 0:n.id)},c.a.createElement(h.a,null,null===n||void 0===n?void 0:n.number),c.a.createElement(h.a,null,null===n||void 0===n?void 0:n.name),c.a.createElement(h.a,null,Object(C.a)(null===n||void 0===n?void 0:n.dealPrice)),c.a.createElement(h.a,null,null===n||void 0===n?void 0:n.count),c.a.createElement(h.a,null,Object(C.a)((null!==(a=null===n||void 0===n?void 0:n.count)&&void 0!==a?a:0)*(null!==(t=null===n||void 0===n?void 0:n.dealPrice)&&void 0!==t?t:0))))}),c.a.createElement(b.a,null,c.a.createElement(h.a,{colSpan:3}),c.a.createElement(h.a,null,"\u4ea7\u54c1\u603b\u8ba1"),c.a.createElement(h.a,null,Object(C.a)(ee.subtotal))),c.a.createElement(b.a,{style:{background:L.a[200]}},c.a.createElement(h.a,null,"\u4f18\u60e0\u540d\u79f0"),c.a.createElement(h.a,{colSpan:3}),c.a.createElement(h.a,null,"\u6298\u6263\u91d1\u989d")),c.a.createElement(b.a,null,c.a.createElement(h.a,{colSpan:3}),c.a.createElement(h.a,null,"\u6298\u6263\u5408\u8ba1"),c.a.createElement(h.a,null,Object(C.a)(0,"-"))),c.a.createElement(b.a,null,c.a.createElement(h.a,{colSpan:3}),c.a.createElement(h.a,null,"\u8fd0\u8d39"),c.a.createElement(h.a,null,Object(C.a)(ee.transportationCosts))),c.a.createElement(b.a,null,c.a.createElement(h.a,{colSpan:3}),c.a.createElement(h.a,null,"\u8fbe\u4eba\u5e01\u62b5\u6263"),c.a.createElement(h.a,null,Object(C.a)(ee.deductCoin,"-"))),c.a.createElement(b.a,null,c.a.createElement(h.a,{colSpan:3}),c.a.createElement(h.a,null,"\u6d88\u8d39\u7a0e"),c.a.createElement(h.a,null,Object(C.a)(ee.saleTax))),c.a.createElement(b.a,null,c.a.createElement(h.a,{colSpan:3}),c.a.createElement(h.a,null,"\u5b9e\u9645\u652f\u4ed8"),c.a.createElement(h.a,null,Object(C.a)(ee.actuallyPaid))),c.a.createElement(b.a,{style:{background:A.a[100]}},c.a.createElement(h.a,{colSpan:2}),c.a.createElement(h.a,null,null===(E=k.userLevelList)||void 0===E?void 0:null===(f=E.find(function(e){return e.code===ee.currentUserLevel}))||void 0===f?void 0:f.name),c.a.createElement(h.a,null,"\u83b7\u5f97\u8fbe\u4eba\u5e01"),c.a.createElement(h.a,null,Object(C.a)(ee.generateCoin))))),c.a.createElement("footer",null)))},Q=t(541),V=t(536),X=t(179),Y=t(155),Z=t(29);t.d(a,"OrderList",function(){return ae});var $=Object(E.a)("div")({display:"grid",gridTemplateColumns:"repeat(4, 300px)",gridTemplateRows:"min-content",gridGap:"16px"}),ee=[],ae=function(){var e,a,t=Object(p.a)(),l=Object(x.b)(j.a),E=l.state,T=l.actions,w=l.getLoad;Object(o.useEffect)(function(){T.getList()},[T]);var M=E.searchParams,_=E.orderStateSelected,L=Object(x.b)(D.a),A=L.actions,H=L.state;return Object(o.useEffect)(function(){return function(){T.clearSearch()}},[T]),Object(o.useEffect)(function(){A.getDictList()},[A]),c.a.createElement(m.a.Box,{headerColumn:1},c.a.createElement("header",null,c.a.createElement(m.a.HeaderBox,null,c.a.createElement("header",null,"\u8ba2\u5355\u5217\u8868"),c.a.createElement("section",null,"\u60a8\u53ef\u4ee5\u8fdb\u884c\u7ba1\u7406"),c.a.createElement("main",null)),c.a.createElement($,null,c.a.createElement(Q.a,{label:"\u5f00\u59cb\u65f6\u95f4",format:"yyyy/MM/dd HH:mm",value:M.startTime,onChange:function(e){return T.setSearch({startTime:e})}}),c.a.createElement(Q.a,{label:"\u7ed3\u675f\u65f6\u95f4",format:"yyyy/MM/dd HH:mm",value:M.endTime,onChange:function(e){return T.setSearch({endTime:e})}}),c.a.createElement(f.a,{select:!0,label:"\u8ba2\u5355\u72b6\u6001",value:M.state,onChange:function(e){T.setSearch({state:e.target.value})}},c.a.createElement(y.a,{value:0},"\u5168\u90e8"),I.orderStateKeys.map(function(e){return c.a.createElement(y.a,{key:"orderStateKeys_".concat(e),value:I.OrderState[e]},E.orderStateOption[e])})),c.a.createElement("div",null),c.a.createElement(f.a,{label:"\u8ba2\u5355\u53f7",value:M.number,onChange:function(e){T.setSearch({number:e.target.value})}}),c.a.createElement(f.a,{label:"\u6ce8\u518cid",value:M.registerName,onChange:function(e){T.setSearch({registerName:e.target.value})}}),c.a.createElement(f.a,{label:"\u5ba2\u6237\u540d\u79f0",value:M.userName,onChange:function(e){T.setSearch({userName:e.target.value})}}),c.a.createElement(V.a,{label:"\u53d6\u8d27\u65e5\u671f",format:"yyyy/MM/dd",value:M.pickUpTime,onChange:function(e){return T.setSearch({pickUpTime:e})}}),c.a.createElement(f.a,{label:"\u57ce\u5e02",value:M.city,onChange:function(e){T.setSearch({city:e.target.value})}}),c.a.createElement(f.a,{label:"\u5dde",value:M.province,onChange:function(e){T.setSearch({province:e.target.value})}}),c.a.createElement(f.a,{label:"\u90ae\u653f\u7f16\u7801",value:M.zip,onChange:function(e){T.setSearch({zip:e.target.value})}}),c.a.createElement(f.a,{select:!0,label:"\u53d6\u8d27\u65b9\u5f0f",value:M.pickUpType,onChange:function(e){T.setSearch({pickUpType:e.target.value})}},c.a.createElement(y.a,{value:""},"\u5168\u90e8"),null===H||void 0===H?void 0:null===(e=H.deliveryTypeList)||void 0===e?void 0:e.map(function(e){var a;return c.a.createElement(y.a,{key:"dictAllListState_".concat(e.code),value:null!==(a=e.code)&&void 0!==a?a:""},e.name)})),c.a.createElement(U.a,{variant:"outlined",onClick:function(){return T.getList()}},"\u641c\u7d22"),c.a.createElement(U.a,{variant:"outlined",color:"default",onClick:function(){T.clearSearch(),T.getList()}},"\u91cd\u7f6e"))),c.a.createElement("main",null,c.a.createElement(X.a,null,c.a.createElement(Y.a,{placeholder:"\u8ba2\u5355\u72b6\u6001",value:_,onChange:function(e){return T.setOrderStateSelected(e.target.value)}},I.orderStateKeys.map(function(e){return c.a.createElement(y.a,{key:"orderStateKeys_orderStateSelected_".concat(e),value:I.OrderState[e]},E.orderStateOption[e])})),c.a.createElement(U.a,{disabled:!E.selectItems.length||!_,onClick:Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.saveOrderState();case 2:if(!e.sent){e.next=5;break}Object(Z.b)({message:"\u64cd\u4f5c\u6210\u529f"}),T.getList();case 5:case"end":return e.stop()}},e)})),variant:"outlined"},"\u6279\u91cf\u4fee\u6539")),w(k.c)?c.a.createElement(d.a.Loading,null,c.a.createElement(s.a,null)):c.a.createElement(m.a.Table,{theme:t},c.a.createElement(O.a,null,c.a.createElement(b.a,null,c.a.createElement(h.a,null,function(){var e=E.list.filter(function(e){return!ee.includes(e.state)}).map(function(e){return e.id});return c.a.createElement(g.a,{checked:T.checkAll(e),indeterminate:T.checkIndeterminate(e),onChange:function(a){T.setSelectItems({flag:a.target.checked,items:e})}})}()),["\u8ba2\u5355\u7f16\u53f7","\u521b\u5efa\u65f6\u95f4","\u8ba2\u5355\u72b6\u6001","\u91d1\u989d","\u62b5\u6263\u8fbe\u4eba\u5e01","\u65b0\u589e\u8fbe\u4eba\u5e01","\u6ce8\u518cid","\u7528\u6237\u540d","\u57ce\u5e02","\u5dde","\u90ae\u653f\u7f16\u7801","\u53d6\u8d27\u65b9\u5f0f","\u53d6\u8d27\u65e5\u671f","\u5b8c\u6210\u65e5\u671f","\u8ba2\u5355\u8be6\u60c5"].map(function(e){return c.a.createElement(h.a,{key:"TableHead".concat(e)},e)}))),c.a.createElement(S.a,null,null===(a=E.list)||void 0===a?void 0:a.map(function(e){var a,t,l,o,d,v,s,p;return c.a.createElement(b.a,{key:"TableBody".concat(null===e||void 0===e?void 0:e.id)},c.a.createElement(h.a,null,c.a.createElement(g.a,{disabled:ee.includes(e.state),checked:E.selectItems.includes("".concat(null===e||void 0===e?void 0:e.id)),indeterminate:!1,onChange:function(a){return T.setSelectItems({flag:a.target.checked,items:[e.id]})}})),c.a.createElement(h.a,null,null===e||void 0===e?void 0:e.number),c.a.createElement(h.a,null,Object(C.e)(new Date(e.createTime),"yyyy/MM/dd HH:mm")),c.a.createElement(h.a,null,c.a.createElement(Y.a,{disabled:ee.includes(e.state),variant:"outlined",placeholder:"\u8ba2\u5355\u72b6\u6001",value:null===e||void 0===e?void 0:e.state,onChange:function(){var a=Object(i.a)(r.a.mark(function a(t){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,T.saveOneOrderState({id:e.id,state:t.target.value});case 2:if(!a.sent){a.next=5;break}Object(Z.b)({message:"\u64cd\u4f5c\u6210\u529f"}),T.getList();case 5:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},I.orderStateKeys.map(function(e){return c.a.createElement(y.a,{key:"list_orderStateKeys_orderStateSelected_".concat(e),value:I.OrderState[e]},E.orderStateOption[e])}))),c.a.createElement(h.a,null,null===e||void 0===e?void 0:e.subtotal),c.a.createElement(h.a,null,e.deductCoin),c.a.createElement(h.a,null,e.generateCoin),c.a.createElement(h.a,null,null===(a=e.user)||void 0===a?void 0:a.name),c.a.createElement(h.a,null,null===(t=e.user)||void 0===t?void 0:null===(l=t.userInfo)||void 0===l?void 0:l.name),c.a.createElement(h.a,null,null===e||void 0===e?void 0:null===(o=e.userAddress)||void 0===o?void 0:o.city),c.a.createElement(h.a,null,null===e||void 0===e?void 0:null===(d=e.userAddress)||void 0===d?void 0:d.province),c.a.createElement(h.a,null,null===e||void 0===e?void 0:null===(v=e.userAddress)||void 0===v?void 0:v.zip),c.a.createElement(h.a,null,null===H||void 0===H?void 0:null===(s=H.deliveryTypeList)||void 0===s?void 0:null===(p=s.find(function(a){return a.code===(null===e||void 0===e?void 0:e.pickUpType)}))||void 0===p?void 0:p.name),c.a.createElement(h.a,null,(null===e||void 0===e?void 0:e.pickUpTime)?Object(C.e)(new Date(null===e||void 0===e?void 0:e.pickUpTime),"yyyy/MM/dd HH:mm"):""),c.a.createElement(h.a,null,(null===e||void 0===e?void 0:e.finishTime)?Object(C.e)(new Date(null===e||void 0===e?void 0:e.finishTime),"yyyy/MM/dd HH:mm"):""),c.a.createElement(h.a,null,c.a.createElement(m.a.ActionTableCell,null,c.a.createElement(u.a,{color:"secondary",onClick:function(){var a;T.openEditClick({data:{orderDetail:e,productList:null===e||void 0===e?void 0:null===(a=e.rOrderProduct)||void 0===a?void 0:a.map(function(e){return Object(n.a)({},e,e.product)})}})},variant:"contained"},"\u8be6\u60c5"))))}))),c.a.createElement(v.b,{pageModel:l})),c.a.createElement(G,null))};a.default=ae},427:function(e,a,t){"use strict";t.d(a,"a",function(){return i});var n=t(16),l=t(323),r=t(314),i={};i.Content=Object(n.a)(l.a).withConfig({displayName:"style__Content",componentId:"icrqdu-0"})(["&&&{> footer{margin:10px 0;display:flex;> button:not(:first-of-type){margin-left:10px;}}}"]),i.TextFieldBox=Object(n.a)(r.a).withConfig({displayName:"style__TextFieldBox",componentId:"icrqdu-1"})(["&&&{padding:0 15px;}"])}}]);