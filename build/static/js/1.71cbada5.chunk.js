(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{471:function(e,t,n){"use strict";n.r(t);var a=n(23),r=n.n(a),o=n(40),c=n(19),i=n(20),l=n(525),u=n(82),d=n(0),m=n.n(d),p=n(523),s=n(554),b=n(14),g=n(551),v={};v.Box=Object(b.a)("div").withConfig({displayName:"style__Box",componentId:"lv66y5-0"})(["margin:20px;> header{display:flex;flex-direction:row;> section{flex:1;}}"]),v.Table=Object(b.a)(g.a).withConfig({displayName:"style__Table",componentId:"lv66y5-1"})(["&&&{margin-top:20px;border-radius:5px;border-collapse:initial;overflow:hidden;border:1px solid rgba(224,224,224,1);> thead{background:",";> tr > th{color:",";}}}"],function(e){return e.theme.palette.grey[800]},function(e){return e.theme.palette.common.white}),v.Loading=Object(b.a)("section").withConfig({displayName:"style__Loading",componentId:"lv66y5-2"})(["text-align:center;"]),v.ActionTableCell=Object(b.a)("section").withConfig({displayName:"style__ActionTableCell",componentId:"lv66y5-3"})(["&&&{display:flex;> button{margin-right:8px;&:last-of-type{margin-right:0;}}}"]),v.HeaderBox=Object(b.a)("section").withConfig({displayName:"style__HeaderBox",componentId:"lv66y5-4"})(["&&&{display:flex;flex-direction:column;> header{font-size:20px;font-weight:bold;margin-bottom:15px;}> section{font-weight:bold;font-size:14px;margin-bottom:10px;}> main{> div{margin-right:8px;}}}"]);var f=n(510),_=n(553),O=n(555),j=n(195),h=n(531),y=n(464),C=n(457),E=n(113),w={};w.Box=Object(b.a)(y.a).withConfig({displayName:"style__Box",componentId:"okjugs-0"})([""]),w.Content=Object(b.a)(C.a).withConfig({displayName:"style__Content",componentId:"okjugs-1"})(["&&&{width:660px;> form{margin-bottom:20px;}}"]),w.UploadFormControl=E.a.TextFieldBox;var x=n(459),k=n(188),N=n(193),B=n(72),I=n(29),S=n(524),T=n(455),$=n(467),D=n(194),L=n(102),F=n(184);function P(){var e=Object(l.a)(["\n    mutation ($data: CategoryInput){\n        save_category(Category: $data) {\n            flag\n            msg\n            category {\n                id\n                name\n            }\n        }\n    }\n"]);return P=function(){return e},e}var U=Object(F.b)(P()),q=function(e){return Object(c.a)({},e)},G=function(){var e=function(){var e=Object(d.useState)({oneCode:"",twoCode:""}),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(S.c)(R.getCategoryList),o=Object(i.a)(r,2),l=o[0],u=o[1].category_list,p=void 0===u?[]:u,s=Object(S.c)(R.getCategoryList),b=Object(i.a)(s,2),g=b[0],v=b[1].category_list,f=void 0===v?[]:v;return m.a.useEffect(function(){n.oneCode&&g({parent_id:n.oneCode})},[n.oneCode,g]),[Object(c.a)({},n,{one:p,two:f}),a,l]}(),t=Object(i.a)(e,3),n=t[0],a=t[1],l=t[2],u=Object(d.useState)(!1),p=Object(i.a)(u,2),s=p[0],b=p[1],g=Object(d.useState)({}),v=Object(i.a)(g,2),f=v[0],_=v[1];return Object(c.a)({},n,{setLinkData:a,editClick:function(e){return Object(o.a)(r.a.mark(function t(){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=q(e),_(n),b(!0),t.next=5,l({parent_id:""});case 5:(null===n||void 0===n?void 0:n.p3_id)?a({oneCode:n.p3_id,twoCode:n.p2_id}):a({oneCode:n.p2_id});case 6:case"end":return t.stop()}},t)}))},open:s,setOpen:b,editData:f,setEditData:_})},H=function(e){var t,n=e.oneCode,a=e.twoCode,l=e.one,u=e.two,s=e.setLinkData,b=e.open,g=e.setOpen,v=e.editData,f=e.setEditData,_=e.refreshData,O=void 0===_?function(){}:_,j=Object(d.useState)(),h=Object(i.a)(j,2),y=h[0],C=h[1],E=Object(S.a)(U),F=Object(i.a)(E,3),P=F[0],q=F[2],G=function(){C(null),g(!1),f({}),s({oneCode:"",twoCode:""})},H=function(){var e=Object(o.a)(r.a.mark(function e(){var t,o,c,i,l,u,d,m,p,s,b;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n&&v.c3_id||a&&v.c2_id)){e.next=3;break}return Object(I.b)({message:"\u65e0\u6cd5\u6dfb\u52a0,\u5206\u7c7b\u5c42\u7ea7\u4e0d\u53ef\u8d85\u8fc73\u7ea7"}),e.abrupt("return");case 3:if(!y){e.next=8;break}return e.next=6,Object(L.b)({},[y],"/api/fileUpload");case 6:u=e.sent,t=null!==(o=null===u||void 0===u?void 0:null===(c=u.data)||void 0===c?void 0:null===(i=c.files)||void 0===i?void 0:null===(l=i[0])||void 0===l?void 0:l.url)&&void 0!==o?o:"";case 8:return d=a||n||"",e.next=11,P({data:{id:null===v||void 0===v?void 0:v.id,name:null===v||void 0===v?void 0:v.name,parent_id:d,img_url:t}});case 11:m=e.sent,p=m.save_category,s=p.flag,b=p.msg,s&&(Object(I.b)({message:b||"\u64cd\u4f5c\u6210\u529f"}),O(),G());case 16:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return m.a.createElement(w.Box,{open:b,onClose:G,maxWidth:!1},m.a.createElement(x.a,null,"\u7f16\u8f91\u4ea7\u54c1\u7c7b\u522b"),m.a.createElement(w.Content,null,m.a.createElement("form",null,m.a.createElement(k.a,{label:"\u4e2d\u6587\u540d\u79f0",value:v.name,onChange:function(e){return f(Object(c.a)({},v,{name:e.target.value}))}}),m.a.createElement(w.UploadFormControl,{as:T.a},m.a.createElement($.a,{shrink:!0,htmlFor:"imgUpload"},"\u4e0a\u4f20\u56fe\u7247"),m.a.createElement(D.a,{initSrc:null!==(t=null===v||void 0===v?void 0:v.img_url)&&void 0!==t?t:"",onChange:function(e){C(e)}})),m.a.createElement(N.a,{label:"\u4ea7\u54c1\u7c7b\u522b",placeholder:"\u9009\u62e9\u7c7b\u522b",value:n,onChange:function(e){s(function(t){return Object(c.a)({},t,{oneCode:e.target.value,twoCode:""})})}},null===l||void 0===l?void 0:l.map(function(e){return m.a.createElement(p.a,{key:"typeOptionOne".concat(e.id),value:e.id,disabled:e.id===v.id},e.name)})),m.a.createElement(N.a,{label:"",placeholder:"\u9009\u62e9\u7c7b\u522b",value:a,onChange:function(e){return s(function(t){return Object(c.a)({},t,{twoCode:e.target.value})})}},null===u||void 0===u?void 0:u.map(function(e){return m.a.createElement(p.a,{key:"typeOptionOne".concat(e.id),value:e.id,disabled:e.id===v.id},e.name)})),m.a.createElement(B.a,{loading:q?1:0,color:"primary",variant:"contained",fullWidth:!0,onClick:H},"\u4fdd\u5b58"))))},A=n(526),W=n(190);function J(){var e=Object(l.a)(["\n      query (\n          $parent_id: String,\n          $rows_per_page: Int,\n          $page: Int,\n          $full_parent_id: String\n          $sort_type: String\n      ){\n          category_list(CategoryInput: {\n              parent_id: $parent_id\n              full_parent_id: $full_parent_id\n              rows_per_page: $rows_per_page\n              page: $page\n              sort_type: $sort_type\n          }) {\n              id\n              name\n              parent_id\n              number\n              full_parent_id\n              create_time\n              c2_name\n              c2_id\n              c3_name\n              c3_id\n              p2_name\n              p2_id\n              p3_name\n              p3_id\n              img_url\n              is_enable\n          }\n          category_total(CategoryInput: {\n              parent_id: $parent_id\n              full_parent_id: $full_parent_id\n          })\n      }\n  "]);return J=function(){return e},e}n.d(t,"categoryGraphql",function(){return R}),n.d(t,"Category",function(){return K});var z=function(e){return{sort_type:[].concat(Object(u.a)({1:["create_time desc"],2:["create_time asc"],3:["number desc"],4:["number asc"]}[e]),["id"]).join(",")}},R={getCategoryList:Object(F.b)(J())},K=function(e){var t=e.theme,n=Object(h.b)(),a=G(),l=a.editClick,u=m.a.useState({type:"",sort:1}),d=Object(i.a)(u,2),b=d[0],g=d[1],y=Object(S.c)(R.getCategoryList),C=Object(i.a)(y,2),E=C[0],w=C[1].category_list,x=void 0===w?[]:w,k=Object(S.c)(R.getCategoryList),N=Object(i.a)(k,3),I=N[0],T=N[1],$=T.category_list,D=void 0===$?[]:$,L=T.category_total,F=N[2],P=Object(S.c)(R.getCategoryList),q=Object(i.a)(P,2),J=q[0],K=q[1].category_list,M=void 0===K?[]:K,Q=Object(S.a)(U),V=Object(i.a)(Q,1)[0],X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return I(Object(c.a)({},z(1),b,n.pageData,e))};return m.a.useEffect(function(){I(Object(c.a)({},z(1),{page:0,rows_per_page:10}))},[I]),m.a.useEffect(function(){E({parent_id:""})},[E]),m.a.createElement(v.Box,null,m.a.createElement("header",null,m.a.createElement(v.HeaderBox,null,m.a.createElement("header",null,"\u4ea7\u54c1\u7c7b\u522b"),m.a.createElement("section",null,"\u60a8\u53ef\u4ee5\u8fdb\u884c\u7ba1\u7406"),m.a.createElement("main",null,m.a.createElement(B.a,{variant:"contained",color:"primary",onClick:l({})},"\u65b0\u589e"))),m.a.createElement(v.HeaderBox,null,m.a.createElement("header",null,"\u7c7b\u522b\u7b5b\u9009"),m.a.createElement("main",null,m.a.createElement(j.a,{onChange:function(e){var t;g(Object(c.a)({},b,{full_parent_id:e.target.value,type:e.target.value,typeTwo:""})),(null===e||void 0===e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)&&J({parent_id:e.target.value}),X({full_parent_id:e.target.value})},value:b.type,clear:1,placeholder:"\u5168\u90e8"},null===x||void 0===x?void 0:x.map(function(e){return m.a.createElement(p.a,{key:"typeOptionOne".concat(e.id),value:e.id},e.name)})),m.a.createElement(j.a,{onChange:function(e){var t,n=null===e||void 0===e?void 0:null===(t=e.target)||void 0===t?void 0:t.value;g(Object(c.a)({},b,{full_parent_id:""===n?b.type:n,typeTwo:n})),X({full_parent_id:e.target.value})},value:b.typeTwo,clear:1,placeholder:"\u5168\u90e8"},M.map(function(e){return m.a.createElement(p.a,{key:"typeOptionTwo".concat(e.id),value:e.id},e.name)})))),m.a.createElement(v.HeaderBox,null,m.a.createElement("header",null,"\u7c7b\u522b\u6392\u5e8f"),m.a.createElement("main",null,m.a.createElement(j.a,{placeholder:"\u9009\u62e9\u6392\u5e8f",value:b.sort,onChange:function(e){g(Object(c.a)({},b,z(e.target.value),{sort:e.target.value})),X(z(e.target.value))}},m.a.createElement(p.a,{value:1},"\u6309\u521b\u5efa\u65f6\u95f4-\u964d\u5e8f"),m.a.createElement(p.a,{value:2},"\u6309\u521b\u5efa\u65f6\u95f4-\u5347\u5e8f"),m.a.createElement(p.a,{value:3},"\u6309\u5e8f\u53f7-\u964d\u5e8f"),m.a.createElement(p.a,{value:4},"\u6309\u5e8f\u53f7-\u5347\u5e8f"))))),m.a.createElement("main",null,F?m.a.createElement(v.Loading,null,m.a.createElement(f.a,null)):m.a.createElement(v.Table,{theme:t},m.a.createElement(_.a,null,m.a.createElement(s.a,null,["\u7c7b\u522b\u5e8f\u53f7","\u4e2d\u6587\u540d\u79f0","\u82f1\u6587\u540d\u79f0","\u4ea7\u54c1\u79cd\u7c7b"].map(function(e){return m.a.createElement(A.a,{key:"TableHead".concat(e)},e)}),m.a.createElement(A.a,{width:150},"\u64cd\u4f5c"))),m.a.createElement(O.a,null,null===D||void 0===D?void 0:D.map(function(e){var t;return m.a.createElement(s.a,{key:"TableBody".concat(null===e||void 0===e?void 0:e.id)},m.a.createElement(A.a,null,null===e||void 0===e?void 0:e.number),m.a.createElement(A.a,null,null===e||void 0===e?void 0:e.name),m.a.createElement(A.a,null,null===e||void 0===e?void 0:e.name),m.a.createElement(A.a,null,null!==(t=null===e||void 0===e?void 0:e.p2_name)&&void 0!==t?t:"",(null===e||void 0===e?void 0:e.p3_name)?"-".concat(null===e||void 0===e?void 0:e.p3_name):""),m.a.createElement(A.a,null,m.a.createElement(v.ActionTableCell,null,m.a.createElement(B.a,{color:"secondary",onClick:l(e),variant:"contained"},"\u7f16\u8f91"),m.a.createElement(B.a,{color:(null===e||void 0===e?void 0:e.is_enable)?"primary":"default",variant:"contained",onClick:function(){Object(W.b)({message:"\u786e\u5b9a".concat((null===e||void 0===e?void 0:e.is_enable)?"\u505c\u7528":"\u542f\u7528","\u8be5\u7c7b\u522b\u5417"),callBack:function(){var t=Object(o.a)(r.a.mark(function t(n){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,V({data:{id:e.id,is_enable:(null===e||void 0===e?void 0:e.is_enable)?0:1}});case 4:X();case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()})}},(null===e||void 0===e?void 0:e.is_enable)?"\u505c\u7528":"\u542f\u7528"))))}))),m.a.createElement(h.a,Object.assign({},n,{count:~~L,refresh:X}))),m.a.createElement(H,Object.assign({},a,{refreshData:X})))};t.default=K},524:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return b});var a=n(23),r=n.n(a),o=n(19),c=n(40),i=n(20),l=n(0),u=(n(545),n(189)),d=function(e,t,n){var a=Object(l.useState)(),d=Object(i.a)(a,2),m=d[0],p=d[1],s=Object(l.useState)(),b=Object(i.a)(s,2),g=b[0],v=b[1],f=Object(l.useState)(!1),_=Object(i.a)(f,2),O=_[0],j=_[1];return[Object(l.useCallback)(function(){var a=Object(c.a)(r.a.mark(function a(c){var i,l;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return j(!0),a.next=3,u.a.mutate(Object(o.a)({mutation:e,variables:Object(o.a)({},n?n(c):c)},t)).catch(function(e){throw v(e),e}).finally(function(){j(!1)});case 3:return i=a.sent,l=i.data,p(l),a.abrupt("return",l);case 7:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}(),[n,e,t]),m,O,g]},m=function(e,t,n){var a,d=Object(l.useState)(),m=Object(i.a)(d,2),p=m[0],s=m[1],b=Object(l.useState)(),g=Object(i.a)(b,2),v=g[0],f=g[1],_=Object(l.useState)(!1),O=Object(i.a)(_,2),j=O[0],h=O[1];return[Object(l.useCallback)(function(){var a=Object(c.a)(r.a.mark(function a(c,i){var l,d;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return h(!0),a.next=3,u.a.query(Object(o.a)({fetchPolicy:"network-only",query:e,variables:Object(o.a)({},n?n(c):c)},t,i)).catch(function(e){throw f(e),e}).finally(function(){h(!1)});case 3:return l=a.sent,d=l.data,s(d),a.abrupt("return",d);case 7:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}(),[n,t,e]),null!==(a=p)&&void 0!==a?a:{},j,v]},p=function(e){return{data:e}},s=function(e,t){return m(e,t,p)},b=function(e,t){return d(e,t,p)}},526:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(14),c=n(552),i={};i.Box=Object(o.a)(c.a).withConfig({displayName:"style__Box",componentId:"sc-3ni4n2-0"})(["&&&{padding-left:0;padding-right:0;}"]),n.d(t,"a",function(){return l});var l=function(e){return r.a.createElement(i.Box,Object.assign({align:"center"},e))}},531:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var a=n(19),r=n(20),o=n(0),c=n.n(o),i=n(540),l=function(){var e=Object(o.useState)({page:0,rows_per_page:10}),t=Object(r.a)(e,2),n=t[0],c=t[1];return{pageData:n,setPageData:function(e){return c(Object(a.a)({},n,e))}}},u=function(e){var t=e.pageData,n=e.setPageData,a=e.count;return c.a.createElement(i.a,{component:"div",rowsPerPageOptions:[5,10,25],count:a,rowsPerPage:t.rows_per_page||10,page:t.page||0,onChangePage:function(e,t){n({page:t})},onChangeRowsPerPage:function(e){n({rows_per_page:e.target.value})}})}},538:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var a=n(525),r=n(184);function o(){var e=Object(a.a)(["\n    mutation ($data: ProductInput) {\n        save_product(ProductInput: $data) {\n            msg\n            flag\n            product {\n                id\n            }\n        }\n    }\n"]);return o=function(){return e},e}function c(){var e=Object(a.a)(["\n    query ($id: String) {\n        category_origin(id: $id) {\n            id number c2_id c2_name c3_id c3_name\n            c2_number c3_number\n        }\n    }\n"]);return c=function(){return e},e}function i(){var e=Object(a.a)(["\n    query ($data: ProductInput) {\n        product_list(ListInput: $data) {\n            id name number is_hot is_new stock price_in is_enable\n            price_market price_out weight unit brand category_id\n            c1_id c1_number c2_id c2_name c3_id c3_name\n            c2_number c3_number is_group group_amount group_precision\n            group_remark\n            imgs { id url number }\n        }\n        product_total(ListInput: $data)\n    }\n  "]);return i=function(){return e},e}var l={getList:Object(r.b)(i())},u=(Object(r.b)(c()),Object(r.b)(o()))},543:function(e,t,n){"use strict";var a=n(82),r=n(73),o=n(23),c=n.n(o),i=n(40),l=n(19),u=n(20),d=n(0),m=n.n(d),p=n(14),s=n(464),b=n(457),g=n(113),v={};v.Box=Object(p.a)(s.a).withConfig({displayName:"style__Box",componentId:"c6bdki-0"})([""]),v.Content=Object(p.a)(b.a).withConfig({displayName:"style__Content",componentId:"c6bdki-1"})(["&&&{width:960px;> form{display:grid;grid-auto-flow:column;grid-template-rows:repeat(11,minmax(48px,auto));grid-template-columns:1fr 1fr;grid-column-gap:20px;margin-bottom:20px;> button{grid-area:12 / 1 / 13 / 3;}}}"]),v.FieldTwoBox=Object(p.a)("section").withConfig({displayName:"style__FieldTwoBox",componentId:"c6bdki-2"})(["&{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:25px;}"]),v.UploadBox=Object(p.a)("main").withConfig({displayName:"style__UploadBox",componentId:"c6bdki-3"})(["&{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr) 40px;grid-gap:8px;> span{grid-area:4 / 1 / 5 / 4;}}"]),v.UploadFormControl=Object(p.a)(g.a.TextFieldBox).withConfig({displayName:"style__UploadFormControl",componentId:"c6bdki-4"})(["grid-area:6 / 2 / 12 / 3;"]);var f=n(459),_=n(188),O=n(193),j=n(523),h=n(72),y=n(29),C=n(455),E=n(467),w=n(557),x=n(556),k=n(194),N=n(102),B=n(471),I=n(524),S=n(538),T=n(61);n.d(t,"c",function(){return $}),n.d(t,"b",function(){return L}),n.d(t,"a",function(){return F});var $=function(){var e=Object(d.useState)({oneCode:"",twoCode:"",threeCode:""}),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(I.c)(B.categoryGraphql.getCategoryList),o=Object(u.a)(r,2),c=o[0],i=o[1].category_list,p=void 0===i?[]:i,s=Object(I.c)(B.categoryGraphql.getCategoryList),b=Object(u.a)(s,2),g=b[0],v=b[1].category_list,f=void 0===v?[]:v,_=Object(I.c)(B.categoryGraphql.getCategoryList),O=Object(u.a)(_,2),j=O[0],h=O[1].category_list,y=void 0===h?[]:h;return m.a.useEffect(function(){n.oneCode&&g({parent_id:n.oneCode})},[n.oneCode,g]),m.a.useEffect(function(){n.twoCode&&j({parent_id:n.twoCode})},[n.twoCode,j]),[Object(l.a)({},n,{one:p,two:f,three:y}),a,{getOne:c,getTwo:g,getThree:j}]},D=function(e){return e},L=function(){var e=$(),t=Object(u.a)(e,3),n=t[0],a=t[1],r=t[2],o=r.getOne,m=r.getTwo,p=r.getThree,s=Object(d.useState)(!1),b=Object(u.a)(s,2),g=b[0],v=b[1],f=Object(d.useState)({}),_=Object(u.a)(f,2),O=_[0],j=_[1];return Object(l.a)({},n,{setLinkData:a,editClick:function(e){return Object(i.a)(c.a.mark(function t(){var n,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),t.next=3,o({parent_id:""});case 3:if(n=D(e),!e.category_id){t.next=13;break}return t.next=7,m({parent_id:e.c3_id});case 7:return t.next=9,p({parent_id:e.c2_id});case 9:j(Object(l.a)({},n,{num:"".concat(e.c3_number,"-").concat(e.c2_number,"-").concat(e.c1_number,"-").concat(null!==(r=e.number)&&void 0!==r?r:"")})),a({oneCode:e.c3_id,twoCode:e.c2_id,threeCode:e.c1_id}),t.next=14;break;case 13:j(n);case 14:case"end":return t.stop()}},t)}))},open:g,setOpen:v,editData:O,setEditData:j})},F=function(e){var t,n,o=e.oneCode,p=e.twoCode,s=e.one,b=e.two,B=e.threeCode,$=e.three,D=e.setLinkData,L=e.open,F=e.setOpen,P=e.editData,U=e.setEditData,q=e.refreshData,G=void 0===q?function(){}:q,H=Object(I.a)(S.b),A=Object(u.a)(H,3),W=A[0],J=A[2],z=Object(d.useState)({oneNum:"",twoNum:"",threeNum:""}),R=Object(u.a)(z,2),K=R[0],M=R[1],Q=function(){D({oneCode:"",twoCode:"",threeCode:""}),ee({}),F(!1),U({})},V=function(){var e=Object(i.a)(c.a.mark(function e(){var t,n,a,r,o,i,u,d;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=Object.keys(Z)).length){e.next=6;break}return e.next=4,Object(N.b)({},t.map(function(e){return Z[e]}),"/api/fileUpload");case 4:i=e.sent,n=null!==(a=null===i||void 0===i?void 0:null===(r=i.data)||void 0===r?void 0:null===(o=r.files)||void 0===o?void 0:o.map(function(e,n){return{number:~~t[n],url:null===e||void 0===e?void 0:e.url,name:null===e||void 0===e?void 0:e.originalName}}))&&void 0!==a?a:[];case 6:return e.next=8,W({data:Object(l.a)({},Object(T.pick)(P,["id","name","remark","is_hot","is_new","stock","unit","weight","price_in","price_out","price_market","brand","is_group","group_amount","group_precision","group_remark"]),{category_id:B,imgs:n})});case 8:u=e.sent,(d=u.save_product).flag&&(Object(y.b)({message:(null===d||void 0===d?void 0:d.msg)||"\u64cd\u4f5c\u6210\u529f"}),Q(),G());case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();m.a.useEffect(function(){var e,t,n;M({oneNum:null!==(e=P.c3_number)&&void 0!==e?e:"",twoNum:null!==(t=P.c2_number)&&void 0!==t?t:"",threeNum:null!==(n=P.c1_number)&&void 0!==n?n:""})},[P.c1_number,P.c2_number,P.c3_number]),m.a.useEffect(function(){(K.oneNum||K.twoNum||K.threeNum)&&U(function(e){var t;return Object(l.a)({},e,{num:"".concat(K.oneNum,"-").concat(K.twoNum,"-").concat(K.threeNum,"-").concat(null!==(t=P.number)&&void 0!==t?t:"")||""})})},[P.number,U,K]);var X=Object(d.useState)({}),Y=Object(u.a)(X,2),Z=Y[0],ee=Y[1];return m.a.createElement(v.Box,{open:L,onClose:Q,maxWidth:!1},m.a.createElement(f.a,null,"\u65b0\u589e\u4ea7\u54c1"),m.a.createElement(v.Content,null,m.a.createElement("form",null,m.a.createElement(g.a.TextFieldBox,{as:C.a},m.a.createElement(E.a,{shrink:!0,htmlFor:"tag"},"\u662f\u5426\u62fc\u56e2"),m.a.createElement(x.a,{control:m.a.createElement(w.a,{checked:!!P.is_group||!1,onChange:function(e){return U(Object(l.a)({},P,{is_group:e.target.checked?1:0}))}}),label:""})),m.a.createElement(_.a,{InputProps:{readOnly:!0},label:"\u4ea7\u54c1\u7f16\u53f7",value:P.num}),m.a.createElement(O.a,{label:"",placeholder:"\u9009\u62e9\u7c7b\u522b",value:o,onChange:function(e,t){D(function(t){return Object(l.a)({},t,{oneCode:e.target.value,twoCode:"",threeCode:""})}),M(function(e){return Object(l.a)({},e,{oneNum:t.props.num})})}},null===s||void 0===s?void 0:s.map(function(e){return m.a.createElement(j.a,{key:"typeOptionOne".concat(e.id),value:null===e||void 0===e?void 0:e.id,num:null===e||void 0===e?void 0:e.number},e.name)})),m.a.createElement(O.a,{label:"",placeholder:"\u9009\u62e9\u7c7b\u522b",value:p,onChange:function(e,t){D(function(t){return Object(l.a)({},t,{twoCode:e.target.value,threeCode:""})}),M(function(e){return Object(l.a)({},e,{twoNum:t.props.num})})}},null===b||void 0===b?void 0:b.map(function(e){return m.a.createElement(j.a,{key:"typeOptionOne".concat(e.id),value:e.id,num:null===e||void 0===e?void 0:e.number},e.name)})),m.a.createElement(O.a,{label:"",placeholder:"\u9009\u62e9\u7c7b\u522b",value:B,onChange:function(e,t){D(function(t){return Object(l.a)({},t,{threeCode:e.target.value})}),M(function(e){return Object(l.a)({},e,{threeNum:t.props.num})})}},null===$||void 0===$?void 0:$.map(function(e){return m.a.createElement(j.a,{key:"typeOptionOne".concat(e.id),value:e.id,num:null===e||void 0===e?void 0:e.number},e.name)})),m.a.createElement(_.a,{label:"\u4e2d\u6587\u540d\u79f0",value:P.name,onChange:function(e){return U(Object(l.a)({},P,{name:e.target.value}))}}),m.a.createElement(g.a.TextFieldBox,{as:C.a},m.a.createElement(E.a,{shrink:!0,htmlFor:"tag"},"\u4e0a\u67b6\u7c7b\u578b"),m.a.createElement(x.a,{control:m.a.createElement(w.a,{checked:!!P.is_new||!1,onChange:function(e){return U(Object(l.a)({},P,{is_new:e.target.checked?1:0}))}}),label:"\u65b0\u54c1"}),m.a.createElement(x.a,{control:m.a.createElement(w.a,{checked:null!==(t=!!P.is_hot)&&void 0!==t&&t,onChange:function(e){return U(Object(l.a)({},P,{is_hot:e.target.checked?1:0}))}}),label:"\u70ed\u95e8"})),m.a.createElement(_.a,{label:"\u5e93\u5b58",type:"number",value:P.stock,onChange:function(e){return U(Object(l.a)({},P,{stock:Object(N.h)(e.target.value)}))}}),m.a.createElement(_.a,{label:"\u8fdb\u8d27\u4ef7\u683c",type:"number",value:P.price_in,onChange:function(e){return U(Object(l.a)({},P,{price_in:Object(N.h)(e.target.value)}))}}),m.a.createElement(_.a,{label:"\u54c1\u724c\u540d\u79f0",value:P.brand,onChange:function(e){return U(Object(l.a)({},P,{brand:e.target.value}))}}),m.a.createElement(_.a,{label:"\u5e02\u573a\u4ef7\u683c",type:"number",value:P.price_market,onChange:function(e){return U(Object(l.a)({},P,{price_market:Object(N.h)(e.target.value)}))}}),m.a.createElement(_.a,{label:"\u552e\u5356\u4ef7\u683c",type:"number",value:P.price_out,onChange:function(e){return U(Object(l.a)({},P,{price_out:Object(N.h)(e.target.value)}))}}),m.a.createElement(v.FieldTwoBox,null,m.a.createElement(_.a,{label:"\u91cd\u91cf",type:"number",value:P.weight,onChange:function(e){return U(Object(l.a)({},P,{weight:Object(N.h)(e.target.value)}))}}),m.a.createElement(O.a,{label:"\u5355\u4f4d",value:P.unit,onChange:function(e){return U(Object(l.a)({},P,{unit:e.target.value}))}},null===(n=[["g","\u514b/g"]])||void 0===n?void 0:n.map(function(e){return m.a.createElement(j.a,{key:"unit".concat(e[0]),value:e[0]},e[1])}))),m.a.createElement(_.a,{label:"\u62fc\u56e2\u6570\u91cf",type:"number",value:P.group_amount,onChange:function(e){return U(Object(l.a)({},P,{group_amount:Object(N.h)(e.target.value)}))}}),m.a.createElement(_.a,{label:"\u62fc\u56e2\u7cbe\u5ea6",type:"number",value:P.group_precision,onChange:function(e){return U(Object(l.a)({},P,{group_precision:Object(N.h)(e.target.value)}))}}),m.a.createElement(_.a,{label:"\u62fc\u56e2\u63cf\u8ff0",value:P.group_remark,placeholder:"\u6574\u7bb1",onChange:function(e){return U(Object(l.a)({},P,{group_remark:e.target.value}))}}),m.a.createElement(v.UploadFormControl,{as:C.a},m.a.createElement(E.a,{shrink:!0,htmlFor:"imgUpload"},"\u4e0a\u4f20\u56fe\u7247"),m.a.createElement(v.UploadBox,null,Object(a.a)(Array(7).keys()).map(function(e){var t,n,a,o;return m.a.createElement(k.a,{key:"ImgUpload".concat(e),initSrc:null!==(t=(null===P||void 0===P?void 0:P.imgs)&&(null===P||void 0===P?void 0:null===(n=P.imgs)||void 0===n?void 0:null===(a=n.find(function(t){return t.number===~~e}))||void 0===a?void 0:a.url))&&void 0!==t?t:"",onChange:(o=e,function(e){ee(Object(l.a)({},Z,Object(r.a)({},o,e)))})})}),m.a.createElement("span",null,"\u6700\u591a\u652f\u6301\u4e0a\u4f207\u5f20\u56fe\u7247,\u6bcf\u5f20\u56fe\u7247\u5927\u5c0f\u4e0d\u8d85\u8fc71m,\u6587\u4ef6\u683c\u5f0f\u4ec5\u652f\u6301PNG/JPG"))),m.a.createElement(h.a,{loading:J?1:0,color:"primary",variant:"contained",fullWidth:!0,onClick:V},"\u4fdd\u5b58"))))}}}]);